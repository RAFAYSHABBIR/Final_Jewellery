function K1(h,g){for(var d=0;d<g.length;d++){const w=g[d];if(typeof w!="string"&&!Array.isArray(w)){for(const E in w)if(E!=="default"&&!(E in h)){const y=Object.getOwnPropertyDescriptor(w,E);y&&Object.defineProperty(h,E,y.get?y:{enumerable:!0,get:()=>w[E]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))w(E);new MutationObserver(E=>{for(const y of E)if(y.type==="childList")for(const N of y.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&w(N)}).observe(document,{childList:!0,subtree:!0});function d(E){const y={};return E.integrity&&(y.integrity=E.integrity),E.referrerPolicy&&(y.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?y.credentials="include":E.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function w(E){if(E.ep)return;E.ep=!0;const y=d(E);fetch(E.href,y)}})();var ba=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q1(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var su={exports:{}},Ao={},ou={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function af(){if(m1)return qe;m1=1;var h=Symbol.for("react.element"),g=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),D=Symbol.iterator;function ae(j){return j===null||typeof j!="object"?null:(j=D&&j[D]||j["@@iterator"],typeof j=="function"?j:null)}var he={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Re=Object.assign,te={};function ee(j,Q,Fe){this.props=j,this.context=Q,this.refs=te,this.updater=Fe||he}ee.prototype.isReactComponent={},ee.prototype.setState=function(j,Q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Q,"setState")},ee.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function He(){}He.prototype=ee.prototype;function Te(j,Q,Fe){this.props=j,this.context=Q,this.refs=te,this.updater=Fe||he}var fe=Te.prototype=new He;fe.constructor=Te,Re(fe,ee.prototype),fe.isPureReactComponent=!0;var ve=Array.isArray,yt=Object.prototype.hasOwnProperty,We={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function Ge(j,Q,Fe){var De,et={},ue=null,ft=null;if(Q!=null)for(De in Q.ref!==void 0&&(ft=Q.ref),Q.key!==void 0&&(ue=""+Q.key),Q)yt.call(Q,De)&&!ne.hasOwnProperty(De)&&(et[De]=Q[De]);var Pe=arguments.length-2;if(Pe===1)et.children=Fe;else if(1<Pe){for(var dt=Array(Pe),Kt=0;Kt<Pe;Kt++)dt[Kt]=arguments[Kt+2];et.children=dt}if(j&&j.defaultProps)for(De in Pe=j.defaultProps,Pe)et[De]===void 0&&(et[De]=Pe[De]);return{$$typeof:h,type:j,key:ue,ref:ft,props:et,_owner:We.current}}function se(j,Q){return{$$typeof:h,type:j.type,key:Q,ref:j.ref,props:j.props,_owner:j._owner}}function wn(j){return typeof j=="object"&&j!==null&&j.$$typeof===h}function Bt(j){var Q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Fe){return Q[Fe]})}var Me=/\/+/g;function Ye(j,Q){return typeof j=="object"&&j!==null&&j.key!=null?Bt(""+j.key):Q.toString(36)}function ct(j,Q,Fe,De,et){var ue=typeof j;(ue==="undefined"||ue==="boolean")&&(j=null);var ft=!1;if(j===null)ft=!0;else switch(ue){case"string":case"number":ft=!0;break;case"object":switch(j.$$typeof){case h:case g:ft=!0}}if(ft)return ft=j,et=et(ft),j=De===""?"."+Ye(ft,0):De,ve(et)?(Fe="",j!=null&&(Fe=j.replace(Me,"$&/")+"/"),ct(et,Q,Fe,"",function(Kt){return Kt})):et!=null&&(wn(et)&&(et=se(et,Fe+(!et.key||ft&&ft.key===et.key?"":(""+et.key).replace(Me,"$&/")+"/")+j)),Q.push(et)),1;if(ft=0,De=De===""?".":De+":",ve(j))for(var Pe=0;Pe<j.length;Pe++){ue=j[Pe];var dt=De+Ye(ue,Pe);ft+=ct(ue,Q,Fe,dt,et)}else if(dt=ae(j),typeof dt=="function")for(j=dt.call(j),Pe=0;!(ue=j.next()).done;)ue=ue.value,dt=De+Ye(ue,Pe++),ft+=ct(ue,Q,Fe,dt,et);else if(ue==="object")throw Q=String(j),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return ft}function Z(j,Q,Fe){if(j==null)return j;var De=[],et=0;return ct(j,De,"","",function(ue){return Q.call(Fe,ue,et++)}),De}function it(j){if(j._status===-1){var Q=j._result;Q=Q(),Q.then(function(Fe){(j._status===0||j._status===-1)&&(j._status=1,j._result=Fe)},function(Fe){(j._status===0||j._status===-1)&&(j._status=2,j._result=Fe)}),j._status===-1&&(j._status=0,j._result=Q)}if(j._status===1)return j._result.default;throw j._result}var Ae={current:null},de={transition:null},Ne={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:de,ReactCurrentOwner:We};function ge(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:Z,forEach:function(j,Q,Fe){Z(j,function(){Q.apply(this,arguments)},Fe)},count:function(j){var Q=0;return Z(j,function(){Q++}),Q},toArray:function(j){return Z(j,function(Q){return Q})||[]},only:function(j){if(!wn(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},qe.Component=ee,qe.Fragment=d,qe.Profiler=E,qe.PureComponent=Te,qe.StrictMode=w,qe.Suspense=R,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ne,qe.act=ge,qe.cloneElement=function(j,Q,Fe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var De=Re({},j.props),et=j.key,ue=j.ref,ft=j._owner;if(Q!=null){if(Q.ref!==void 0&&(ue=Q.ref,ft=We.current),Q.key!==void 0&&(et=""+Q.key),j.type&&j.type.defaultProps)var Pe=j.type.defaultProps;for(dt in Q)yt.call(Q,dt)&&!ne.hasOwnProperty(dt)&&(De[dt]=Q[dt]===void 0&&Pe!==void 0?Pe[dt]:Q[dt])}var dt=arguments.length-2;if(dt===1)De.children=Fe;else if(1<dt){Pe=Array(dt);for(var Kt=0;Kt<dt;Kt++)Pe[Kt]=arguments[Kt+2];De.children=Pe}return{$$typeof:h,type:j.type,key:et,ref:ue,props:De,_owner:ft}},qe.createContext=function(j){return j={$$typeof:N,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:y,_context:j},j.Consumer=j},qe.createElement=Ge,qe.createFactory=function(j){var Q=Ge.bind(null,j);return Q.type=j,Q},qe.createRef=function(){return{current:null}},qe.forwardRef=function(j){return{$$typeof:L,render:j}},qe.isValidElement=wn,qe.lazy=function(j){return{$$typeof:P,_payload:{_status:-1,_result:j},_init:it}},qe.memo=function(j,Q){return{$$typeof:I,type:j,compare:Q===void 0?null:Q}},qe.startTransition=function(j){var Q=de.transition;de.transition={};try{j()}finally{de.transition=Q}},qe.unstable_act=ge,qe.useCallback=function(j,Q){return Ae.current.useCallback(j,Q)},qe.useContext=function(j){return Ae.current.useContext(j)},qe.useDebugValue=function(){},qe.useDeferredValue=function(j){return Ae.current.useDeferredValue(j)},qe.useEffect=function(j,Q){return Ae.current.useEffect(j,Q)},qe.useId=function(){return Ae.current.useId()},qe.useImperativeHandle=function(j,Q,Fe){return Ae.current.useImperativeHandle(j,Q,Fe)},qe.useInsertionEffect=function(j,Q){return Ae.current.useInsertionEffect(j,Q)},qe.useLayoutEffect=function(j,Q){return Ae.current.useLayoutEffect(j,Q)},qe.useMemo=function(j,Q){return Ae.current.useMemo(j,Q)},qe.useReducer=function(j,Q,Fe){return Ae.current.useReducer(j,Q,Fe)},qe.useRef=function(j){return Ae.current.useRef(j)},qe.useState=function(j){return Ae.current.useState(j)},qe.useSyncExternalStore=function(j,Q,Fe){return Ae.current.useSyncExternalStore(j,Q,Fe)},qe.useTransition=function(){return Ae.current.useTransition()},qe.version="18.3.1",qe}var w1;function mu(){return w1||(w1=1,ou.exports=af()),ou.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function lf(){if(y1)return Ao;y1=1;var h=mu(),g=Symbol.for("react.element"),d=Symbol.for("react.fragment"),w=Object.prototype.hasOwnProperty,E=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y={key:!0,ref:!0,__self:!0,__source:!0};function N(L,R,I){var P,D={},ae=null,he=null;I!==void 0&&(ae=""+I),R.key!==void 0&&(ae=""+R.key),R.ref!==void 0&&(he=R.ref);for(P in R)w.call(R,P)&&!y.hasOwnProperty(P)&&(D[P]=R[P]);if(L&&L.defaultProps)for(P in R=L.defaultProps,R)D[P]===void 0&&(D[P]=R[P]);return{$$typeof:g,type:L,key:ae,ref:he,props:D,_owner:E.current}}return Ao.Fragment=d,Ao.jsx=N,Ao.jsxs=N,Ao}var C1;function uf(){return C1||(C1=1,su.exports=lf()),su.exports}var X=uf(),au={exports:{}},Un={},lu={exports:{}},uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function cf(){return E1||(E1=1,(function(h){function g(de,Ne){var ge=de.length;de.push(Ne);e:for(;0<ge;){var j=ge-1>>>1,Q=de[j];if(0<E(Q,Ne))de[j]=Ne,de[ge]=Q,ge=j;else break e}}function d(de){return de.length===0?null:de[0]}function w(de){if(de.length===0)return null;var Ne=de[0],ge=de.pop();if(ge!==Ne){de[0]=ge;e:for(var j=0,Q=de.length,Fe=Q>>>1;j<Fe;){var De=2*(j+1)-1,et=de[De],ue=De+1,ft=de[ue];if(0>E(et,ge))ue<Q&&0>E(ft,et)?(de[j]=ft,de[ue]=ge,j=ue):(de[j]=et,de[De]=ge,j=De);else if(ue<Q&&0>E(ft,ge))de[j]=ft,de[ue]=ge,j=ue;else break e}}return Ne}function E(de,Ne){var ge=de.sortIndex-Ne.sortIndex;return ge!==0?ge:de.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var y=performance;h.unstable_now=function(){return y.now()}}else{var N=Date,L=N.now();h.unstable_now=function(){return N.now()-L}}var R=[],I=[],P=1,D=null,ae=3,he=!1,Re=!1,te=!1,ee=typeof setTimeout=="function"?setTimeout:null,He=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function fe(de){for(var Ne=d(I);Ne!==null;){if(Ne.callback===null)w(I);else if(Ne.startTime<=de)w(I),Ne.sortIndex=Ne.expirationTime,g(R,Ne);else break;Ne=d(I)}}function ve(de){if(te=!1,fe(de),!Re)if(d(R)!==null)Re=!0,it(yt);else{var Ne=d(I);Ne!==null&&Ae(ve,Ne.startTime-de)}}function yt(de,Ne){Re=!1,te&&(te=!1,He(Ge),Ge=-1),he=!0;var ge=ae;try{for(fe(Ne),D=d(R);D!==null&&(!(D.expirationTime>Ne)||de&&!Bt());){var j=D.callback;if(typeof j=="function"){D.callback=null,ae=D.priorityLevel;var Q=j(D.expirationTime<=Ne);Ne=h.unstable_now(),typeof Q=="function"?D.callback=Q:D===d(R)&&w(R),fe(Ne)}else w(R);D=d(R)}if(D!==null)var Fe=!0;else{var De=d(I);De!==null&&Ae(ve,De.startTime-Ne),Fe=!1}return Fe}finally{D=null,ae=ge,he=!1}}var We=!1,ne=null,Ge=-1,se=5,wn=-1;function Bt(){return!(h.unstable_now()-wn<se)}function Me(){if(ne!==null){var de=h.unstable_now();wn=de;var Ne=!0;try{Ne=ne(!0,de)}finally{Ne?Ye():(We=!1,ne=null)}}else We=!1}var Ye;if(typeof Te=="function")Ye=function(){Te(Me)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,Z=ct.port2;ct.port1.onmessage=Me,Ye=function(){Z.postMessage(null)}}else Ye=function(){ee(Me,0)};function it(de){ne=de,We||(We=!0,Ye())}function Ae(de,Ne){Ge=ee(function(){de(h.unstable_now())},Ne)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(de){de.callback=null},h.unstable_continueExecution=function(){Re||he||(Re=!0,it(yt))},h.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<de?Math.floor(1e3/de):5},h.unstable_getCurrentPriorityLevel=function(){return ae},h.unstable_getFirstCallbackNode=function(){return d(R)},h.unstable_next=function(de){switch(ae){case 1:case 2:case 3:var Ne=3;break;default:Ne=ae}var ge=ae;ae=Ne;try{return de()}finally{ae=ge}},h.unstable_pauseExecution=function(){},h.unstable_requestPaint=function(){},h.unstable_runWithPriority=function(de,Ne){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var ge=ae;ae=de;try{return Ne()}finally{ae=ge}},h.unstable_scheduleCallback=function(de,Ne,ge){var j=h.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?j+ge:j):ge=j,de){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ge+Q,de={id:P++,callback:Ne,priorityLevel:de,startTime:ge,expirationTime:Q,sortIndex:-1},ge>j?(de.sortIndex=ge,g(I,de),d(R)===null&&de===d(I)&&(te?(He(Ge),Ge=-1):te=!0,Ae(ve,ge-j))):(de.sortIndex=Q,g(R,de),Re||he||(Re=!0,it(yt))),de},h.unstable_shouldYield=Bt,h.unstable_wrapCallback=function(de){var Ne=ae;return function(){var ge=ae;ae=Ne;try{return de.apply(this,arguments)}finally{ae=ge}}}})(uu)),uu}var A1;function ff(){return A1||(A1=1,lu.exports=cf()),lu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function df(){if(S1)return Un;S1=1;var h=mu(),g=ff();function d(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=new Set,E={};function y(t,i){N(t,i),N(t+"Capture",i)}function N(t,i){for(E[t]=i,t=0;t<i.length;t++)w.add(i[t])}var L=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R=Object.prototype.hasOwnProperty,I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P={},D={};function ae(t){return R.call(D,t)?!0:R.call(P,t)?!1:I.test(t)?D[t]=!0:(P[t]=!0,!1)}function he(t,i,l,c){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Re(t,i,l,c){if(i===null||typeof i>"u"||he(t,i,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function te(t,i,l,c,x,m,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=x,this.mustUseProperty=l,this.propertyName=t,this.type=i,this.sanitizeURL=m,this.removeEmptyString=v}var ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ee[t]=new te(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];ee[i]=new te(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){ee[t]=new te(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ee[t]=new te(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ee[t]=new te(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){ee[t]=new te(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){ee[t]=new te(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){ee[t]=new te(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){ee[t]=new te(t,5,!1,t.toLowerCase(),null,!1,!1)});var He=/[\-:]([a-z])/g;function Te(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(He,Te);ee[i]=new te(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(He,Te);ee[i]=new te(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(He,Te);ee[i]=new te(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){ee[t]=new te(t,1,!1,t.toLowerCase(),null,!1,!1)}),ee.xlinkHref=new te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){ee[t]=new te(t,1,!1,t.toLowerCase(),null,!0,!0)});function fe(t,i,l,c){var x=ee.hasOwnProperty(i)?ee[i]:null;(x!==null?x.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(Re(i,l,x,c)&&(l=null),c||x===null?ae(i)&&(l===null?t.removeAttribute(i):t.setAttribute(i,""+l)):x.mustUseProperty?t[x.propertyName]=l===null?x.type===3?!1:"":l:(i=x.attributeName,c=x.attributeNamespace,l===null?t.removeAttribute(i):(x=x.type,l=x===3||x===4&&l===!0?"":""+l,c?t.setAttributeNS(c,i,l):t.setAttribute(i,l))))}var ve=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yt=Symbol.for("react.element"),We=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),Ge=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),wn=Symbol.for("react.provider"),Bt=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),Ye=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),de=Symbol.iterator;function Ne(t){return t===null||typeof t!="object"?null:(t=de&&t[de]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,j;function Q(t){if(j===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||""}return`
`+j+t}var Fe=!1;function De(t,i){if(!t||Fe)return"";Fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Y){var c=Y}Reflect.construct(t,[],i)}else{try{i.call()}catch(Y){c=Y}t.call(i.prototype)}else{try{throw Error()}catch(Y){c=Y}t()}}catch(Y){if(Y&&c&&typeof Y.stack=="string"){for(var x=Y.stack.split(`
`),m=c.stack.split(`
`),v=x.length-1,O=m.length-1;1<=v&&0<=O&&x[v]!==m[O];)O--;for(;1<=v&&0<=O;v--,O--)if(x[v]!==m[O]){if(v!==1||O!==1)do if(v--,O--,0>O||x[v]!==m[O]){var k=`
`+x[v].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=v&&0<=O);break}}}finally{Fe=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?Q(t):""}function et(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=De(t.type,!1),t;case 11:return t=De(t.type.render,!1),t;case 1:return t=De(t.type,!0),t;default:return""}}function ue(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case We:return"Portal";case se:return"Profiler";case Ge:return"StrictMode";case Ye:return"Suspense";case ct:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bt:return(t.displayName||"Context")+".Consumer";case wn:return(t._context.displayName||"Context")+".Provider";case Me:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:ue(t.type)||"Memo";case it:i=t._payload,t=t._init;try{return ue(t(i))}catch{}}return null}function ft(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(i);case 8:return i===Ge?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Pe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dt(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Kt(t){var i=dt(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var x=l.get,m=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return x.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function qt(t){t._valueTracker||(t._valueTracker=Kt(t))}function Oi(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return t&&(c=dt(t)?t.checked?"true":"false":t.value),t=c,t!==l?(i.setValue(t),!0):!1}function tt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sr(t,i){var l=i.checked;return ge({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function jn(t,i){var l=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;l=Pe(i.value!=null?i.value:l),t._wrapperState={initialChecked:c,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Kr(t,i){i=i.checked,i!=null&&fe(t,"checked",i,!1)}function zt(t,i){Kr(t,i);var l=Pe(i.value),c=i.type;if(l!=null)c==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?Je(t,i.type,l):i.hasOwnProperty("defaultValue")&&Je(t,i.type,Pe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function pt(t,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,l||i===t.value||(t.value=i),t.defaultValue=i}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function Je(t,i,l){(i!=="number"||tt(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var Ir=Array.isArray;function we(t,i,l,c){if(t=t.options,i){i={};for(var x=0;x<l.length;x++)i["$"+l[x]]=!0;for(l=0;l<t.length;l++)x=i.hasOwnProperty("$"+t[l].value),t[l].selected!==x&&(t[l].selected=x),x&&c&&(t[l].defaultSelected=!0)}else{for(l=""+Pe(l),i=null,x=0;x<t.length;x++){if(t[x].value===l){t[x].selected=!0,c&&(t[x].defaultSelected=!0);return}i!==null||t[x].disabled||(i=t[x])}i!==null&&(i.selected=!0)}}function qr(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(d(91));return ge({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ls(t,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(d(92));if(Ir(l)){if(1<l.length)throw Error(d(93));l=l[0]}i=l}i==null&&(i=""),l=i}t._wrapperState={initialValue:Pe(l)}}function tr(t,i){var l=Pe(i.value),c=Pe(i.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),i.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),c!=null&&(t.defaultValue=""+c)}function ns(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function On(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rs(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?On(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zn,on=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,c,x){MSApp.execUnsafeLocalFunction(function(){return t(i,l,c,x)})}:t})(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(zn=zn||document.createElement("div"),zn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=zn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function Jr(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fa=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(t){Fa.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),vr[i]=vr[t]})});function Dt(t,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||vr.hasOwnProperty(t)&&vr[t]?(""+i).trim():i+"px"}function ce(t,i){t=t.style;for(var l in i)if(i.hasOwnProperty(l)){var c=l.indexOf("--")===0,x=Dt(l,i[l],c);l==="float"&&(l="cssFloat"),c?t.setProperty(l,x):t[l]=x}}var Ht=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lt(t,i){if(i){if(Ht[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(d(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(d(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(d(61))}if(i.style!=null&&typeof i.style!="object")throw Error(d(62))}}function At(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kr=null;function Ri(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var is=null,Ke=null,Rn=null;function ks(t){if(t=oo(t)){if(typeof is!="function")throw Error(d(280));var i=t.stateNode;i&&(i=Zo(i),is(t.stateNode,t.type,i))}}function Bs(t){Ke?Rn?Rn.push(t):Rn=[t]:Ke=t}function Dn(){if(Ke){var t=Ke,i=Rn;if(Rn=Ke=null,ks(t),i)for(t=0;t<i.length;t++)ks(i[t])}}function ss(t,i){return t(i)}function Jt(){}var Tr=!1;function Di(t,i,l){if(Tr)return t(i,l);Tr=!0;try{return ss(t,i,l)}finally{Tr=!1,(Ke!==null||Rn!==null)&&(Jt(),Dn())}}function yn(t,i){var l=t.stateNode;if(l===null)return null;var c=Zo(l);if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(d(231,i,typeof l));return l}var Ps=!1;if(L)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{Ps=!1}function Fs(t,i,l,c,x,m,v,O,k){var Y=Array.prototype.slice.call(arguments,3);try{i.apply(l,Y)}catch($){this.onError($)}}var Zt=!1,nr=null,dn=!1,xe=null,$r={onError:function(t){Zt=!0,nr=t}};function Us(t,i,l,c,x,m,v,O,k){Zt=!1,nr=null,Fs.apply($r,arguments)}function Cn(t,i,l,c,x,m,v,O,k){if(Us.apply(this,arguments),Zt){if(Zt){var Y=nr;Zt=!1,nr=null}else throw Error(d(198));dn||(dn=!0,xe=Y)}}function bn(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function bi(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Li(t){if(bn(t)!==t)throw Error(d(188))}function rr(t){var i=t.alternate;if(!i){if(i=bn(t),i===null)throw Error(d(188));return i!==t?null:t}for(var l=t,c=i;;){var x=l.return;if(x===null)break;var m=x.alternate;if(m===null){if(c=x.return,c!==null){l=c;continue}break}if(x.child===m.child){for(m=x.child;m;){if(m===l)return Li(x),t;if(m===c)return Li(x),i;m=m.sibling}throw Error(d(188))}if(l.return!==c.return)l=x,c=m;else{for(var v=!1,O=x.child;O;){if(O===l){v=!0,l=x,c=m;break}if(O===c){v=!0,c=x,l=m;break}O=O.sibling}if(!v){for(O=m.child;O;){if(O===l){v=!0,l=m,c=x;break}if(O===c){v=!0,c=m,l=x;break}O=O.sibling}if(!v)throw Error(d(189))}}if(l.alternate!==c)throw Error(d(190))}if(l.tag!==3)throw Error(d(188));return l.stateNode.current===l?t:i}function No(t){return t=rr(t),t!==null?_o(t):null}function _o(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=_o(t);if(i!==null)return i;t=t.sibling}return null}var Vn=g.unstable_scheduleCallback,an=g.unstable_cancelCallback,St=g.unstable_shouldYield,Mo=g.unstable_requestPaint,ht=g.unstable_now,js=g.unstable_getCurrentPriorityLevel,K=g.unstable_ImmediatePriority,Oo=g.unstable_UserBlockingPriority,Ct=g.unstable_NormalPriority,ei=g.unstable_LowPriority,Ro=g.unstable_IdlePriority,rt=null,Xe=null;function $e(t){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(rt,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:Vt,zs=Math.log,Hs=Math.LN2;function Vt(t){return t>>>=0,t===0?32:31-(zs(t)/Hs|0)|0}var Wn=64,os=4194304;function Et(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gn(t,i){var l=t.pendingLanes;if(l===0)return 0;var c=0,x=t.suspendedLanes,m=t.pingedLanes,v=l&268435455;if(v!==0){var O=v&~x;O!==0?c=Et(O):(m&=v,m!==0&&(c=Et(m)))}else v=l&~x,v!==0?c=Et(v):m!==0&&(c=Et(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&x)===0&&(x=c&-c,m=i&-i,x>=m||x===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=l&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=c;0<i;)l=31-Nn(i),x=1<<l,c|=t[l],i&=~x;return c}function Ua(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(t,i){for(var l=t.suspendedLanes,c=t.pingedLanes,x=t.expirationTimes,m=t.pendingLanes;0<m;){var v=31-Nn(m),O=1<<v,k=x[v];k===-1?((O&l)===0||(O&c)!==0)&&(x[v]=Ua(O,i)):k<=i&&(t.expiredLanes|=O),m&=~O}}function gt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $t(){var t=Wn;return Wn<<=1,(Wn&4194240)===0&&(Wn=64),t}function z(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function _(t,i,l){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Nn(i),t[i]=l}function _e(t,i){var l=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<l;){var x=31-Nn(l),m=1<<x;i[x]=0,c[x]=-1,t[x]=-1,l&=~m}}function Pt(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var c=31-Nn(l),x=1<<c;x&i|t[c]&i&&(t[c]|=i),l&=~x}}var Ze=0;function Do(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var as,En,Oe,It,Vs,Ws=!1,ni=[],Yn=null,ir=null,Nr=null,Ot=new Map,hr=new Map,hn=[],Be="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bo(t,i){switch(t){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Ot.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hr.delete(i.pointerId)}}function je(t,i,l,c,x,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[x]},i!==null&&(i=oo(i),i!==null&&En(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),t)}function en(t,i,l,c,x){switch(i){case"focusin":return Yn=je(Yn,t,i,l,c,x),!0;case"dragenter":return ir=je(ir,t,i,l,c,x),!0;case"mouseover":return Nr=je(Nr,t,i,l,c,x),!0;case"pointerover":var m=x.pointerId;return Ot.set(m,je(Ot.get(m)||null,t,i,l,c,x)),!0;case"gotpointercapture":return m=x.pointerId,hr.set(m,je(hr.get(m)||null,t,i,l,c,x)),!0}return!1}function Lo(t){var i=Wi(t.target);if(i!==null){var l=bn(i);if(l!==null){if(i=l.tag,i===13){if(i=bi(l),i!==null){t.blockedOn=i,Vs(t.priority,function(){Oe(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ri(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=ls(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var c=new l.constructor(l.type,l);kr=c,l.target.dispatchEvent(c),kr=null}else return i=oo(l),i!==null&&En(i),t.blockedOn=l,!1;i.shift()}return!0}function Gs(t,i,l){ri(t)&&l.delete(i)}function Br(){Ws=!1,Yn!==null&&ri(Yn)&&(Yn=null),ir!==null&&ri(ir)&&(ir=null),Nr!==null&&ri(Nr)&&(Nr=null),Ot.forEach(Gs),hr.forEach(Gs)}function ki(t,i){t.blockedOn===i&&(t.blockedOn=null,Ws||(Ws=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,Br)))}function gr(t){function i(x){return ki(x,t)}if(0<ni.length){ki(ni[0],t);for(var l=1;l<ni.length;l++){var c=ni[l];c.blockedOn===t&&(c.blockedOn=null)}}for(Yn!==null&&ki(Yn,t),ir!==null&&ki(ir,t),Nr!==null&&ki(Nr,t),Ot.forEach(i),hr.forEach(i),l=0;l<hn.length;l++)c=hn[l],c.blockedOn===t&&(c.blockedOn=null);for(;0<hn.length&&(l=hn[0],l.blockedOn===null);)Lo(l),l.blockedOn===null&&hn.shift()}var sr=ve.ReactCurrentBatchConfig,_r=!0;function ko(t,i,l,c){var x=Ze,m=sr.transition;sr.transition=null;try{Ze=1,Pr(t,i,l,c)}finally{Ze=x,sr.transition=m}}function Bi(t,i,l,c){var x=Ze,m=sr.transition;sr.transition=null;try{Ze=4,Pr(t,i,l,c)}finally{Ze=x,sr.transition=m}}function Pr(t,i,l,c){if(_r){var x=ls(t,i,l,c);if(x===null)Qa(t,i,c,tn,l),bo(t,c);else if(en(x,t,i,l,c))c.stopPropagation();else if(bo(t,c),i&4&&-1<Be.indexOf(t)){for(;x!==null;){var m=oo(x);if(m!==null&&as(m),m=ls(t,i,l,c),m===null&&Qa(t,i,c,tn,l),m===x)break;x=m}x!==null&&c.stopPropagation()}else Qa(t,i,c,null,l)}}var tn=null;function ls(t,i,l,c){if(tn=null,t=Ri(c),t=Wi(t),t!==null)if(i=bn(t),i===null)t=null;else if(l=i.tag,l===13){if(t=bi(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return tn=t,null}function Ys(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(js()){case K:return 1;case Oo:return 4;case Ct:case ei:return 16;case Ro:return 536870912;default:return 16}default:return 16}}var pr=null,Xs=null,us=null;function Bo(){if(us)return us;var t,i=Xs,l=i.length,c,x="value"in pr?pr.value:pr.textContent,m=x.length;for(t=0;t<l&&i[t]===x[t];t++);var v=l-t;for(c=1;c<=v&&i[l-c]===x[m-c];c++);return us=x.slice(t,1<c?1-c:void 0)}function st(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function Fi(){return!1}function Ft(t){function i(l,c,x,m,v){this._reactName=l,this._targetInst=x,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var O in t)t.hasOwnProperty(O)&&(l=t[O],this[O]=l?l(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Pi:Fi,this.isPropagationStopped=Fi,this}return ge(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),i}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G=Ft(ii),Ve=ge({},ii,{view:0,detail:0}),nn=Ft(Ve),si,cs,Ui,fs=ge({},Ve,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ji,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(si=t.screenX-Ui.screenX,cs=t.screenY-Ui.screenY):cs=si=0,Ui=t),si)},movementY:function(t){return"movementY"in t?t.movementY:cs}}),Po=Ft(fs),Zs=ge({},fs,{dataTransfer:0}),Wt=Ft(Zs),Qs=ge({},Ve,{relatedTarget:0}),vt=Ft(Qs),ds=ge({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Fr=Ft(ds),xt=ge({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),be=Ft(xt),ja=ge({},ii,{data:0}),wt=Ft(ja),Ur={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},za={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function or(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=za[t])?!!i[t]:!1}function ji(){return or}var Fo=ge({},Ve,{key:function(t){if(t.key){var i=Ur[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=st(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ji,charCode:function(t){return t.type==="keypress"?st(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?st(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ks=Ft(Fo),Uo=ge({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=Ft(Uo),Ha=ge({},Ve,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ji}),ai=Ft(Ha),Js=ge({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Va=Ft(Js),zi=ge({},fs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=Ft(zi),Mr=[9,13,27,32],li=L&&"CompositionEvent"in window,ln=null;L&&"documentMode"in document&&(ln=document.documentMode);var jo=L&&"TextEvent"in window&&!ln,Xn=L&&(!li||ln&&8<ln&&11>=ln),zo=" ",hs=!1;function Ho(t,i){switch(t){case"keyup":return Mr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $s(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gn=!1;function Ga(t,i){switch(t){case"compositionend":return $s(i);case"keypress":return i.which!==32?null:(hs=!0,zo);case"textInput":return t=i.data,t===zo&&hs?null:t;default:return null}}function eo(t,i){if(gn)return t==="compositionend"||!li&&Ho(t,i)?(t=Bo(),us=Xs=pr=null,gn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xn&&i.locale!=="ko"?null:i.data;default:return null}}var Hi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Hi[t.type]:i==="textarea"}function Vi(t,i,l,c){Bs(c),i=Go(i,"onChange"),0<i.length&&(l=new G("onChange","change",null,l,c),t.push({event:l,listeners:i}))}var A=null,e=null;function n(t){bu(t,0)}function r(t){var i=xs(t);if(Oi(i))return t}function s(t,i){if(t==="change")return i}var o=!1;if(L){var a;if(L){var u="oninput"in document;if(!u){var f=document.createElement("div");f.setAttribute("oninput","return;"),u=typeof f.oninput=="function"}a=u}else a=!1;o=a&&(!document.documentMode||9<document.documentMode)}function p(){A&&(A.detachEvent("onpropertychange",C),e=A=null)}function C(t){if(t.propertyName==="value"&&r(e)){var i=[];Vi(i,e,t,Ri(t)),Di(n,i)}}function S(t,i,l){t==="focusin"?(p(),A=i,e=l,A.attachEvent("onpropertychange",C)):t==="focusout"&&p()}function T(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r(e)}function M(t,i){if(t==="click")return r(i)}function b(t,i){if(t==="input"||t==="change")return r(i)}function B(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var U=typeof Object.is=="function"?Object.is:B;function W(t,i){if(U(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var x=l[c];if(!R.call(i,x)||!U(t[x],i[x]))return!1}return!0}function ie(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oe(t,i){var l=ie(t);t=0;for(var c;l;){if(l.nodeType===3){if(c=t+l.textContent.length,t<=i&&c>=i)return{node:l,offset:i-t};t=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ie(l)}}function J(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?J(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Qe(){for(var t=window,i=tt();i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=tt(t.document)}return i}function ze(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function An(t){var i=Qe(),l=t.focusedElem,c=t.selectionRange;if(i!==l&&l&&l.ownerDocument&&J(l.ownerDocument.documentElement,l)){if(c!==null&&ze(l)){if(i=c.start,t=c.end,t===void 0&&(t=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(t,l.value.length);else if(t=(i=l.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var x=l.textContent.length,m=Math.min(c.start,x);c=c.end===void 0?m:Math.min(c.end,x),!t.extend&&m>c&&(x=c,c=m,m=x),x=oe(l,m);var v=oe(l,c);x&&v&&(t.rangeCount!==1||t.anchorNode!==x.node||t.anchorOffset!==x.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),t.removeAllRanges(),m>c?(t.addRange(i),t.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),t.addRange(i)))}}for(i=[],t=l;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)t=i[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zn=L&&"documentMode"in document&&11>=document.documentMode,Gt=null,ut=null,bt=null,pn=!1;function jr(t,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;pn||Gt==null||Gt!==tt(c)||(c=Gt,"selectionStart"in c&&ze(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bt&&W(bt,c)||(bt=c,c=Go(ut,"onSelect"),0<c.length&&(i=new G("onSelect","select",null,i,l),t.push({event:i,listeners:c}),i.target=Gt)))}function xr(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var ui={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},to={},vu={};L&&(vu=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);function Vo(t){if(to[t])return to[t];if(!ui[t])return t;var i=ui[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in vu)return to[t]=i[l];return t}var Tu=Vo("animationend"),Nu=Vo("animationiteration"),_u=Vo("animationstart"),Mu=Vo("transitionend"),Ou=new Map,Ru="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ci(t,i){Ou.set(t,i),y(i,[t])}for(var Ya=0;Ya<Ru.length;Ya++){var Xa=Ru[Ya],p0=Xa.toLowerCase(),x0=Xa[0].toUpperCase()+Xa.slice(1);ci(p0,"on"+x0)}ci(Tu,"onAnimationEnd"),ci(Nu,"onAnimationIteration"),ci(_u,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(Mu,"onTransitionEnd"),N("onMouseEnter",["mouseout","mouseover"]),N("onMouseLeave",["mouseout","mouseover"]),N("onPointerEnter",["pointerout","pointerover"]),N("onPointerLeave",["pointerout","pointerover"]),y("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),y("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),y("onBeforeInput",["compositionend","keypress","textInput","paste"]),y("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),y("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),y("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m0=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function Du(t,i,l){var c=t.type||"unknown-event";t.currentTarget=l,Cn(c,i,void 0,t),t.currentTarget=null}function bu(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var c=t[l],x=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var v=c.length-1;0<=v;v--){var O=c[v],k=O.instance,Y=O.currentTarget;if(O=O.listener,k!==m&&x.isPropagationStopped())break e;Du(x,O,Y),m=k}else for(v=0;v<c.length;v++){if(O=c[v],k=O.instance,Y=O.currentTarget,O=O.listener,k!==m&&x.isPropagationStopped())break e;Du(x,O,Y),m=k}}}if(dn)throw t=xe,dn=!1,xe=null,t}function Nt(t,i){var l=i[tl];l===void 0&&(l=i[tl]=new Set);var c=t+"__bubble";l.has(c)||(Lu(i,t,2,!1),l.add(c))}function Za(t,i,l){var c=0;i&&(c|=4),Lu(l,t,c,i)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function ro(t){if(!t[Wo]){t[Wo]=!0,w.forEach(function(l){l!=="selectionchange"&&(m0.has(l)||Za(l,!1,t),Za(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Wo]||(i[Wo]=!0,Za("selectionchange",!1,i))}}function Lu(t,i,l,c){switch(Ys(i)){case 1:var x=ko;break;case 4:x=Bi;break;default:x=Pr}l=x.bind(null,i,l,t),x=void 0,!Ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),c?x!==void 0?t.addEventListener(i,l,{capture:!0,passive:x}):t.addEventListener(i,l,!0):x!==void 0?t.addEventListener(i,l,{passive:x}):t.addEventListener(i,l,!1)}function Qa(t,i,l,c,x){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var O=c.stateNode.containerInfo;if(O===x||O.nodeType===8&&O.parentNode===x)break;if(v===4)for(v=c.return;v!==null;){var k=v.tag;if((k===3||k===4)&&(k=v.stateNode.containerInfo,k===x||k.nodeType===8&&k.parentNode===x))return;v=v.return}for(;O!==null;){if(v=Wi(O),v===null)return;if(k=v.tag,k===5||k===6){c=m=v;continue e}O=O.parentNode}}c=c.return}Di(function(){var Y=m,$=Ri(l),re=[];e:{var q=Ou.get(t);if(q!==void 0){var me=G,Ee=t;switch(t){case"keypress":if(st(l)===0)break e;case"keydown":case"keyup":me=Ks;break;case"focusin":Ee="focus",me=vt;break;case"focusout":Ee="blur",me=vt;break;case"beforeblur":case"afterblur":me=vt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Wt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=ai;break;case Tu:case Nu:case _u:me=Fr;break;case Mu:me=Va;break;case"scroll":me=nn;break;case"wheel":me=Wa;break;case"copy":case"cut":case"paste":me=be;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=qs}var Se=(i&4)!==0,Yt=!Se&&t==="scroll",H=Se?q!==null?q+"Capture":null:q;Se=[];for(var F=Y,V;F!==null;){V=F;var le=V.stateNode;if(V.tag===5&&le!==null&&(V=le,H!==null&&(le=yn(F,H),le!=null&&Se.push(io(F,le,V)))),Yt)break;F=F.return}0<Se.length&&(q=new me(q,Ee,null,l,$),re.push({event:q,listeners:Se}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",me=t==="mouseout"||t==="pointerout",q&&l!==kr&&(Ee=l.relatedTarget||l.fromElement)&&(Wi(Ee)||Ee[zr]))break e;if((me||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,me?(Ee=l.relatedTarget||l.toElement,me=Y,Ee=Ee?Wi(Ee):null,Ee!==null&&(Yt=bn(Ee),Ee!==Yt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(me=null,Ee=Y),me!==Ee)){if(Se=Po,le="onMouseLeave",H="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(Se=qs,le="onPointerLeave",H="onPointerEnter",F="pointer"),Yt=me==null?q:xs(me),V=Ee==null?q:xs(Ee),q=new Se(le,F+"leave",me,l,$),q.target=Yt,q.relatedTarget=V,le=null,Wi($)===Y&&(Se=new Se(H,F+"enter",Ee,l,$),Se.target=V,Se.relatedTarget=Yt,le=Se),Yt=le,me&&Ee)t:{for(Se=me,H=Ee,F=0,V=Se;V;V=gs(V))F++;for(V=0,le=H;le;le=gs(le))V++;for(;0<F-V;)Se=gs(Se),F--;for(;0<V-F;)H=gs(H),V--;for(;F--;){if(Se===H||H!==null&&Se===H.alternate)break t;Se=gs(Se),H=gs(H)}Se=null}else Se=null;me!==null&&ku(re,q,me,Se,!1),Ee!==null&&Yt!==null&&ku(re,Yt,Ee,Se,!0)}}e:{if(q=Y?xs(Y):window,me=q.nodeName&&q.nodeName.toLowerCase(),me==="select"||me==="input"&&q.type==="file")var Ie=s;else if(nt(q))if(o)Ie=b;else{Ie=T;var Le=S}else(me=q.nodeName)&&me.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(Ie=M);if(Ie&&(Ie=Ie(t,Y))){Vi(re,Ie,l,$);break e}Le&&Le(t,q,Y),t==="focusout"&&(Le=q._wrapperState)&&Le.controlled&&q.type==="number"&&Je(q,"number",q.value)}switch(Le=Y?xs(Y):window,t){case"focusin":(nt(Le)||Le.contentEditable==="true")&&(Gt=Le,ut=Y,bt=null);break;case"focusout":bt=ut=Gt=null;break;case"mousedown":pn=!0;break;case"contextmenu":case"mouseup":case"dragend":pn=!1,jr(re,l,$);break;case"selectionchange":if(Zn)break;case"keydown":case"keyup":jr(re,l,$)}var ke;if(li)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else gn?Ho(t,l)&&(Ue="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(Xn&&l.locale!=="ko"&&(gn||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&gn&&(ke=Bo()):(pr=$,Xs="value"in pr?pr.value:pr.textContent,gn=!0)),Le=Go(Y,Ue),0<Le.length&&(Ue=new wt(Ue,t,null,l,$),re.push({event:Ue,listeners:Le}),ke?Ue.data=ke:(ke=$s(l),ke!==null&&(Ue.data=ke)))),(ke=jo?Ga(t,l):eo(t,l))&&(Y=Go(Y,"onBeforeInput"),0<Y.length&&($=new wt("onBeforeInput","beforeinput",null,l,$),re.push({event:$,listeners:Y}),$.data=ke))}bu(re,i)})}function io(t,i,l){return{instance:t,listener:i,currentTarget:l}}function Go(t,i){for(var l=i+"Capture",c=[];t!==null;){var x=t,m=x.stateNode;x.tag===5&&m!==null&&(x=m,m=yn(t,l),m!=null&&c.unshift(io(t,m,x)),m=yn(t,i),m!=null&&c.push(io(t,m,x))),t=t.return}return c}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ku(t,i,l,c,x){for(var m=i._reactName,v=[];l!==null&&l!==c;){var O=l,k=O.alternate,Y=O.stateNode;if(k!==null&&k===c)break;O.tag===5&&Y!==null&&(O=Y,x?(k=yn(l,m),k!=null&&v.unshift(io(l,k,O))):x||(k=yn(l,m),k!=null&&v.push(io(l,k,O)))),l=l.return}v.length!==0&&t.push({event:i,listeners:v})}var w0=/\r\n?/g,y0=/\u0000|\uFFFD/g;function Bu(t){return(typeof t=="string"?t:""+t).replace(w0,`
`).replace(y0,"")}function Yo(t,i,l){if(i=Bu(i),Bu(t)!==i&&l)throw Error(d(425))}function Xo(){}var Ka=null,qa=null;function Ja(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $a=typeof setTimeout=="function"?setTimeout:void 0,C0=typeof clearTimeout=="function"?clearTimeout:void 0,Pu=typeof Promise=="function"?Promise:void 0,E0=typeof queueMicrotask=="function"?queueMicrotask:typeof Pu<"u"?function(t){return Pu.resolve(null).then(t).catch(A0)}:$a;function A0(t){setTimeout(function(){throw t})}function el(t,i){var l=i,c=0;do{var x=l.nextSibling;if(t.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(c===0){t.removeChild(x),gr(i);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=x}while(l);gr(i)}function fi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Fu(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return t;i--}else l==="/$"&&i++}t=t.previousSibling}return null}var ps=Math.random().toString(36).slice(2),Or="__reactFiber$"+ps,so="__reactProps$"+ps,zr="__reactContainer$"+ps,tl="__reactEvents$"+ps,S0="__reactListeners$"+ps,I0="__reactHandles$"+ps;function Wi(t){var i=t[Or];if(i)return i;for(var l=t.parentNode;l;){if(i=l[zr]||l[Or]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=Fu(t);t!==null;){if(l=t[Or])return l;t=Fu(t)}return i}t=l,l=t.parentNode}return null}function oo(t){return t=t[Or]||t[zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(d(33))}function Zo(t){return t[so]||null}var nl=[],ms=-1;function di(t){return{current:t}}function _t(t){0>ms||(t.current=nl[ms],nl[ms]=null,ms--)}function Tt(t,i){ms++,nl[ms]=t.current,t.current=i}var hi={},Sn=di(hi),Ln=di(!1),Gi=hi;function ws(t,i){var l=t.type.contextTypes;if(!l)return hi;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var x={},m;for(m in l)x[m]=i[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=x),x}function kn(t){return t=t.childContextTypes,t!=null}function Qo(){_t(Ln),_t(Sn)}function Uu(t,i,l){if(Sn.current!==hi)throw Error(d(168));Tt(Sn,i),Tt(Ln,l)}function ju(t,i,l){var c=t.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var x in c)if(!(x in i))throw Error(d(108,ft(t)||"Unknown",x));return ge({},l,c)}function Ko(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,Gi=Sn.current,Tt(Sn,t),Tt(Ln,Ln.current),!0}function zu(t,i,l){var c=t.stateNode;if(!c)throw Error(d(169));l?(t=ju(t,i,Gi),c.__reactInternalMemoizedMergedChildContext=t,_t(Ln),_t(Sn),Tt(Sn,t)):_t(Ln),Tt(Ln,l)}var Hr=null,qo=!1,rl=!1;function Hu(t){Hr===null?Hr=[t]:Hr.push(t)}function v0(t){qo=!0,Hu(t)}function gi(){if(!rl&&Hr!==null){rl=!0;var t=0,i=Ze;try{var l=Hr;for(Ze=1;t<l.length;t++){var c=l[t];do c=c(!0);while(c!==null)}Hr=null,qo=!1}catch(x){throw Hr!==null&&(Hr=Hr.slice(t+1)),Vn(K,gi),x}finally{Ze=i,rl=!1}}return null}var ys=[],Cs=0,Jo=null,$o=0,ar=[],lr=0,Yi=null,Vr=1,Wr="";function Xi(t,i){ys[Cs++]=$o,ys[Cs++]=Jo,Jo=t,$o=i}function Vu(t,i,l){ar[lr++]=Vr,ar[lr++]=Wr,ar[lr++]=Yi,Yi=t;var c=Vr;t=Wr;var x=32-Nn(c)-1;c&=~(1<<x),l+=1;var m=32-Nn(i)+x;if(30<m){var v=x-x%5;m=(c&(1<<v)-1).toString(32),c>>=v,x-=v,Vr=1<<32-Nn(i)+x|l<<x|c,Wr=m+t}else Vr=1<<m|l<<x|c,Wr=t}function il(t){t.return!==null&&(Xi(t,1),Vu(t,1,0))}function sl(t){for(;t===Jo;)Jo=ys[--Cs],ys[Cs]=null,$o=ys[--Cs],ys[Cs]=null;for(;t===Yi;)Yi=ar[--lr],ar[lr]=null,Wr=ar[--lr],ar[lr]=null,Vr=ar[--lr],ar[lr]=null}var Qn=null,Kn=null,Rt=!1,mr=null;function Wu(t,i){var l=dr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=t,i=t.deletions,i===null?(t.deletions=[l],t.flags|=16):i.push(l)}function Gu(t,i){switch(t.tag){case 5:var l=t.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Qn=t,Kn=fi(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Qn=t,Kn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Yi!==null?{id:Vr,overflow:Wr}:null,t.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=dr(18,null,null,0),l.stateNode=i,l.return=t,t.child=l,Qn=t,Kn=null,!0):!1;default:return!1}}function ol(t){return(t.mode&1)!==0&&(t.flags&128)===0}function al(t){if(Rt){var i=Kn;if(i){var l=i;if(!Gu(t,i)){if(ol(t))throw Error(d(418));i=fi(l.nextSibling);var c=Qn;i&&Gu(t,i)?Wu(c,l):(t.flags=t.flags&-4097|2,Rt=!1,Qn=t)}}else{if(ol(t))throw Error(d(418));t.flags=t.flags&-4097|2,Rt=!1,Qn=t}}}function Yu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function ea(t){if(t!==Qn)return!1;if(!Rt)return Yu(t),Rt=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!Ja(t.type,t.memoizedProps)),i&&(i=Kn)){if(ol(t))throw Xu(),Error(d(418));for(;i;)Wu(t,i),i=fi(i.nextSibling)}if(Yu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(i===0){Kn=fi(t.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}t=t.nextSibling}Kn=null}}else Kn=Qn?fi(t.stateNode.nextSibling):null;return!0}function Xu(){for(var t=Kn;t;)t=fi(t.nextSibling)}function Es(){Kn=Qn=null,Rt=!1}function ll(t){mr===null?mr=[t]:mr.push(t)}var T0=ve.ReactCurrentBatchConfig;function ao(t,i,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(d(309));var c=l.stateNode}if(!c)throw Error(d(147,t));var x=c,m=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(v){var O=x.refs;v===null?delete O[m]:O[m]=v},i._stringRef=m,i)}if(typeof t!="string")throw Error(d(284));if(!l._owner)throw Error(d(290,t))}return t}function ta(t,i){throw t=Object.prototype.toString.call(i),Error(d(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Zu(t){var i=t._init;return i(t._payload)}function Qu(t){function i(H,F){if(t){var V=H.deletions;V===null?(H.deletions=[F],H.flags|=16):V.push(F)}}function l(H,F){if(!t)return null;for(;F!==null;)i(H,F),F=F.sibling;return null}function c(H,F){for(H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function x(H,F){return H=Ai(H,F),H.index=0,H.sibling=null,H}function m(H,F,V){return H.index=V,t?(V=H.alternate,V!==null?(V=V.index,V<F?(H.flags|=2,F):V):(H.flags|=2,F)):(H.flags|=1048576,F)}function v(H){return t&&H.alternate===null&&(H.flags|=2),H}function O(H,F,V,le){return F===null||F.tag!==6?(F=$l(V,H.mode,le),F.return=H,F):(F=x(F,V),F.return=H,F)}function k(H,F,V,le){var Ie=V.type;return Ie===ne?$(H,F,V.props.children,le,V.key):F!==null&&(F.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===it&&Zu(Ie)===F.type)?(le=x(F,V.props),le.ref=ao(H,F,V),le.return=H,le):(le=va(V.type,V.key,V.props,null,H.mode,le),le.ref=ao(H,F,V),le.return=H,le)}function Y(H,F,V,le){return F===null||F.tag!==4||F.stateNode.containerInfo!==V.containerInfo||F.stateNode.implementation!==V.implementation?(F=eu(V,H.mode,le),F.return=H,F):(F=x(F,V.children||[]),F.return=H,F)}function $(H,F,V,le,Ie){return F===null||F.tag!==7?(F=ts(V,H.mode,le,Ie),F.return=H,F):(F=x(F,V),F.return=H,F)}function re(H,F,V){if(typeof F=="string"&&F!==""||typeof F=="number")return F=$l(""+F,H.mode,V),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case yt:return V=va(F.type,F.key,F.props,null,H.mode,V),V.ref=ao(H,null,F),V.return=H,V;case We:return F=eu(F,H.mode,V),F.return=H,F;case it:var le=F._init;return re(H,le(F._payload),V)}if(Ir(F)||Ne(F))return F=ts(F,H.mode,V,null),F.return=H,F;ta(H,F)}return null}function q(H,F,V,le){var Ie=F!==null?F.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Ie!==null?null:O(H,F,""+V,le);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case yt:return V.key===Ie?k(H,F,V,le):null;case We:return V.key===Ie?Y(H,F,V,le):null;case it:return Ie=V._init,q(H,F,Ie(V._payload),le)}if(Ir(V)||Ne(V))return Ie!==null?null:$(H,F,V,le,null);ta(H,V)}return null}function me(H,F,V,le,Ie){if(typeof le=="string"&&le!==""||typeof le=="number")return H=H.get(V)||null,O(F,H,""+le,Ie);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case yt:return H=H.get(le.key===null?V:le.key)||null,k(F,H,le,Ie);case We:return H=H.get(le.key===null?V:le.key)||null,Y(F,H,le,Ie);case it:var Le=le._init;return me(H,F,V,Le(le._payload),Ie)}if(Ir(le)||Ne(le))return H=H.get(V)||null,$(F,H,le,Ie,null);ta(F,le)}return null}function Ee(H,F,V,le){for(var Ie=null,Le=null,ke=F,Ue=F=0,fn=null;ke!==null&&Ue<V.length;Ue++){ke.index>Ue?(fn=ke,ke=null):fn=ke.sibling;var at=q(H,ke,V[Ue],le);if(at===null){ke===null&&(ke=fn);break}t&&ke&&at.alternate===null&&i(H,ke),F=m(at,F,Ue),Le===null?Ie=at:Le.sibling=at,Le=at,ke=fn}if(Ue===V.length)return l(H,ke),Rt&&Xi(H,Ue),Ie;if(ke===null){for(;Ue<V.length;Ue++)ke=re(H,V[Ue],le),ke!==null&&(F=m(ke,F,Ue),Le===null?Ie=ke:Le.sibling=ke,Le=ke);return Rt&&Xi(H,Ue),Ie}for(ke=c(H,ke);Ue<V.length;Ue++)fn=me(ke,H,Ue,V[Ue],le),fn!==null&&(t&&fn.alternate!==null&&ke.delete(fn.key===null?Ue:fn.key),F=m(fn,F,Ue),Le===null?Ie=fn:Le.sibling=fn,Le=fn);return t&&ke.forEach(function(Si){return i(H,Si)}),Rt&&Xi(H,Ue),Ie}function Se(H,F,V,le){var Ie=Ne(V);if(typeof Ie!="function")throw Error(d(150));if(V=Ie.call(V),V==null)throw Error(d(151));for(var Le=Ie=null,ke=F,Ue=F=0,fn=null,at=V.next();ke!==null&&!at.done;Ue++,at=V.next()){ke.index>Ue?(fn=ke,ke=null):fn=ke.sibling;var Si=q(H,ke,at.value,le);if(Si===null){ke===null&&(ke=fn);break}t&&ke&&Si.alternate===null&&i(H,ke),F=m(Si,F,Ue),Le===null?Ie=Si:Le.sibling=Si,Le=Si,ke=fn}if(at.done)return l(H,ke),Rt&&Xi(H,Ue),Ie;if(ke===null){for(;!at.done;Ue++,at=V.next())at=re(H,at.value,le),at!==null&&(F=m(at,F,Ue),Le===null?Ie=at:Le.sibling=at,Le=at);return Rt&&Xi(H,Ue),Ie}for(ke=c(H,ke);!at.done;Ue++,at=V.next())at=me(ke,H,Ue,at.value,le),at!==null&&(t&&at.alternate!==null&&ke.delete(at.key===null?Ue:at.key),F=m(at,F,Ue),Le===null?Ie=at:Le.sibling=at,Le=at);return t&&ke.forEach(function(of){return i(H,of)}),Rt&&Xi(H,Ue),Ie}function Yt(H,F,V,le){if(typeof V=="object"&&V!==null&&V.type===ne&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case yt:e:{for(var Ie=V.key,Le=F;Le!==null;){if(Le.key===Ie){if(Ie=V.type,Ie===ne){if(Le.tag===7){l(H,Le.sibling),F=x(Le,V.props.children),F.return=H,H=F;break e}}else if(Le.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===it&&Zu(Ie)===Le.type){l(H,Le.sibling),F=x(Le,V.props),F.ref=ao(H,Le,V),F.return=H,H=F;break e}l(H,Le);break}else i(H,Le);Le=Le.sibling}V.type===ne?(F=ts(V.props.children,H.mode,le,V.key),F.return=H,H=F):(le=va(V.type,V.key,V.props,null,H.mode,le),le.ref=ao(H,F,V),le.return=H,H=le)}return v(H);case We:e:{for(Le=V.key;F!==null;){if(F.key===Le)if(F.tag===4&&F.stateNode.containerInfo===V.containerInfo&&F.stateNode.implementation===V.implementation){l(H,F.sibling),F=x(F,V.children||[]),F.return=H,H=F;break e}else{l(H,F);break}else i(H,F);F=F.sibling}F=eu(V,H.mode,le),F.return=H,H=F}return v(H);case it:return Le=V._init,Yt(H,F,Le(V._payload),le)}if(Ir(V))return Ee(H,F,V,le);if(Ne(V))return Se(H,F,V,le);ta(H,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,F!==null&&F.tag===6?(l(H,F.sibling),F=x(F,V),F.return=H,H=F):(l(H,F),F=$l(V,H.mode,le),F.return=H,H=F),v(H)):l(H,F)}return Yt}var As=Qu(!0),Ku=Qu(!1),na=di(null),ra=null,Ss=null,ul=null;function cl(){ul=Ss=ra=null}function fl(t){var i=na.current;_t(na),t._currentValue=i}function dl(t,i,l){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===l)break;t=t.return}}function Is(t,i){ra=t,ul=Ss=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(Bn=!0),t.firstContext=null)}function ur(t){var i=t._currentValue;if(ul!==t)if(t={context:t,memoizedValue:i,next:null},Ss===null){if(ra===null)throw Error(d(308));Ss=t,ra.dependencies={lanes:0,firstContext:t}}else Ss=Ss.next=t;return i}var Zi=null;function hl(t){Zi===null?Zi=[t]:Zi.push(t)}function qu(t,i,l,c){var x=i.interleaved;return x===null?(l.next=l,hl(i)):(l.next=x.next,x.next=l),i.interleaved=l,Gr(t,c)}function Gr(t,i){t.lanes|=i;var l=t.alternate;for(l!==null&&(l.lanes|=i),l=t,t=t.return;t!==null;)t.childLanes|=i,l=t.alternate,l!==null&&(l.childLanes|=i),l=t,t=t.return;return l.tag===3?l.stateNode:null}var pi=!1;function gl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ju(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yr(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function xi(t,i,l){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var x=c.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),c.pending=i,Gr(t,l)}return x=c.interleaved,x===null?(i.next=i,hl(c)):(i.next=x.next,x.next=i),c.interleaved=i,Gr(t,l)}function ia(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var c=i.lanes;c&=t.pendingLanes,l|=c,i.lanes=l,Pt(t,l)}}function $u(t,i){var l=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var x=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var v={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};m===null?x=m=v:m=m.next=v,l=l.next}while(l!==null);m===null?x=m=i:m=m.next=i}else x=m=i;l={baseState:c.baseState,firstBaseUpdate:x,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}function sa(t,i,l,c){var x=t.updateQueue;pi=!1;var m=x.firstBaseUpdate,v=x.lastBaseUpdate,O=x.shared.pending;if(O!==null){x.shared.pending=null;var k=O,Y=k.next;k.next=null,v===null?m=Y:v.next=Y,v=k;var $=t.alternate;$!==null&&($=$.updateQueue,O=$.lastBaseUpdate,O!==v&&(O===null?$.firstBaseUpdate=Y:O.next=Y,$.lastBaseUpdate=k))}if(m!==null){var re=x.baseState;v=0,$=Y=k=null,O=m;do{var q=O.lane,me=O.eventTime;if((c&q)===q){$!==null&&($=$.next={eventTime:me,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Ee=t,Se=O;switch(q=i,me=l,Se.tag){case 1:if(Ee=Se.payload,typeof Ee=="function"){re=Ee.call(me,re,q);break e}re=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Se.payload,q=typeof Ee=="function"?Ee.call(me,re,q):Ee,q==null)break e;re=ge({},re,q);break e;case 2:pi=!0}}O.callback!==null&&O.lane!==0&&(t.flags|=64,q=x.effects,q===null?x.effects=[O]:q.push(O))}else me={eventTime:me,lane:q,tag:O.tag,payload:O.payload,callback:O.callback,next:null},$===null?(Y=$=me,k=re):$=$.next=me,v|=q;if(O=O.next,O===null){if(O=x.shared.pending,O===null)break;q=O,O=q.next,q.next=null,x.lastBaseUpdate=q,x.shared.pending=null}}while(!0);if($===null&&(k=re),x.baseState=k,x.firstBaseUpdate=Y,x.lastBaseUpdate=$,i=x.shared.interleaved,i!==null){x=i;do v|=x.lane,x=x.next;while(x!==i)}else m===null&&(x.shared.lanes=0);qi|=v,t.lanes=v,t.memoizedState=re}}function ec(t,i,l){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var c=t[i],x=c.callback;if(x!==null){if(c.callback=null,c=l,typeof x!="function")throw Error(d(191,x));x.call(c)}}}var lo={},Rr=di(lo),uo=di(lo),co=di(lo);function Qi(t){if(t===lo)throw Error(d(174));return t}function pl(t,i){switch(Tt(co,i),Tt(uo,t),Tt(Rr,lo),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:rs(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=rs(i,t)}_t(Rr),Tt(Rr,i)}function vs(){_t(Rr),_t(uo),_t(co)}function tc(t){Qi(co.current);var i=Qi(Rr.current),l=rs(i,t.type);i!==l&&(Tt(uo,t),Tt(Rr,l))}function xl(t){uo.current===t&&(_t(Rr),_t(uo))}var Lt=di(0);function oa(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ml=[];function wl(){for(var t=0;t<ml.length;t++)ml[t]._workInProgressVersionPrimary=null;ml.length=0}var aa=ve.ReactCurrentDispatcher,yl=ve.ReactCurrentBatchConfig,Ki=0,kt=null,rn=null,un=null,la=!1,fo=!1,ho=0,N0=0;function In(){throw Error(d(321))}function Cl(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!U(t[l],i[l]))return!1;return!0}function El(t,i,l,c,x,m){if(Ki=m,kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,aa.current=t===null||t.memoizedState===null?R0:D0,t=l(c,x),fo){m=0;do{if(fo=!1,ho=0,25<=m)throw Error(d(301));m+=1,un=rn=null,i.updateQueue=null,aa.current=b0,t=l(c,x)}while(fo)}if(aa.current=fa,i=rn!==null&&rn.next!==null,Ki=0,un=rn=kt=null,la=!1,i)throw Error(d(300));return t}function Al(){var t=ho!==0;return ho=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?kt.memoizedState=un=t:un=un.next=t,un}function cr(){if(rn===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=rn.next;var i=un===null?kt.memoizedState:un.next;if(i!==null)un=i,rn=t;else{if(t===null)throw Error(d(310));rn=t,t={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},un===null?kt.memoizedState=un=t:un=un.next=t}return un}function go(t,i){return typeof i=="function"?i(t):i}function Sl(t){var i=cr(),l=i.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=t;var c=rn,x=c.baseQueue,m=l.pending;if(m!==null){if(x!==null){var v=x.next;x.next=m.next,m.next=v}c.baseQueue=x=m,l.pending=null}if(x!==null){m=x.next,c=c.baseState;var O=v=null,k=null,Y=m;do{var $=Y.lane;if((Ki&$)===$)k!==null&&(k=k.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),c=Y.hasEagerState?Y.eagerState:t(c,Y.action);else{var re={lane:$,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};k===null?(O=k=re,v=c):k=k.next=re,kt.lanes|=$,qi|=$}Y=Y.next}while(Y!==null&&Y!==m);k===null?v=c:k.next=O,U(c,i.memoizedState)||(Bn=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=k,l.lastRenderedState=c}if(t=l.interleaved,t!==null){x=t;do m=x.lane,kt.lanes|=m,qi|=m,x=x.next;while(x!==t)}else x===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Il(t){var i=cr(),l=i.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=t;var c=l.dispatch,x=l.pending,m=i.memoizedState;if(x!==null){l.pending=null;var v=x=x.next;do m=t(m,v.action),v=v.next;while(v!==x);U(m,i.memoizedState)||(Bn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,c]}function nc(){}function rc(t,i){var l=kt,c=cr(),x=i(),m=!U(c.memoizedState,x);if(m&&(c.memoizedState=x,Bn=!0),c=c.queue,vl(oc.bind(null,l,c,t),[t]),c.getSnapshot!==i||m||un!==null&&un.memoizedState.tag&1){if(l.flags|=2048,po(9,sc.bind(null,l,c,x,i),void 0,null),cn===null)throw Error(d(349));(Ki&30)!==0||ic(l,i,x)}return x}function ic(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=kt.updateQueue,i===null?(i={lastEffect:null,stores:null},kt.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function sc(t,i,l,c){i.value=l,i.getSnapshot=c,ac(i)&&lc(t)}function oc(t,i,l){return l(function(){ac(i)&&lc(t)})}function ac(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!U(t,l)}catch{return!0}}function lc(t){var i=Gr(t,1);i!==null&&Er(i,t,1,-1)}function uc(t){var i=Dr();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:t},i.queue=t,t=t.dispatch=O0.bind(null,kt,t),[i.memoizedState,t]}function po(t,i,l,c){return t={tag:t,create:i,destroy:l,deps:c,next:null},i=kt.updateQueue,i===null?(i={lastEffect:null,stores:null},kt.updateQueue=i,i.lastEffect=t.next=t):(l=i.lastEffect,l===null?i.lastEffect=t.next=t:(c=l.next,l.next=t,t.next=c,i.lastEffect=t)),t}function cc(){return cr().memoizedState}function ua(t,i,l,c){var x=Dr();kt.flags|=t,x.memoizedState=po(1|i,l,void 0,c===void 0?null:c)}function ca(t,i,l,c){var x=cr();c=c===void 0?null:c;var m=void 0;if(rn!==null){var v=rn.memoizedState;if(m=v.destroy,c!==null&&Cl(c,v.deps)){x.memoizedState=po(i,l,m,c);return}}kt.flags|=t,x.memoizedState=po(1|i,l,m,c)}function fc(t,i){return ua(8390656,8,t,i)}function vl(t,i){return ca(2048,8,t,i)}function dc(t,i){return ca(4,2,t,i)}function hc(t,i){return ca(4,4,t,i)}function gc(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function pc(t,i,l){return l=l!=null?l.concat([t]):null,ca(4,4,gc.bind(null,i,t),l)}function Tl(){}function xc(t,i){var l=cr();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&Cl(i,c[1])?c[0]:(l.memoizedState=[t,i],t)}function mc(t,i){var l=cr();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&Cl(i,c[1])?c[0]:(t=t(),l.memoizedState=[t,i],t)}function wc(t,i,l){return(Ki&21)===0?(t.baseState&&(t.baseState=!1,Bn=!0),t.memoizedState=l):(U(l,i)||(l=$t(),kt.lanes|=l,qi|=l,t.baseState=!0),i)}function _0(t,i){var l=Ze;Ze=l!==0&&4>l?l:4,t(!0);var c=yl.transition;yl.transition={};try{t(!1),i()}finally{Ze=l,yl.transition=c}}function yc(){return cr().memoizedState}function M0(t,i,l){var c=Ci(t);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},Cc(t))Ec(i,l);else if(l=qu(t,i,l,c),l!==null){var x=Mn();Er(l,t,c,x),Ac(l,i,c)}}function O0(t,i,l){var c=Ci(t),x={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(Cc(t))Ec(i,x);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,O=m(v,l);if(x.hasEagerState=!0,x.eagerState=O,U(O,v)){var k=i.interleaved;k===null?(x.next=x,hl(i)):(x.next=k.next,k.next=x),i.interleaved=x;return}}catch{}finally{}l=qu(t,i,x,c),l!==null&&(x=Mn(),Er(l,t,c,x),Ac(l,i,c))}}function Cc(t){var i=t.alternate;return t===kt||i!==null&&i===kt}function Ec(t,i){fo=la=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function Ac(t,i,l){if((l&4194240)!==0){var c=i.lanes;c&=t.pendingLanes,l|=c,i.lanes=l,Pt(t,l)}}var fa={readContext:ur,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},R0={readContext:ur,useCallback:function(t,i){return Dr().memoizedState=[t,i===void 0?null:i],t},useContext:ur,useEffect:fc,useImperativeHandle:function(t,i,l){return l=l!=null?l.concat([t]):null,ua(4194308,4,gc.bind(null,i,t),l)},useLayoutEffect:function(t,i){return ua(4194308,4,t,i)},useInsertionEffect:function(t,i){return ua(4,2,t,i)},useMemo:function(t,i){var l=Dr();return i=i===void 0?null:i,t=t(),l.memoizedState=[t,i],t},useReducer:function(t,i,l){var c=Dr();return i=l!==void 0?l(i):i,c.memoizedState=c.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},c.queue=t,t=t.dispatch=M0.bind(null,kt,t),[c.memoizedState,t]},useRef:function(t){var i=Dr();return t={current:t},i.memoizedState=t},useState:uc,useDebugValue:Tl,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=uc(!1),i=t[0];return t=_0.bind(null,t[1]),Dr().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,l){var c=kt,x=Dr();if(Rt){if(l===void 0)throw Error(d(407));l=l()}else{if(l=i(),cn===null)throw Error(d(349));(Ki&30)!==0||ic(c,i,l)}x.memoizedState=l;var m={value:l,getSnapshot:i};return x.queue=m,fc(oc.bind(null,c,m,t),[t]),c.flags|=2048,po(9,sc.bind(null,c,m,l,i),void 0,null),l},useId:function(){var t=Dr(),i=cn.identifierPrefix;if(Rt){var l=Wr,c=Vr;l=(c&~(1<<32-Nn(c)-1)).toString(32)+l,i=":"+i+"R"+l,l=ho++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=N0++,i=":"+i+"r"+l.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},D0={readContext:ur,useCallback:xc,useContext:ur,useEffect:vl,useImperativeHandle:pc,useInsertionEffect:dc,useLayoutEffect:hc,useMemo:mc,useReducer:Sl,useRef:cc,useState:function(){return Sl(go)},useDebugValue:Tl,useDeferredValue:function(t){var i=cr();return wc(i,rn.memoizedState,t)},useTransition:function(){var t=Sl(go)[0],i=cr().memoizedState;return[t,i]},useMutableSource:nc,useSyncExternalStore:rc,useId:yc,unstable_isNewReconciler:!1},b0={readContext:ur,useCallback:xc,useContext:ur,useEffect:vl,useImperativeHandle:pc,useInsertionEffect:dc,useLayoutEffect:hc,useMemo:mc,useReducer:Il,useRef:cc,useState:function(){return Il(go)},useDebugValue:Tl,useDeferredValue:function(t){var i=cr();return rn===null?i.memoizedState=t:wc(i,rn.memoizedState,t)},useTransition:function(){var t=Il(go)[0],i=cr().memoizedState;return[t,i]},useMutableSource:nc,useSyncExternalStore:rc,useId:yc,unstable_isNewReconciler:!1};function wr(t,i){if(t&&t.defaultProps){i=ge({},i),t=t.defaultProps;for(var l in t)i[l]===void 0&&(i[l]=t[l]);return i}return i}function Nl(t,i,l,c){i=t.memoizedState,l=l(c,i),l=l==null?i:ge({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var da={isMounted:function(t){return(t=t._reactInternals)?bn(t)===t:!1},enqueueSetState:function(t,i,l){t=t._reactInternals;var c=Mn(),x=Ci(t),m=Yr(c,x);m.payload=i,l!=null&&(m.callback=l),i=xi(t,m,x),i!==null&&(Er(i,t,x,c),ia(i,t,x))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var c=Mn(),x=Ci(t),m=Yr(c,x);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=xi(t,m,x),i!==null&&(Er(i,t,x,c),ia(i,t,x))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=Mn(),c=Ci(t),x=Yr(l,c);x.tag=2,i!=null&&(x.callback=i),i=xi(t,x,c),i!==null&&(Er(i,t,c,l),ia(i,t,c))}};function Sc(t,i,l,c,x,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,v):i.prototype&&i.prototype.isPureReactComponent?!W(l,c)||!W(x,m):!0}function Ic(t,i,l){var c=!1,x=hi,m=i.contextType;return typeof m=="object"&&m!==null?m=ur(m):(x=kn(i)?Gi:Sn.current,c=i.contextTypes,m=(c=c!=null)?ws(t,x):hi),i=new i(l,m),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=da,t.stateNode=i,i._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=x,t.__reactInternalMemoizedMaskedChildContext=m),i}function vc(t,i,l,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==t&&da.enqueueReplaceState(i,i.state,null)}function _l(t,i,l,c){var x=t.stateNode;x.props=l,x.state=t.memoizedState,x.refs={},gl(t);var m=i.contextType;typeof m=="object"&&m!==null?x.context=ur(m):(m=kn(i)?Gi:Sn.current,x.context=ws(t,m)),x.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Nl(t,i,m,l),x.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&da.enqueueReplaceState(x,x.state,null),sa(t,l,x,c),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308)}function Ts(t,i){try{var l="",c=i;do l+=et(c),c=c.return;while(c);var x=l}catch(m){x=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:i,stack:x,digest:null}}function Ml(t,i,l){return{value:t,source:null,stack:l??null,digest:i??null}}function Ol(t,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var L0=typeof WeakMap=="function"?WeakMap:Map;function Tc(t,i,l){l=Yr(-1,l),l.tag=3,l.payload={element:null};var c=i.value;return l.callback=function(){ya||(ya=!0,Gl=c),Ol(t,i)},l}function Nc(t,i,l){l=Yr(-1,l),l.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var x=i.value;l.payload=function(){return c(x)},l.callback=function(){Ol(t,i)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(l.callback=function(){Ol(t,i),typeof c!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),l}function _c(t,i,l){var c=t.pingCache;if(c===null){c=t.pingCache=new L0;var x=new Set;c.set(i,x)}else x=c.get(i),x===void 0&&(x=new Set,c.set(i,x));x.has(l)||(x.add(l),t=Z0.bind(null,t,i,l),i.then(t,t))}function Mc(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function Oc(t,i,l,c,x){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Yr(-1,1),i.tag=2,xi(l,i,1))),l.lanes|=1),t):(t.flags|=65536,t.lanes=x,t)}var k0=ve.ReactCurrentOwner,Bn=!1;function _n(t,i,l,c){i.child=t===null?Ku(i,null,l,c):As(i,t.child,l,c)}function Rc(t,i,l,c,x){l=l.render;var m=i.ref;return Is(i,x),c=El(t,i,l,c,m,x),l=Al(),t!==null&&!Bn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~x,Xr(t,i,x)):(Rt&&l&&il(i),i.flags|=1,_n(t,i,c,x),i.child)}function Dc(t,i,l,c,x){if(t===null){var m=l.type;return typeof m=="function"&&!Jl(m)&&m.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=m,bc(t,i,m,c,x)):(t=va(l.type,null,c,i,i.mode,x),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,(t.lanes&x)===0){var v=m.memoizedProps;if(l=l.compare,l=l!==null?l:W,l(v,c)&&t.ref===i.ref)return Xr(t,i,x)}return i.flags|=1,t=Ai(m,c),t.ref=i.ref,t.return=i,i.child=t}function bc(t,i,l,c,x){if(t!==null){var m=t.memoizedProps;if(W(m,c)&&t.ref===i.ref)if(Bn=!1,i.pendingProps=c=m,(t.lanes&x)!==0)(t.flags&131072)!==0&&(Bn=!0);else return i.lanes=t.lanes,Xr(t,i,x)}return Rl(t,i,l,c,x)}function Lc(t,i,l){var c=i.pendingProps,x=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(_s,qn),qn|=l;else{if((l&1073741824)===0)return t=m!==null?m.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,Tt(_s,qn),qn|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:l,Tt(_s,qn),qn|=c}else m!==null?(c=m.baseLanes|l,i.memoizedState=null):c=l,Tt(_s,qn),qn|=c;return _n(t,i,x,l),i.child}function kc(t,i){var l=i.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Rl(t,i,l,c,x){var m=kn(l)?Gi:Sn.current;return m=ws(i,m),Is(i,x),l=El(t,i,l,c,m,x),c=Al(),t!==null&&!Bn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~x,Xr(t,i,x)):(Rt&&c&&il(i),i.flags|=1,_n(t,i,l,x),i.child)}function Bc(t,i,l,c,x){if(kn(l)){var m=!0;Ko(i)}else m=!1;if(Is(i,x),i.stateNode===null)ga(t,i),Ic(i,l,c),_l(i,l,c,x),c=!0;else if(t===null){var v=i.stateNode,O=i.memoizedProps;v.props=O;var k=v.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=ur(Y):(Y=kn(l)?Gi:Sn.current,Y=ws(i,Y));var $=l.getDerivedStateFromProps,re=typeof $=="function"||typeof v.getSnapshotBeforeUpdate=="function";re||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O!==c||k!==Y)&&vc(i,v,c,Y),pi=!1;var q=i.memoizedState;v.state=q,sa(i,c,v,x),k=i.memoizedState,O!==c||q!==k||Ln.current||pi?(typeof $=="function"&&(Nl(i,l,$,c),k=i.memoizedState),(O=pi||Sc(i,l,O,c,q,k,Y))?(re||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=k),v.props=c,v.state=k,v.context=Y,c=O):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Ju(t,i),O=i.memoizedProps,Y=i.type===i.elementType?O:wr(i.type,O),v.props=Y,re=i.pendingProps,q=v.context,k=l.contextType,typeof k=="object"&&k!==null?k=ur(k):(k=kn(l)?Gi:Sn.current,k=ws(i,k));var me=l.getDerivedStateFromProps;($=typeof me=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O!==re||q!==k)&&vc(i,v,c,k),pi=!1,q=i.memoizedState,v.state=q,sa(i,c,v,x);var Ee=i.memoizedState;O!==re||q!==Ee||Ln.current||pi?(typeof me=="function"&&(Nl(i,l,me,c),Ee=i.memoizedState),(Y=pi||Sc(i,l,Y,c,q,Ee,k)||!1)?($||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,Ee,k),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,Ee,k)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||O===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||O===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Ee),v.props=c,v.state=Ee,v.context=k,c=Y):(typeof v.componentDidUpdate!="function"||O===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||O===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),c=!1)}return Dl(t,i,l,c,m,x)}function Dl(t,i,l,c,x,m){kc(t,i);var v=(i.flags&128)!==0;if(!c&&!v)return x&&zu(i,l,!1),Xr(t,i,m);c=i.stateNode,k0.current=i;var O=v&&typeof l.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,t!==null&&v?(i.child=As(i,t.child,null,m),i.child=As(i,null,O,m)):_n(t,i,O,m),i.memoizedState=c.state,x&&zu(i,l,!0),i.child}function Pc(t){var i=t.stateNode;i.pendingContext?Uu(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Uu(t,i.context,!1),pl(t,i.containerInfo)}function Fc(t,i,l,c,x){return Es(),ll(x),i.flags|=256,_n(t,i,l,c),i.child}var bl={dehydrated:null,treeContext:null,retryLane:0};function Ll(t){return{baseLanes:t,cachePool:null,transitions:null}}function Uc(t,i,l){var c=i.pendingProps,x=Lt.current,m=!1,v=(i.flags&128)!==0,O;if((O=v)||(O=t!==null&&t.memoizedState===null?!1:(x&2)!==0),O?(m=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(x|=1),Tt(Lt,x&1),t===null)return al(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(v=c.children,t=c.fallback,m?(c=i.mode,m=i.child,v={mode:"hidden",children:v},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=v):m=Ta(v,c,0,null),t=ts(t,c,l,null),m.return=i,t.return=i,m.sibling=t,i.child=m,i.child.memoizedState=Ll(l),i.memoizedState=bl,t):kl(i,v));if(x=t.memoizedState,x!==null&&(O=x.dehydrated,O!==null))return B0(t,i,v,c,O,x,l);if(m){m=c.fallback,v=i.mode,x=t.child,O=x.sibling;var k={mode:"hidden",children:c.children};return(v&1)===0&&i.child!==x?(c=i.child,c.childLanes=0,c.pendingProps=k,i.deletions=null):(c=Ai(x,k),c.subtreeFlags=x.subtreeFlags&14680064),O!==null?m=Ai(O,m):(m=ts(m,v,l,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,v=t.child.memoizedState,v=v===null?Ll(l):{baseLanes:v.baseLanes|l,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=t.childLanes&~l,i.memoizedState=bl,c}return m=t.child,t=m.sibling,c=Ai(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=l),c.return=i,c.sibling=null,t!==null&&(l=i.deletions,l===null?(i.deletions=[t],i.flags|=16):l.push(t)),i.child=c,i.memoizedState=null,c}function kl(t,i){return i=Ta({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function ha(t,i,l,c){return c!==null&&ll(c),As(i,t.child,null,l),t=kl(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function B0(t,i,l,c,x,m,v){if(l)return i.flags&256?(i.flags&=-257,c=Ml(Error(d(422))),ha(t,i,v,c)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(m=c.fallback,x=i.mode,c=Ta({mode:"visible",children:c.children},x,0,null),m=ts(m,x,v,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&As(i,t.child,null,v),i.child.memoizedState=Ll(v),i.memoizedState=bl,m);if((i.mode&1)===0)return ha(t,i,v,null);if(x.data==="$!"){if(c=x.nextSibling&&x.nextSibling.dataset,c)var O=c.dgst;return c=O,m=Error(d(419)),c=Ml(m,c,void 0),ha(t,i,v,c)}if(O=(v&t.childLanes)!==0,Bn||O){if(c=cn,c!==null){switch(v&-v){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(c.suspendedLanes|v))!==0?0:x,x!==0&&x!==m.retryLane&&(m.retryLane=x,Gr(t,x),Er(c,t,x,-1))}return ql(),c=Ml(Error(d(421))),ha(t,i,v,c)}return x.data==="$?"?(i.flags|=128,i.child=t.child,i=Q0.bind(null,t),x._reactRetry=i,null):(t=m.treeContext,Kn=fi(x.nextSibling),Qn=i,Rt=!0,mr=null,t!==null&&(ar[lr++]=Vr,ar[lr++]=Wr,ar[lr++]=Yi,Vr=t.id,Wr=t.overflow,Yi=i),i=kl(i,c.children),i.flags|=4096,i)}function jc(t,i,l){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),dl(t.return,i,l)}function Bl(t,i,l,c,x){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:x}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=l,m.tailMode=x)}function zc(t,i,l){var c=i.pendingProps,x=c.revealOrder,m=c.tail;if(_n(t,i,c.children,l),c=Lt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jc(t,l,i);else if(t.tag===19)jc(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Tt(Lt,c),(i.mode&1)===0)i.memoizedState=null;else switch(x){case"forwards":for(l=i.child,x=null;l!==null;)t=l.alternate,t!==null&&oa(t)===null&&(x=l),l=l.sibling;l=x,l===null?(x=i.child,i.child=null):(x=l.sibling,l.sibling=null),Bl(i,!1,x,l,m);break;case"backwards":for(l=null,x=i.child,i.child=null;x!==null;){if(t=x.alternate,t!==null&&oa(t)===null){i.child=x;break}t=x.sibling,x.sibling=l,l=x,x=t}Bl(i,!0,l,null,m);break;case"together":Bl(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ga(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function Xr(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),qi|=i.lanes,(l&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(d(153));if(i.child!==null){for(t=i.child,l=Ai(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=Ai(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function P0(t,i,l){switch(i.tag){case 3:Pc(i),Es();break;case 5:tc(i);break;case 1:kn(i.type)&&Ko(i);break;case 4:pl(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,x=i.memoizedProps.value;Tt(na,c._currentValue),c._currentValue=x;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Tt(Lt,Lt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Uc(t,i,l):(Tt(Lt,Lt.current&1),t=Xr(t,i,l),t!==null?t.sibling:null);Tt(Lt,Lt.current&1);break;case 19:if(c=(l&i.childLanes)!==0,(t.flags&128)!==0){if(c)return zc(t,i,l);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Tt(Lt,Lt.current),c)break;return null;case 22:case 23:return i.lanes=0,Lc(t,i,l)}return Xr(t,i,l)}var Hc,Pl,Vc,Wc;Hc=function(t,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Pl=function(){},Vc=function(t,i,l,c){var x=t.memoizedProps;if(x!==c){t=i.stateNode,Qi(Rr.current);var m=null;switch(l){case"input":x=Sr(t,x),c=Sr(t,c),m=[];break;case"select":x=ge({},x,{value:void 0}),c=ge({},c,{value:void 0}),m=[];break;case"textarea":x=qr(t,x),c=qr(t,c),m=[];break;default:typeof x.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Xo)}lt(l,c);var v;l=null;for(Y in x)if(!c.hasOwnProperty(Y)&&x.hasOwnProperty(Y)&&x[Y]!=null)if(Y==="style"){var O=x[Y];for(v in O)O.hasOwnProperty(v)&&(l||(l={}),l[v]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(E.hasOwnProperty(Y)?m||(m=[]):(m=m||[]).push(Y,null));for(Y in c){var k=c[Y];if(O=x?.[Y],c.hasOwnProperty(Y)&&k!==O&&(k!=null||O!=null))if(Y==="style")if(O){for(v in O)!O.hasOwnProperty(v)||k&&k.hasOwnProperty(v)||(l||(l={}),l[v]="");for(v in k)k.hasOwnProperty(v)&&O[v]!==k[v]&&(l||(l={}),l[v]=k[v])}else l||(m||(m=[]),m.push(Y,l)),l=k;else Y==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,O=O?O.__html:void 0,k!=null&&O!==k&&(m=m||[]).push(Y,k)):Y==="children"?typeof k!="string"&&typeof k!="number"||(m=m||[]).push(Y,""+k):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(E.hasOwnProperty(Y)?(k!=null&&Y==="onScroll"&&Nt("scroll",t),m||O===k||(m=[])):(m=m||[]).push(Y,k))}l&&(m=m||[]).push("style",l);var Y=m;(i.updateQueue=Y)&&(i.flags|=4)}},Wc=function(t,i,l,c){l!==c&&(i.flags|=4)};function xo(t,i){if(!Rt)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function vn(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,c=0;if(i)for(var x=t.child;x!==null;)l|=x.lanes|x.childLanes,c|=x.subtreeFlags&14680064,c|=x.flags&14680064,x.return=t,x=x.sibling;else for(x=t.child;x!==null;)l|=x.lanes|x.childLanes,c|=x.subtreeFlags,c|=x.flags,x.return=t,x=x.sibling;return t.subtreeFlags|=c,t.childLanes=l,i}function F0(t,i,l){var c=i.pendingProps;switch(sl(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(i),null;case 1:return kn(i.type)&&Qo(),vn(i),null;case 3:return c=i.stateNode,vs(),_t(Ln),_t(Sn),wl(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(ea(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mr!==null&&(Zl(mr),mr=null))),Pl(t,i),vn(i),null;case 5:xl(i);var x=Qi(co.current);if(l=i.type,t!==null&&i.stateNode!=null)Vc(t,i,l,c,x),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(d(166));return vn(i),null}if(t=Qi(Rr.current),ea(i)){c=i.stateNode,l=i.type;var m=i.memoizedProps;switch(c[Or]=i,c[so]=m,t=(i.mode&1)!==0,l){case"dialog":Nt("cancel",c),Nt("close",c);break;case"iframe":case"object":case"embed":Nt("load",c);break;case"video":case"audio":for(x=0;x<no.length;x++)Nt(no[x],c);break;case"source":Nt("error",c);break;case"img":case"image":case"link":Nt("error",c),Nt("load",c);break;case"details":Nt("toggle",c);break;case"input":jn(c,m),Nt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Nt("invalid",c);break;case"textarea":Ls(c,m),Nt("invalid",c)}lt(l,m),x=null;for(var v in m)if(m.hasOwnProperty(v)){var O=m[v];v==="children"?typeof O=="string"?c.textContent!==O&&(m.suppressHydrationWarning!==!0&&Yo(c.textContent,O,t),x=["children",O]):typeof O=="number"&&c.textContent!==""+O&&(m.suppressHydrationWarning!==!0&&Yo(c.textContent,O,t),x=["children",""+O]):E.hasOwnProperty(v)&&O!=null&&v==="onScroll"&&Nt("scroll",c)}switch(l){case"input":qt(c),pt(c,m,!0);break;case"textarea":qt(c),ns(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Xo)}c=x,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=x.nodeType===9?x:x.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=On(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=v.createElement(l,{is:c.is}):(t=v.createElement(l),l==="select"&&(v=t,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):t=v.createElementNS(t,l),t[Or]=i,t[so]=c,Hc(t,i,!1,!1),i.stateNode=t;e:{switch(v=At(l,c),l){case"dialog":Nt("cancel",t),Nt("close",t),x=c;break;case"iframe":case"object":case"embed":Nt("load",t),x=c;break;case"video":case"audio":for(x=0;x<no.length;x++)Nt(no[x],t);x=c;break;case"source":Nt("error",t),x=c;break;case"img":case"image":case"link":Nt("error",t),Nt("load",t),x=c;break;case"details":Nt("toggle",t),x=c;break;case"input":jn(t,c),x=Sr(t,c),Nt("invalid",t);break;case"option":x=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},x=ge({},c,{value:void 0}),Nt("invalid",t);break;case"textarea":Ls(t,c),x=qr(t,c),Nt("invalid",t);break;default:x=c}lt(l,x),O=x;for(m in O)if(O.hasOwnProperty(m)){var k=O[m];m==="style"?ce(t,k):m==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&on(t,k)):m==="children"?typeof k=="string"?(l!=="textarea"||k!=="")&&Jr(t,k):typeof k=="number"&&Jr(t,""+k):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(E.hasOwnProperty(m)?k!=null&&m==="onScroll"&&Nt("scroll",t):k!=null&&fe(t,m,k,v))}switch(l){case"input":qt(t),pt(t,c,!1);break;case"textarea":qt(t),ns(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Pe(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?we(t,!!c.multiple,m,!1):c.defaultValue!=null&&we(t,!!c.multiple,c.defaultValue,!0);break;default:typeof x.onClick=="function"&&(t.onclick=Xo)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return vn(i),null;case 6:if(t&&i.stateNode!=null)Wc(t,i,t.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(d(166));if(l=Qi(co.current),Qi(Rr.current),ea(i)){if(c=i.stateNode,l=i.memoizedProps,c[Or]=i,(m=c.nodeValue!==l)&&(t=Qn,t!==null))switch(t.tag){case 3:Yo(c.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yo(c.nodeValue,l,(t.mode&1)!==0)}m&&(i.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Or]=i,i.stateNode=c}return vn(i),null;case 13:if(_t(Lt),c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&Kn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Xu(),Es(),i.flags|=98560,m=!1;else if(m=ea(i),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(d(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(d(317));m[Or]=i}else Es(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vn(i),m=!1}else mr!==null&&(Zl(mr),mr=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(Lt.current&1)!==0?sn===0&&(sn=3):ql())),i.updateQueue!==null&&(i.flags|=4),vn(i),null);case 4:return vs(),Pl(t,i),t===null&&ro(i.stateNode.containerInfo),vn(i),null;case 10:return fl(i.type._context),vn(i),null;case 17:return kn(i.type)&&Qo(),vn(i),null;case 19:if(_t(Lt),m=i.memoizedState,m===null)return vn(i),null;if(c=(i.flags&128)!==0,v=m.rendering,v===null)if(c)xo(m,!1);else{if(sn!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(v=oa(t),v!==null){for(i.flags|=128,xo(m,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=l,l=i.child;l!==null;)m=l,t=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,t=v.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return Tt(Lt,Lt.current&1|2),i.child}t=t.sibling}m.tail!==null&&ht()>Ms&&(i.flags|=128,c=!0,xo(m,!1),i.lanes=4194304)}else{if(!c)if(t=oa(v),t!==null){if(i.flags|=128,c=!0,l=t.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),xo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Rt)return vn(i),null}else 2*ht()-m.renderingStartTime>Ms&&l!==1073741824&&(i.flags|=128,c=!0,xo(m,!1),i.lanes=4194304);m.isBackwards?(v.sibling=i.child,i.child=v):(l=m.last,l!==null?l.sibling=v:i.child=v,m.last=v)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=ht(),i.sibling=null,l=Lt.current,Tt(Lt,c?l&1|2:l&1),i):(vn(i),null);case 22:case 23:return Kl(),c=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(qn&1073741824)!==0&&(vn(i),i.subtreeFlags&6&&(i.flags|=8192)):vn(i),null;case 24:return null;case 25:return null}throw Error(d(156,i.tag))}function U0(t,i){switch(sl(i),i.tag){case 1:return kn(i.type)&&Qo(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return vs(),_t(Ln),_t(Sn),wl(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return xl(i),null;case 13:if(_t(Lt),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(d(340));Es()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return _t(Lt),null;case 4:return vs(),null;case 10:return fl(i.type._context),null;case 22:case 23:return Kl(),null;case 24:return null;default:return null}}var pa=!1,Tn=!1,j0=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Ns(t,i){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){Ut(t,i,c)}else l.current=null}function Fl(t,i,l){try{l()}catch(c){Ut(t,i,c)}}var Gc=!1;function z0(t,i){if(Ka=_r,t=Qe(),ze(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var x=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var v=0,O=-1,k=-1,Y=0,$=0,re=t,q=null;t:for(;;){for(var me;re!==l||x!==0&&re.nodeType!==3||(O=v+x),re!==m||c!==0&&re.nodeType!==3||(k=v+c),re.nodeType===3&&(v+=re.nodeValue.length),(me=re.firstChild)!==null;)q=re,re=me;for(;;){if(re===t)break t;if(q===l&&++Y===x&&(O=v),q===m&&++$===c&&(k=v),(me=re.nextSibling)!==null)break;re=q,q=re.parentNode}re=me}l=O===-1||k===-1?null:{start:O,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(qa={focusedElem:t,selectionRange:l},_r=!1,Ce=i;Ce!==null;)if(i=Ce,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ce=t;else for(;Ce!==null;){i=Ce;try{var Ee=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Se=Ee.memoizedProps,Yt=Ee.memoizedState,H=i.stateNode,F=H.getSnapshotBeforeUpdate(i.elementType===i.type?Se:wr(i.type,Se),Yt);H.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var V=i.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(d(163))}}catch(le){Ut(i,i.return,le)}if(t=i.sibling,t!==null){t.return=i.return,Ce=t;break}Ce=i.return}return Ee=Gc,Gc=!1,Ee}function mo(t,i,l){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var x=c=c.next;do{if((x.tag&t)===t){var m=x.destroy;x.destroy=void 0,m!==void 0&&Fl(i,l,m)}x=x.next}while(x!==c)}}function xa(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&t)===t){var c=l.create;l.destroy=c()}l=l.next}while(l!==i)}}function Ul(t){var i=t.ref;if(i!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof i=="function"?i(t):i.current=t}}function Yc(t){var i=t.alternate;i!==null&&(t.alternate=null,Yc(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Or],delete i[so],delete i[tl],delete i[S0],delete i[I0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xc(t){return t.tag===5||t.tag===3||t.tag===4}function Zc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jl(t,i,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(t,i):l.insertBefore(t,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(t,l)):(i=l,i.appendChild(t)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Xo));else if(c!==4&&(t=t.child,t!==null))for(jl(t,i,l),t=t.sibling;t!==null;)jl(t,i,l),t=t.sibling}function zl(t,i,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(zl(t,i,l),t=t.sibling;t!==null;)zl(t,i,l),t=t.sibling}var xn=null,yr=!1;function mi(t,i,l){for(l=l.child;l!==null;)Qc(t,i,l),l=l.sibling}function Qc(t,i,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(rt,l)}catch{}switch(l.tag){case 5:Tn||Ns(l,i);case 6:var c=xn,x=yr;xn=null,mi(t,i,l),xn=c,yr=x,xn!==null&&(yr?(t=xn,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):xn.removeChild(l.stateNode));break;case 18:xn!==null&&(yr?(t=xn,l=l.stateNode,t.nodeType===8?el(t.parentNode,l):t.nodeType===1&&el(t,l),gr(t)):el(xn,l.stateNode));break;case 4:c=xn,x=yr,xn=l.stateNode.containerInfo,yr=!0,mi(t,i,l),xn=c,yr=x;break;case 0:case 11:case 14:case 15:if(!Tn&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){x=c=c.next;do{var m=x,v=m.destroy;m=m.tag,v!==void 0&&((m&2)!==0||(m&4)!==0)&&Fl(l,i,v),x=x.next}while(x!==c)}mi(t,i,l);break;case 1:if(!Tn&&(Ns(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(O){Ut(l,i,O)}mi(t,i,l);break;case 21:mi(t,i,l);break;case 22:l.mode&1?(Tn=(c=Tn)||l.memoizedState!==null,mi(t,i,l),Tn=c):mi(t,i,l);break;default:mi(t,i,l)}}function Kc(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new j0),i.forEach(function(c){var x=K0.bind(null,t,c);l.has(c)||(l.add(c),c.then(x,x))})}}function Cr(t,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var x=l[c];try{var m=t,v=i,O=v;e:for(;O!==null;){switch(O.tag){case 5:xn=O.stateNode,yr=!1;break e;case 3:xn=O.stateNode.containerInfo,yr=!0;break e;case 4:xn=O.stateNode.containerInfo,yr=!0;break e}O=O.return}if(xn===null)throw Error(d(160));Qc(m,v,x),xn=null,yr=!1;var k=x.alternate;k!==null&&(k.return=null),x.return=null}catch(Y){Ut(x,i,Y)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)qc(i,t),i=i.sibling}function qc(t,i){var l=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cr(i,t),br(t),c&4){try{mo(3,t,t.return),xa(3,t)}catch(Se){Ut(t,t.return,Se)}try{mo(5,t,t.return)}catch(Se){Ut(t,t.return,Se)}}break;case 1:Cr(i,t),br(t),c&512&&l!==null&&Ns(l,l.return);break;case 5:if(Cr(i,t),br(t),c&512&&l!==null&&Ns(l,l.return),t.flags&32){var x=t.stateNode;try{Jr(x,"")}catch(Se){Ut(t,t.return,Se)}}if(c&4&&(x=t.stateNode,x!=null)){var m=t.memoizedProps,v=l!==null?l.memoizedProps:m,O=t.type,k=t.updateQueue;if(t.updateQueue=null,k!==null)try{O==="input"&&m.type==="radio"&&m.name!=null&&Kr(x,m),At(O,v);var Y=At(O,m);for(v=0;v<k.length;v+=2){var $=k[v],re=k[v+1];$==="style"?ce(x,re):$==="dangerouslySetInnerHTML"?on(x,re):$==="children"?Jr(x,re):fe(x,$,re,Y)}switch(O){case"input":zt(x,m);break;case"textarea":tr(x,m);break;case"select":var q=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!m.multiple;var me=m.value;me!=null?we(x,!!m.multiple,me,!1):q!==!!m.multiple&&(m.defaultValue!=null?we(x,!!m.multiple,m.defaultValue,!0):we(x,!!m.multiple,m.multiple?[]:"",!1))}x[so]=m}catch(Se){Ut(t,t.return,Se)}}break;case 6:if(Cr(i,t),br(t),c&4){if(t.stateNode===null)throw Error(d(162));x=t.stateNode,m=t.memoizedProps;try{x.nodeValue=m}catch(Se){Ut(t,t.return,Se)}}break;case 3:if(Cr(i,t),br(t),c&4&&l!==null&&l.memoizedState.isDehydrated)try{gr(i.containerInfo)}catch(Se){Ut(t,t.return,Se)}break;case 4:Cr(i,t),br(t);break;case 13:Cr(i,t),br(t),x=t.child,x.flags&8192&&(m=x.memoizedState!==null,x.stateNode.isHidden=m,!m||x.alternate!==null&&x.alternate.memoizedState!==null||(Wl=ht())),c&4&&Kc(t);break;case 22:if($=l!==null&&l.memoizedState!==null,t.mode&1?(Tn=(Y=Tn)||$,Cr(i,t),Tn=Y):Cr(i,t),br(t),c&8192){if(Y=t.memoizedState!==null,(t.stateNode.isHidden=Y)&&!$&&(t.mode&1)!==0)for(Ce=t,$=t.child;$!==null;){for(re=Ce=$;Ce!==null;){switch(q=Ce,me=q.child,q.tag){case 0:case 11:case 14:case 15:mo(4,q,q.return);break;case 1:Ns(q,q.return);var Ee=q.stateNode;if(typeof Ee.componentWillUnmount=="function"){c=q,l=q.return;try{i=c,Ee.props=i.memoizedProps,Ee.state=i.memoizedState,Ee.componentWillUnmount()}catch(Se){Ut(c,l,Se)}}break;case 5:Ns(q,q.return);break;case 22:if(q.memoizedState!==null){e1(re);continue}}me!==null?(me.return=q,Ce=me):e1(re)}$=$.sibling}e:for($=null,re=t;;){if(re.tag===5){if($===null){$=re;try{x=re.stateNode,Y?(m=x.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(O=re.stateNode,k=re.memoizedProps.style,v=k!=null&&k.hasOwnProperty("display")?k.display:null,O.style.display=Dt("display",v))}catch(Se){Ut(t,t.return,Se)}}}else if(re.tag===6){if($===null)try{re.stateNode.nodeValue=Y?"":re.memoizedProps}catch(Se){Ut(t,t.return,Se)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===t)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===t)break e;for(;re.sibling===null;){if(re.return===null||re.return===t)break e;$===re&&($=null),re=re.return}$===re&&($=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Cr(i,t),br(t),c&4&&Kc(t);break;case 21:break;default:Cr(i,t),br(t)}}function br(t){var i=t.flags;if(i&2){try{e:{for(var l=t.return;l!==null;){if(Xc(l)){var c=l;break e}l=l.return}throw Error(d(160))}switch(c.tag){case 5:var x=c.stateNode;c.flags&32&&(Jr(x,""),c.flags&=-33);var m=Zc(t);zl(t,m,x);break;case 3:case 4:var v=c.stateNode.containerInfo,O=Zc(t);jl(t,O,v);break;default:throw Error(d(161))}}catch(k){Ut(t,t.return,k)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function H0(t,i,l){Ce=t,Jc(t)}function Jc(t,i,l){for(var c=(t.mode&1)!==0;Ce!==null;){var x=Ce,m=x.child;if(x.tag===22&&c){var v=x.memoizedState!==null||pa;if(!v){var O=x.alternate,k=O!==null&&O.memoizedState!==null||Tn;O=pa;var Y=Tn;if(pa=v,(Tn=k)&&!Y)for(Ce=x;Ce!==null;)v=Ce,k=v.child,v.tag===22&&v.memoizedState!==null?t1(x):k!==null?(k.return=v,Ce=k):t1(x);for(;m!==null;)Ce=m,Jc(m),m=m.sibling;Ce=x,pa=O,Tn=Y}$c(t)}else(x.subtreeFlags&8772)!==0&&m!==null?(m.return=x,Ce=m):$c(t)}}function $c(t){for(;Ce!==null;){var i=Ce;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Tn||xa(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Tn)if(l===null)c.componentDidMount();else{var x=i.elementType===i.type?l.memoizedProps:wr(i.type,l.memoizedProps);c.componentDidUpdate(x,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&ec(i,m,c);break;case 3:var v=i.updateQueue;if(v!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}ec(i,v,l)}break;case 5:var O=i.stateNode;if(l===null&&i.flags&4){l=O;var k=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&l.focus();break;case"img":k.src&&(l.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Y=i.alternate;if(Y!==null){var $=Y.memoizedState;if($!==null){var re=$.dehydrated;re!==null&&gr(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(d(163))}Tn||i.flags&512&&Ul(i)}catch(q){Ut(i,i.return,q)}}if(i===t){Ce=null;break}if(l=i.sibling,l!==null){l.return=i.return,Ce=l;break}Ce=i.return}}function e1(t){for(;Ce!==null;){var i=Ce;if(i===t){Ce=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Ce=l;break}Ce=i.return}}function t1(t){for(;Ce!==null;){var i=Ce;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{xa(4,i)}catch(k){Ut(i,l,k)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var x=i.return;try{c.componentDidMount()}catch(k){Ut(i,x,k)}}var m=i.return;try{Ul(i)}catch(k){Ut(i,m,k)}break;case 5:var v=i.return;try{Ul(i)}catch(k){Ut(i,v,k)}}}catch(k){Ut(i,i.return,k)}if(i===t){Ce=null;break}var O=i.sibling;if(O!==null){O.return=i.return,Ce=O;break}Ce=i.return}}var V0=Math.ceil,ma=ve.ReactCurrentDispatcher,Hl=ve.ReactCurrentOwner,fr=ve.ReactCurrentBatchConfig,ot=0,cn=null,Qt=null,mn=0,qn=0,_s=di(0),sn=0,wo=null,qi=0,wa=0,Vl=0,yo=null,Pn=null,Wl=0,Ms=1/0,Zr=null,ya=!1,Gl=null,wi=null,Ca=!1,yi=null,Ea=0,Co=0,Yl=null,Aa=-1,Sa=0;function Mn(){return(ot&6)!==0?ht():Aa!==-1?Aa:Aa=ht()}function Ci(t){return(t.mode&1)===0?1:(ot&2)!==0&&mn!==0?mn&-mn:T0.transition!==null?(Sa===0&&(Sa=$t()),Sa):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:Ys(t.type)),t)}function Er(t,i,l,c){if(50<Co)throw Co=0,Yl=null,Error(d(185));_(t,l,c),((ot&2)===0||t!==cn)&&(t===cn&&((ot&2)===0&&(wa|=l),sn===4&&Ei(t,mn)),Fn(t,c),l===1&&ot===0&&(i.mode&1)===0&&(Ms=ht()+500,qo&&gi()))}function Fn(t,i){var l=t.callbackNode;ti(t,i);var c=Gn(t,t===cn?mn:0);if(c===0)l!==null&&an(l),t.callbackNode=null,t.callbackPriority=0;else if(i=c&-c,t.callbackPriority!==i){if(l!=null&&an(l),i===1)t.tag===0?v0(r1.bind(null,t)):Hu(r1.bind(null,t)),E0(function(){(ot&6)===0&&gi()}),l=null;else{switch(Do(c)){case 1:l=K;break;case 4:l=Oo;break;case 16:l=Ct;break;case 536870912:l=Ro;break;default:l=Ct}l=f1(l,n1.bind(null,t))}t.callbackPriority=i,t.callbackNode=l}}function n1(t,i){if(Aa=-1,Sa=0,(ot&6)!==0)throw Error(d(327));var l=t.callbackNode;if(Os()&&t.callbackNode!==l)return null;var c=Gn(t,t===cn?mn:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||i)i=Ia(t,c);else{i=c;var x=ot;ot|=2;var m=s1();(cn!==t||mn!==i)&&(Zr=null,Ms=ht()+500,$i(t,i));do try{Y0();break}catch(O){i1(t,O)}while(!0);cl(),ma.current=m,ot=x,Qt!==null?i=0:(cn=null,mn=0,i=sn)}if(i!==0){if(i===2&&(x=gt(t),x!==0&&(c=x,i=Xl(t,x))),i===1)throw l=wo,$i(t,0),Ei(t,c),Fn(t,ht()),l;if(i===6)Ei(t,c);else{if(x=t.current.alternate,(c&30)===0&&!W0(x)&&(i=Ia(t,c),i===2&&(m=gt(t),m!==0&&(c=m,i=Xl(t,m))),i===1))throw l=wo,$i(t,0),Ei(t,c),Fn(t,ht()),l;switch(t.finishedWork=x,t.finishedLanes=c,i){case 0:case 1:throw Error(d(345));case 2:es(t,Pn,Zr);break;case 3:if(Ei(t,c),(c&130023424)===c&&(i=Wl+500-ht(),10<i)){if(Gn(t,0)!==0)break;if(x=t.suspendedLanes,(x&c)!==c){Mn(),t.pingedLanes|=t.suspendedLanes&x;break}t.timeoutHandle=$a(es.bind(null,t,Pn,Zr),i);break}es(t,Pn,Zr);break;case 4:if(Ei(t,c),(c&4194240)===c)break;for(i=t.eventTimes,x=-1;0<c;){var v=31-Nn(c);m=1<<v,v=i[v],v>x&&(x=v),c&=~m}if(c=x,c=ht()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*V0(c/1960))-c,10<c){t.timeoutHandle=$a(es.bind(null,t,Pn,Zr),c);break}es(t,Pn,Zr);break;case 5:es(t,Pn,Zr);break;default:throw Error(d(329))}}}return Fn(t,ht()),t.callbackNode===l?n1.bind(null,t):null}function Xl(t,i){var l=yo;return t.current.memoizedState.isDehydrated&&($i(t,i).flags|=256),t=Ia(t,i),t!==2&&(i=Pn,Pn=l,i!==null&&Zl(i)),t}function Zl(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function W0(t){for(var i=t;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var x=l[c],m=x.getSnapshot;x=x.value;try{if(!U(m(),x))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ei(t,i){for(i&=~Vl,i&=~wa,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var l=31-Nn(i),c=1<<l;t[l]=-1,i&=~c}}function r1(t){if((ot&6)!==0)throw Error(d(327));Os();var i=Gn(t,0);if((i&1)===0)return Fn(t,ht()),null;var l=Ia(t,i);if(t.tag!==0&&l===2){var c=gt(t);c!==0&&(i=c,l=Xl(t,c))}if(l===1)throw l=wo,$i(t,0),Ei(t,i),Fn(t,ht()),l;if(l===6)throw Error(d(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,es(t,Pn,Zr),Fn(t,ht()),null}function Ql(t,i){var l=ot;ot|=1;try{return t(i)}finally{ot=l,ot===0&&(Ms=ht()+500,qo&&gi())}}function Ji(t){yi!==null&&yi.tag===0&&(ot&6)===0&&Os();var i=ot;ot|=1;var l=fr.transition,c=Ze;try{if(fr.transition=null,Ze=1,t)return t()}finally{Ze=c,fr.transition=l,ot=i,(ot&6)===0&&gi()}}function Kl(){qn=_s.current,_t(_s)}function $i(t,i){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,C0(l)),Qt!==null)for(l=Qt.return;l!==null;){var c=l;switch(sl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Qo();break;case 3:vs(),_t(Ln),_t(Sn),wl();break;case 5:xl(c);break;case 4:vs();break;case 13:_t(Lt);break;case 19:_t(Lt);break;case 10:fl(c.type._context);break;case 22:case 23:Kl()}l=l.return}if(cn=t,Qt=t=Ai(t.current,null),mn=qn=i,sn=0,wo=null,Vl=wa=qi=0,Pn=yo=null,Zi!==null){for(i=0;i<Zi.length;i++)if(l=Zi[i],c=l.interleaved,c!==null){l.interleaved=null;var x=c.next,m=l.pending;if(m!==null){var v=m.next;m.next=x,c.next=v}l.pending=c}Zi=null}return t}function i1(t,i){do{var l=Qt;try{if(cl(),aa.current=fa,la){for(var c=kt.memoizedState;c!==null;){var x=c.queue;x!==null&&(x.pending=null),c=c.next}la=!1}if(Ki=0,un=rn=kt=null,fo=!1,ho=0,Hl.current=null,l===null||l.return===null){sn=1,wo=i,Qt=null;break}e:{var m=t,v=l.return,O=l,k=i;if(i=mn,O.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var Y=k,$=O,re=$.tag;if(($.mode&1)===0&&(re===0||re===11||re===15)){var q=$.alternate;q?($.updateQueue=q.updateQueue,$.memoizedState=q.memoizedState,$.lanes=q.lanes):($.updateQueue=null,$.memoizedState=null)}var me=Mc(v);if(me!==null){me.flags&=-257,Oc(me,v,O,m,i),me.mode&1&&_c(m,Y,i),i=me,k=Y;var Ee=i.updateQueue;if(Ee===null){var Se=new Set;Se.add(k),i.updateQueue=Se}else Ee.add(k);break e}else{if((i&1)===0){_c(m,Y,i),ql();break e}k=Error(d(426))}}else if(Rt&&O.mode&1){var Yt=Mc(v);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),Oc(Yt,v,O,m,i),ll(Ts(k,O));break e}}m=k=Ts(k,O),sn!==4&&(sn=2),yo===null?yo=[m]:yo.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var H=Tc(m,k,i);$u(m,H);break e;case 1:O=k;var F=m.type,V=m.stateNode;if((m.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(wi===null||!wi.has(V)))){m.flags|=65536,i&=-i,m.lanes|=i;var le=Nc(m,O,i);$u(m,le);break e}}m=m.return}while(m!==null)}a1(l)}catch(Ie){i=Ie,Qt===l&&l!==null&&(Qt=l=l.return);continue}break}while(!0)}function s1(){var t=ma.current;return ma.current=fa,t===null?fa:t}function ql(){(sn===0||sn===3||sn===2)&&(sn=4),cn===null||(qi&268435455)===0&&(wa&268435455)===0||Ei(cn,mn)}function Ia(t,i){var l=ot;ot|=2;var c=s1();(cn!==t||mn!==i)&&(Zr=null,$i(t,i));do try{G0();break}catch(x){i1(t,x)}while(!0);if(cl(),ot=l,ma.current=c,Qt!==null)throw Error(d(261));return cn=null,mn=0,sn}function G0(){for(;Qt!==null;)o1(Qt)}function Y0(){for(;Qt!==null&&!St();)o1(Qt)}function o1(t){var i=c1(t.alternate,t,qn);t.memoizedProps=t.pendingProps,i===null?a1(t):Qt=i,Hl.current=null}function a1(t){var i=t;do{var l=i.alternate;if(t=i.return,(i.flags&32768)===0){if(l=F0(l,i,qn),l!==null){Qt=l;return}}else{if(l=U0(l,i),l!==null){l.flags&=32767,Qt=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sn=6,Qt=null;return}}if(i=i.sibling,i!==null){Qt=i;return}Qt=i=t}while(i!==null);sn===0&&(sn=5)}function es(t,i,l){var c=Ze,x=fr.transition;try{fr.transition=null,Ze=1,X0(t,i,l,c)}finally{fr.transition=x,Ze=c}return null}function X0(t,i,l,c){do Os();while(yi!==null);if((ot&6)!==0)throw Error(d(327));l=t.finishedWork;var x=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(d(177));t.callbackNode=null,t.callbackPriority=0;var m=l.lanes|l.childLanes;if(_e(t,m),t===cn&&(Qt=cn=null,mn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ca||(Ca=!0,f1(Ct,function(){return Os(),null})),m=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||m){m=fr.transition,fr.transition=null;var v=Ze;Ze=1;var O=ot;ot|=4,Hl.current=null,z0(t,l),qc(l,t),An(qa),_r=!!Ka,qa=Ka=null,t.current=l,H0(l),Mo(),ot=O,Ze=v,fr.transition=m}else t.current=l;if(Ca&&(Ca=!1,yi=t,Ea=x),m=t.pendingLanes,m===0&&(wi=null),$e(l.stateNode),Fn(t,ht()),i!==null)for(c=t.onRecoverableError,l=0;l<i.length;l++)x=i[l],c(x.value,{componentStack:x.stack,digest:x.digest});if(ya)throw ya=!1,t=Gl,Gl=null,t;return(Ea&1)!==0&&t.tag!==0&&Os(),m=t.pendingLanes,(m&1)!==0?t===Yl?Co++:(Co=0,Yl=t):Co=0,gi(),null}function Os(){if(yi!==null){var t=Do(Ea),i=fr.transition,l=Ze;try{if(fr.transition=null,Ze=16>t?16:t,yi===null)var c=!1;else{if(t=yi,yi=null,Ea=0,(ot&6)!==0)throw Error(d(331));var x=ot;for(ot|=4,Ce=t.current;Ce!==null;){var m=Ce,v=m.child;if((Ce.flags&16)!==0){var O=m.deletions;if(O!==null){for(var k=0;k<O.length;k++){var Y=O[k];for(Ce=Y;Ce!==null;){var $=Ce;switch($.tag){case 0:case 11:case 15:mo(8,$,m)}var re=$.child;if(re!==null)re.return=$,Ce=re;else for(;Ce!==null;){$=Ce;var q=$.sibling,me=$.return;if(Yc($),$===Y){Ce=null;break}if(q!==null){q.return=me,Ce=q;break}Ce=me}}}var Ee=m.alternate;if(Ee!==null){var Se=Ee.child;if(Se!==null){Ee.child=null;do{var Yt=Se.sibling;Se.sibling=null,Se=Yt}while(Se!==null)}}Ce=m}}if((m.subtreeFlags&2064)!==0&&v!==null)v.return=m,Ce=v;else e:for(;Ce!==null;){if(m=Ce,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:mo(9,m,m.return)}var H=m.sibling;if(H!==null){H.return=m.return,Ce=H;break e}Ce=m.return}}var F=t.current;for(Ce=F;Ce!==null;){v=Ce;var V=v.child;if((v.subtreeFlags&2064)!==0&&V!==null)V.return=v,Ce=V;else e:for(v=F;Ce!==null;){if(O=Ce,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:xa(9,O)}}catch(Ie){Ut(O,O.return,Ie)}if(O===v){Ce=null;break e}var le=O.sibling;if(le!==null){le.return=O.return,Ce=le;break e}Ce=O.return}}if(ot=x,gi(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(rt,t)}catch{}c=!0}return c}finally{Ze=l,fr.transition=i}}return!1}function l1(t,i,l){i=Ts(l,i),i=Tc(t,i,1),t=xi(t,i,1),i=Mn(),t!==null&&(_(t,1,i),Fn(t,i))}function Ut(t,i,l){if(t.tag===3)l1(t,t,l);else for(;i!==null;){if(i.tag===3){l1(i,t,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(wi===null||!wi.has(c))){t=Ts(l,t),t=Nc(i,t,1),i=xi(i,t,1),t=Mn(),i!==null&&(_(i,1,t),Fn(i,t));break}}i=i.return}}function Z0(t,i,l){var c=t.pingCache;c!==null&&c.delete(i),i=Mn(),t.pingedLanes|=t.suspendedLanes&l,cn===t&&(mn&l)===l&&(sn===4||sn===3&&(mn&130023424)===mn&&500>ht()-Wl?$i(t,0):Vl|=l),Fn(t,i)}function u1(t,i){i===0&&((t.mode&1)===0?i=1:(i=os,os<<=1,(os&130023424)===0&&(os=4194304)));var l=Mn();t=Gr(t,i),t!==null&&(_(t,i,l),Fn(t,l))}function Q0(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),u1(t,l)}function K0(t,i){var l=0;switch(t.tag){case 13:var c=t.stateNode,x=t.memoizedState;x!==null&&(l=x.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(d(314))}c!==null&&c.delete(i),u1(t,l)}var c1;c1=function(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps||Ln.current)Bn=!0;else{if((t.lanes&l)===0&&(i.flags&128)===0)return Bn=!1,P0(t,i,l);Bn=(t.flags&131072)!==0}else Bn=!1,Rt&&(i.flags&1048576)!==0&&Vu(i,$o,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;ga(t,i),t=i.pendingProps;var x=ws(i,Sn.current);Is(i,l),x=El(null,i,c,t,x,l);var m=Al();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,kn(c)?(m=!0,Ko(i)):m=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,gl(i),x.updater=da,i.stateNode=x,x._reactInternals=i,_l(i,c,t,l),i=Dl(null,i,c,!0,m,l)):(i.tag=0,Rt&&m&&il(i),_n(null,i,x,l),i=i.child),i;case 16:c=i.elementType;e:{switch(ga(t,i),t=i.pendingProps,x=c._init,c=x(c._payload),i.type=c,x=i.tag=J0(c),t=wr(c,t),x){case 0:i=Rl(null,i,c,t,l);break e;case 1:i=Bc(null,i,c,t,l);break e;case 11:i=Rc(null,i,c,t,l);break e;case 14:i=Dc(null,i,c,wr(c.type,t),l);break e}throw Error(d(306,c,""))}return i;case 0:return c=i.type,x=i.pendingProps,x=i.elementType===c?x:wr(c,x),Rl(t,i,c,x,l);case 1:return c=i.type,x=i.pendingProps,x=i.elementType===c?x:wr(c,x),Bc(t,i,c,x,l);case 3:e:{if(Pc(i),t===null)throw Error(d(387));c=i.pendingProps,m=i.memoizedState,x=m.element,Ju(t,i),sa(i,c,null,l);var v=i.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){x=Ts(Error(d(423)),i),i=Fc(t,i,c,l,x);break e}else if(c!==x){x=Ts(Error(d(424)),i),i=Fc(t,i,c,l,x);break e}else for(Kn=fi(i.stateNode.containerInfo.firstChild),Qn=i,Rt=!0,mr=null,l=Ku(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Es(),c===x){i=Xr(t,i,l);break e}_n(t,i,c,l)}i=i.child}return i;case 5:return tc(i),t===null&&al(i),c=i.type,x=i.pendingProps,m=t!==null?t.memoizedProps:null,v=x.children,Ja(c,x)?v=null:m!==null&&Ja(c,m)&&(i.flags|=32),kc(t,i),_n(t,i,v,l),i.child;case 6:return t===null&&al(i),null;case 13:return Uc(t,i,l);case 4:return pl(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=As(i,null,c,l):_n(t,i,c,l),i.child;case 11:return c=i.type,x=i.pendingProps,x=i.elementType===c?x:wr(c,x),Rc(t,i,c,x,l);case 7:return _n(t,i,i.pendingProps,l),i.child;case 8:return _n(t,i,i.pendingProps.children,l),i.child;case 12:return _n(t,i,i.pendingProps.children,l),i.child;case 10:e:{if(c=i.type._context,x=i.pendingProps,m=i.memoizedProps,v=x.value,Tt(na,c._currentValue),c._currentValue=v,m!==null)if(U(m.value,v)){if(m.children===x.children&&!Ln.current){i=Xr(t,i,l);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var O=m.dependencies;if(O!==null){v=m.child;for(var k=O.firstContext;k!==null;){if(k.context===c){if(m.tag===1){k=Yr(-1,l&-l),k.tag=2;var Y=m.updateQueue;if(Y!==null){Y=Y.shared;var $=Y.pending;$===null?k.next=k:(k.next=$.next,$.next=k),Y.pending=k}}m.lanes|=l,k=m.alternate,k!==null&&(k.lanes|=l),dl(m.return,l,i),O.lanes|=l;break}k=k.next}}else if(m.tag===10)v=m.type===i.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(d(341));v.lanes|=l,O=v.alternate,O!==null&&(O.lanes|=l),dl(v,l,i),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===i){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}_n(t,i,x.children,l),i=i.child}return i;case 9:return x=i.type,c=i.pendingProps.children,Is(i,l),x=ur(x),c=c(x),i.flags|=1,_n(t,i,c,l),i.child;case 14:return c=i.type,x=wr(c,i.pendingProps),x=wr(c.type,x),Dc(t,i,c,x,l);case 15:return bc(t,i,i.type,i.pendingProps,l);case 17:return c=i.type,x=i.pendingProps,x=i.elementType===c?x:wr(c,x),ga(t,i),i.tag=1,kn(c)?(t=!0,Ko(i)):t=!1,Is(i,l),Ic(i,c,x),_l(i,c,x,l),Dl(null,i,c,!0,t,l);case 19:return zc(t,i,l);case 22:return Lc(t,i,l)}throw Error(d(156,i.tag))};function f1(t,i){return Vn(t,i)}function q0(t,i,l,c){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(t,i,l,c){return new q0(t,i,l,c)}function Jl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J0(t){if(typeof t=="function")return Jl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Me)return 11;if(t===Z)return 14}return 2}function Ai(t,i){var l=t.alternate;return l===null?(l=dr(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function va(t,i,l,c,x,m){var v=2;if(c=t,typeof t=="function")Jl(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case ne:return ts(l.children,x,m,i);case Ge:v=8,x|=8;break;case se:return t=dr(12,l,i,x|2),t.elementType=se,t.lanes=m,t;case Ye:return t=dr(13,l,i,x),t.elementType=Ye,t.lanes=m,t;case ct:return t=dr(19,l,i,x),t.elementType=ct,t.lanes=m,t;case Ae:return Ta(l,x,m,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wn:v=10;break e;case Bt:v=9;break e;case Me:v=11;break e;case Z:v=14;break e;case it:v=16,c=null;break e}throw Error(d(130,t==null?t:typeof t,""))}return i=dr(v,l,i,x),i.elementType=t,i.type=c,i.lanes=m,i}function ts(t,i,l,c){return t=dr(7,t,c,i),t.lanes=l,t}function Ta(t,i,l,c){return t=dr(22,t,c,i),t.elementType=Ae,t.lanes=l,t.stateNode={isHidden:!1},t}function $l(t,i,l){return t=dr(6,t,null,i),t.lanes=l,t}function eu(t,i,l){return i=dr(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function $0(t,i,l,c,x){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=z(0),this.expirationTimes=z(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.identifierPrefix=c,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function tu(t,i,l,c,x,m,v,O,k){return t=new $0(t,i,l,O,k),i===1?(i=1,m===!0&&(i|=8)):i=0,m=dr(3,null,null,i),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},gl(m),t}function ef(t,i,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:We,key:c==null?null:""+c,children:t,containerInfo:i,implementation:l}}function d1(t){if(!t)return hi;t=t._reactInternals;e:{if(bn(t)!==t||t.tag!==1)throw Error(d(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(kn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(d(171))}if(t.tag===1){var l=t.type;if(kn(l))return ju(t,l,i)}return i}function h1(t,i,l,c,x,m,v,O,k){return t=tu(l,c,!0,t,x,m,v,O,k),t.context=d1(null),l=t.current,c=Mn(),x=Ci(l),m=Yr(c,x),m.callback=i??null,xi(l,m,x),t.current.lanes=x,_(t,x,c),Fn(t,c),t}function Na(t,i,l,c){var x=i.current,m=Mn(),v=Ci(x);return l=d1(l),i.context===null?i.context=l:i.pendingContext=l,i=Yr(m,v),i.payload={element:t},c=c===void 0?null:c,c!==null&&(i.callback=c),t=xi(x,i,v),t!==null&&(Er(t,x,v,m),ia(t,x,v)),v}function _a(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g1(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function nu(t,i){g1(t,i),(t=t.alternate)&&g1(t,i)}function tf(){return null}var p1=typeof reportError=="function"?reportError:function(t){console.error(t)};function ru(t){this._internalRoot=t}Ma.prototype.render=ru.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(d(409));Na(t,i,null,null)},Ma.prototype.unmount=ru.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ji(function(){Na(null,t,null,null)}),i[zr]=null}};function Ma(t){this._internalRoot=t}Ma.prototype.unstable_scheduleHydration=function(t){if(t){var i=It();t={blockedOn:null,target:t,priority:i};for(var l=0;l<hn.length&&i!==0&&i<hn[l].priority;l++);hn.splice(l,0,t),l===0&&Lo(t)}};function iu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function x1(){}function nf(t,i,l,c,x){if(x){if(typeof c=="function"){var m=c;c=function(){var Y=_a(v);m.call(Y)}}var v=h1(i,c,t,0,null,!1,!1,"",x1);return t._reactRootContainer=v,t[zr]=v.current,ro(t.nodeType===8?t.parentNode:t),Ji(),v}for(;x=t.lastChild;)t.removeChild(x);if(typeof c=="function"){var O=c;c=function(){var Y=_a(k);O.call(Y)}}var k=tu(t,0,!1,null,null,!1,!1,"",x1);return t._reactRootContainer=k,t[zr]=k.current,ro(t.nodeType===8?t.parentNode:t),Ji(function(){Na(i,k,l,c)}),k}function Ra(t,i,l,c,x){var m=l._reactRootContainer;if(m){var v=m;if(typeof x=="function"){var O=x;x=function(){var k=_a(v);O.call(k)}}Na(i,v,t,x)}else v=nf(l,i,t,x,c);return _a(v)}as=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var l=Et(i.pendingLanes);l!==0&&(Pt(i,l|1),Fn(i,ht()),(ot&6)===0&&(Ms=ht()+500,gi()))}break;case 13:Ji(function(){var c=Gr(t,1);if(c!==null){var x=Mn();Er(c,t,1,x)}}),nu(t,1)}},En=function(t){if(t.tag===13){var i=Gr(t,134217728);if(i!==null){var l=Mn();Er(i,t,134217728,l)}nu(t,134217728)}},Oe=function(t){if(t.tag===13){var i=Ci(t),l=Gr(t,i);if(l!==null){var c=Mn();Er(l,t,i,c)}nu(t,i)}},It=function(){return Ze},Vs=function(t,i){var l=Ze;try{return Ze=t,i()}finally{Ze=l}},is=function(t,i,l){switch(i){case"input":if(zt(t,l),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==t&&c.form===t.form){var x=Zo(c);if(!x)throw Error(d(90));Oi(c),zt(c,x)}}}break;case"textarea":tr(t,l);break;case"select":i=l.value,i!=null&&we(t,!!l.multiple,i,!1)}},ss=Ql,Jt=Ji;var rf={usingClientEntryPoint:!1,Events:[oo,xs,Zo,Bs,Dn,Ql]},Eo={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sf={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ve.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=No(t),t===null?null:t.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||tf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{rt=Da.inject(sf),Xe=Da}catch{}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rf,Un.createPortal=function(t,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iu(i))throw Error(d(200));return ef(t,i,null,l)},Un.createRoot=function(t,i){if(!iu(t))throw Error(d(299));var l=!1,c="",x=p1;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=tu(t,1,!1,null,null,l,!1,c,x),t[zr]=i.current,ro(t.nodeType===8?t.parentNode:t),new ru(i)},Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(d(188)):(t=Object.keys(t).join(","),Error(d(268,t)));return t=No(i),t=t===null?null:t.stateNode,t},Un.flushSync=function(t){return Ji(t)},Un.hydrate=function(t,i,l){if(!Oa(i))throw Error(d(200));return Ra(null,t,i,!0,l)},Un.hydrateRoot=function(t,i,l){if(!iu(t))throw Error(d(405));var c=l!=null&&l.hydratedSources||null,x=!1,m="",v=p1;if(l!=null&&(l.unstable_strictMode===!0&&(x=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),i=h1(i,null,t,1,l??null,x,!1,m,v),t[zr]=i.current,ro(t),c)for(t=0;t<c.length;t++)l=c[t],x=l._getVersion,x=x(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,x]:i.mutableSourceEagerHydrationData.push(l,x);return new Ma(i)},Un.render=function(t,i,l){if(!Oa(i))throw Error(d(200));return Ra(null,t,i,!1,l)},Un.unmountComponentAtNode=function(t){if(!Oa(t))throw Error(d(40));return t._reactRootContainer?(Ji(function(){Ra(null,null,t,!1,function(){t._reactRootContainer=null,t[zr]=null})}),!0):!1},Un.unstable_batchedUpdates=Ql,Un.unstable_renderSubtreeIntoContainer=function(t,i,l,c){if(!Oa(l))throw Error(d(200));if(t==null||t._reactInternals===void 0)throw Error(d(38));return Ra(t,i,l,!1,c)},Un.version="18.3.1-next-f1338f8080-20240426",Un}var I1;function hf(){if(I1)return au.exports;I1=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(g){console.error(g)}}return h(),au.exports=df(),au.exports}var gf=hf(),pe=mu();const pf=q1(pe),xf=K1({__proto__:null,default:pf},[pe]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Io(){return Io=Object.assign?Object.assign.bind():function(h){for(var g=1;g<arguments.length;g++){var d=arguments[g];for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(h[w]=d[w])}return h},Io.apply(this,arguments)}var vi;(function(h){h.Pop="POP",h.Push="PUSH",h.Replace="REPLACE"})(vi||(vi={}));const v1="popstate";function mf(h){h===void 0&&(h={});function g(w,E){let{pathname:y,search:N,hash:L}=w.location;return fu("",{pathname:y,search:N,hash:L},E.state&&E.state.usr||null,E.state&&E.state.key||"default")}function d(w,E){return typeof E=="string"?E:La(E)}return yf(g,d,null,h)}function Xt(h,g){if(h===!1||h===null||typeof h>"u")throw new Error(g)}function J1(h,g){if(!h){typeof console<"u"&&console.warn(g);try{throw new Error(g)}catch{}}}function wf(){return Math.random().toString(36).substr(2,8)}function T1(h,g){return{usr:h.state,key:h.key,idx:g}}function fu(h,g,d,w){return d===void 0&&(d=null),Io({pathname:typeof h=="string"?h:h.pathname,search:"",hash:""},typeof g=="string"?Ds(g):g,{state:d,key:g&&g.key||w||wf()})}function La(h){let{pathname:g="/",search:d="",hash:w=""}=h;return d&&d!=="?"&&(g+=d.charAt(0)==="?"?d:"?"+d),w&&w!=="#"&&(g+=w.charAt(0)==="#"?w:"#"+w),g}function Ds(h){let g={};if(h){let d=h.indexOf("#");d>=0&&(g.hash=h.substr(d),h=h.substr(0,d));let w=h.indexOf("?");w>=0&&(g.search=h.substr(w),h=h.substr(0,w)),h&&(g.pathname=h)}return g}function yf(h,g,d,w){w===void 0&&(w={});let{window:E=document.defaultView,v5Compat:y=!1}=w,N=E.history,L=vi.Pop,R=null,I=P();I==null&&(I=0,N.replaceState(Io({},N.state,{idx:I}),""));function P(){return(N.state||{idx:null}).idx}function D(){L=vi.Pop;let ee=P(),He=ee==null?null:ee-I;I=ee,R&&R({action:L,location:te.location,delta:He})}function ae(ee,He){L=vi.Push;let Te=fu(te.location,ee,He);I=P()+1;let fe=T1(Te,I),ve=te.createHref(Te);try{N.pushState(fe,"",ve)}catch(yt){if(yt instanceof DOMException&&yt.name==="DataCloneError")throw yt;E.location.assign(ve)}y&&R&&R({action:L,location:te.location,delta:1})}function he(ee,He){L=vi.Replace;let Te=fu(te.location,ee,He);I=P();let fe=T1(Te,I),ve=te.createHref(Te);N.replaceState(fe,"",ve),y&&R&&R({action:L,location:te.location,delta:0})}function Re(ee){let He=E.location.origin!=="null"?E.location.origin:E.location.href,Te=typeof ee=="string"?ee:La(ee);return Te=Te.replace(/ $/,"%20"),Xt(He,"No window.location.(origin|href) available to create URL for href: "+Te),new URL(Te,He)}let te={get action(){return L},get location(){return h(E,N)},listen(ee){if(R)throw new Error("A history only accepts one active listener");return E.addEventListener(v1,D),R=ee,()=>{E.removeEventListener(v1,D),R=null}},createHref(ee){return g(E,ee)},createURL:Re,encodeLocation(ee){let He=Re(ee);return{pathname:He.pathname,search:He.search,hash:He.hash}},push:ae,replace:he,go(ee){return N.go(ee)}};return te}var N1;(function(h){h.data="data",h.deferred="deferred",h.redirect="redirect",h.error="error"})(N1||(N1={}));function Cf(h,g,d){return d===void 0&&(d="/"),Ef(h,g,d)}function Ef(h,g,d,w){let E=typeof g=="string"?Ds(g):g,y=wu(E.pathname||"/",d);if(y==null)return null;let N=$1(h);Af(N);let L=null;for(let R=0;L==null&&R<N.length;++R){let I=Lf(y);L=Rf(N[R],I)}return L}function $1(h,g,d,w){g===void 0&&(g=[]),d===void 0&&(d=[]),w===void 0&&(w="");let E=(y,N,L)=>{let R={relativePath:L===void 0?y.path||"":L,caseSensitive:y.caseSensitive===!0,childrenIndex:N,route:y};R.relativePath.startsWith("/")&&(Xt(R.relativePath.startsWith(w),'Absolute route path "'+R.relativePath+'" nested under path '+('"'+w+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),R.relativePath=R.relativePath.slice(w.length));let I=Ti([w,R.relativePath]),P=d.concat(R);y.children&&y.children.length>0&&(Xt(y.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+I+'".')),$1(y.children,g,P,I)),!(y.path==null&&!y.index)&&g.push({path:I,score:Mf(I,y.index),routesMeta:P})};return h.forEach((y,N)=>{var L;if(y.path===""||!((L=y.path)!=null&&L.includes("?")))E(y,N);else for(let R of e0(y.path))E(y,N,R)}),g}function e0(h){let g=h.split("/");if(g.length===0)return[];let[d,...w]=g,E=d.endsWith("?"),y=d.replace(/\?$/,"");if(w.length===0)return E?[y,""]:[y];let N=e0(w.join("/")),L=[];return L.push(...N.map(R=>R===""?y:[y,R].join("/"))),E&&L.push(...N),L.map(R=>h.startsWith("/")&&R===""?"/":R)}function Af(h){h.sort((g,d)=>g.score!==d.score?d.score-g.score:Of(g.routesMeta.map(w=>w.childrenIndex),d.routesMeta.map(w=>w.childrenIndex)))}const Sf=/^:[\w-]+$/,If=3,vf=2,Tf=1,Nf=10,_f=-2,_1=h=>h==="*";function Mf(h,g){let d=h.split("/"),w=d.length;return d.some(_1)&&(w+=_f),g&&(w+=vf),d.filter(E=>!_1(E)).reduce((E,y)=>E+(Sf.test(y)?If:y===""?Tf:Nf),w)}function Of(h,g){return h.length===g.length&&h.slice(0,-1).every((w,E)=>w===g[E])?h[h.length-1]-g[g.length-1]:0}function Rf(h,g,d){let{routesMeta:w}=h,E={},y="/",N=[];for(let L=0;L<w.length;++L){let R=w[L],I=L===w.length-1,P=y==="/"?g:g.slice(y.length)||"/",D=Df({path:R.relativePath,caseSensitive:R.caseSensitive,end:I},P),ae=R.route;if(!D)return null;Object.assign(E,D.params),N.push({params:E,pathname:Ti([y,D.pathname]),pathnameBase:Ff(Ti([y,D.pathnameBase])),route:ae}),D.pathnameBase!=="/"&&(y=Ti([y,D.pathnameBase]))}return N}function Df(h,g){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[d,w]=bf(h.path,h.caseSensitive,h.end),E=g.match(d);if(!E)return null;let y=E[0],N=y.replace(/(.)\/+$/,"$1"),L=E.slice(1);return{params:w.reduce((I,P,D)=>{let{paramName:ae,isOptional:he}=P;if(ae==="*"){let te=L[D]||"";N=y.slice(0,y.length-te.length).replace(/(.)\/+$/,"$1")}const Re=L[D];return he&&!Re?I[ae]=void 0:I[ae]=(Re||"").replace(/%2F/g,"/"),I},{}),pathname:y,pathnameBase:N,pattern:h}}function bf(h,g,d){g===void 0&&(g=!1),d===void 0&&(d=!0),J1(h==="*"||!h.endsWith("*")||h.endsWith("/*"),'Route path "'+h+'" will be treated as if it were '+('"'+h.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+h.replace(/\*$/,"/*")+'".'));let w=[],E="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(N,L,R)=>(w.push({paramName:L,isOptional:R!=null}),R?"/?([^\\/]+)?":"/([^\\/]+)"));return h.endsWith("*")?(w.push({paramName:"*"}),E+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?E+="\\/*$":h!==""&&h!=="/"&&(E+="(?:(?=\\/|$))"),[new RegExp(E,g?void 0:"i"),w]}function Lf(h){try{return h.split("/").map(g=>decodeURIComponent(g).replace(/\//g,"%2F")).join("/")}catch(g){return J1(!1,'The URL path "'+h+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+g+").")),h}}function wu(h,g){if(g==="/")return h;if(!h.toLowerCase().startsWith(g.toLowerCase()))return null;let d=g.endsWith("/")?g.length-1:g.length,w=h.charAt(d);return w&&w!=="/"?null:h.slice(d)||"/"}function kf(h,g){g===void 0&&(g="/");let{pathname:d,search:w="",hash:E=""}=typeof h=="string"?Ds(h):h;return{pathname:d?d.startsWith("/")?d:Bf(d,g):g,search:Uf(w),hash:jf(E)}}function Bf(h,g){let d=g.replace(/\/+$/,"").split("/");return h.split("/").forEach(E=>{E===".."?d.length>1&&d.pop():E!=="."&&d.push(E)}),d.length>1?d.join("/"):"/"}function cu(h,g,d,w){return"Cannot include a '"+h+"' character in a manually specified "+("`to."+g+"` field ["+JSON.stringify(w)+"].  Please separate it out to the ")+("`to."+d+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pf(h){return h.filter((g,d)=>d===0||g.route.path&&g.route.path.length>0)}function yu(h,g){let d=Pf(h);return g?d.map((w,E)=>E===d.length-1?w.pathname:w.pathnameBase):d.map(w=>w.pathnameBase)}function Cu(h,g,d,w){w===void 0&&(w=!1);let E;typeof h=="string"?E=Ds(h):(E=Io({},h),Xt(!E.pathname||!E.pathname.includes("?"),cu("?","pathname","search",E)),Xt(!E.pathname||!E.pathname.includes("#"),cu("#","pathname","hash",E)),Xt(!E.search||!E.search.includes("#"),cu("#","search","hash",E)));let y=h===""||E.pathname==="",N=y?"/":E.pathname,L;if(N==null)L=d;else{let D=g.length-1;if(!w&&N.startsWith("..")){let ae=N.split("/");for(;ae[0]==="..";)ae.shift(),D-=1;E.pathname=ae.join("/")}L=D>=0?g[D]:"/"}let R=kf(E,L),I=N&&N!=="/"&&N.endsWith("/"),P=(y||N===".")&&d.endsWith("/");return!R.pathname.endsWith("/")&&(I||P)&&(R.pathname+="/"),R}const Ti=h=>h.join("/").replace(/\/\/+/g,"/"),Ff=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),Uf=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,jf=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h;function zf(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}const t0=["post","put","patch","delete"];new Set(t0);const Hf=["get",...t0];new Set(Hf);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vo(){return vo=Object.assign?Object.assign.bind():function(h){for(var g=1;g<arguments.length;g++){var d=arguments[g];for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(h[w]=d[w])}return h},vo.apply(this,arguments)}const Eu=pe.createContext(null),Vf=pe.createContext(null),_i=pe.createContext(null),Pa=pe.createContext(null),Mi=pe.createContext({outlet:null,matches:[],isDataRoute:!1}),n0=pe.createContext(null);function Wf(h,g){let{relative:d}=g===void 0?{}:g;bs()||Xt(!1);let{basename:w,navigator:E}=pe.useContext(_i),{hash:y,pathname:N,search:L}=i0(h,{relative:d}),R=N;return w!=="/"&&(R=N==="/"?w:Ti([w,N])),E.createHref({pathname:R,search:L,hash:y})}function bs(){return pe.useContext(Pa)!=null}function To(){return bs()||Xt(!1),pe.useContext(Pa).location}function r0(h){pe.useContext(_i).static||pe.useLayoutEffect(h)}function Au(){let{isDataRoute:h}=pe.useContext(Mi);return h?rd():Gf()}function Gf(){bs()||Xt(!1);let h=pe.useContext(Eu),{basename:g,future:d,navigator:w}=pe.useContext(_i),{matches:E}=pe.useContext(Mi),{pathname:y}=To(),N=JSON.stringify(yu(E,d.v7_relativeSplatPath)),L=pe.useRef(!1);return r0(()=>{L.current=!0}),pe.useCallback(function(I,P){if(P===void 0&&(P={}),!L.current)return;if(typeof I=="number"){w.go(I);return}let D=Cu(I,JSON.parse(N),y,P.relative==="path");h==null&&g!=="/"&&(D.pathname=D.pathname==="/"?g:Ti([g,D.pathname])),(P.replace?w.replace:w.push)(D,P.state,P)},[g,w,N,y,h])}function i0(h,g){let{relative:d}=g===void 0?{}:g,{future:w}=pe.useContext(_i),{matches:E}=pe.useContext(Mi),{pathname:y}=To(),N=JSON.stringify(yu(E,w.v7_relativeSplatPath));return pe.useMemo(()=>Cu(h,JSON.parse(N),y,d==="path"),[h,N,y,d])}function Yf(h,g){return Xf(h,g)}function Xf(h,g,d,w){bs()||Xt(!1);let{navigator:E}=pe.useContext(_i),{matches:y}=pe.useContext(Mi),N=y[y.length-1],L=N?N.params:{};N&&N.pathname;let R=N?N.pathnameBase:"/";N&&N.route;let I=To(),P;if(g){var D;let ee=typeof g=="string"?Ds(g):g;R==="/"||(D=ee.pathname)!=null&&D.startsWith(R)||Xt(!1),P=ee}else P=I;let ae=P.pathname||"/",he=ae;if(R!=="/"){let ee=R.replace(/^\//,"").split("/");he="/"+ae.replace(/^\//,"").split("/").slice(ee.length).join("/")}let Re=Cf(h,{pathname:he}),te=Jf(Re&&Re.map(ee=>Object.assign({},ee,{params:Object.assign({},L,ee.params),pathname:Ti([R,E.encodeLocation?E.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?R:Ti([R,E.encodeLocation?E.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),y,d,w);return g&&te?pe.createElement(Pa.Provider,{value:{location:vo({pathname:"/",search:"",hash:"",state:null,key:"default"},P),navigationType:vi.Pop}},te):te}function Zf(){let h=nd(),g=zf(h)?h.status+" "+h.statusText:h instanceof Error?h.message:JSON.stringify(h),d=h instanceof Error?h.stack:null,E={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return pe.createElement(pe.Fragment,null,pe.createElement("h2",null,"Unexpected Application Error!"),pe.createElement("h3",{style:{fontStyle:"italic"}},g),d?pe.createElement("pre",{style:E},d):null,null)}const Qf=pe.createElement(Zf,null);class Kf extends pe.Component{constructor(g){super(g),this.state={location:g.location,revalidation:g.revalidation,error:g.error}}static getDerivedStateFromError(g){return{error:g}}static getDerivedStateFromProps(g,d){return d.location!==g.location||d.revalidation!=="idle"&&g.revalidation==="idle"?{error:g.error,location:g.location,revalidation:g.revalidation}:{error:g.error!==void 0?g.error:d.error,location:d.location,revalidation:g.revalidation||d.revalidation}}componentDidCatch(g,d){console.error("React Router caught the following error during render",g,d)}render(){return this.state.error!==void 0?pe.createElement(Mi.Provider,{value:this.props.routeContext},pe.createElement(n0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qf(h){let{routeContext:g,match:d,children:w}=h,E=pe.useContext(Eu);return E&&E.static&&E.staticContext&&(d.route.errorElement||d.route.ErrorBoundary)&&(E.staticContext._deepestRenderedBoundaryId=d.route.id),pe.createElement(Mi.Provider,{value:g},w)}function Jf(h,g,d,w){var E;if(g===void 0&&(g=[]),d===void 0&&(d=null),w===void 0&&(w=null),h==null){var y;if(!d)return null;if(d.errors)h=d.matches;else if((y=w)!=null&&y.v7_partialHydration&&g.length===0&&!d.initialized&&d.matches.length>0)h=d.matches;else return null}let N=h,L=(E=d)==null?void 0:E.errors;if(L!=null){let P=N.findIndex(D=>D.route.id&&L?.[D.route.id]!==void 0);P>=0||Xt(!1),N=N.slice(0,Math.min(N.length,P+1))}let R=!1,I=-1;if(d&&w&&w.v7_partialHydration)for(let P=0;P<N.length;P++){let D=N[P];if((D.route.HydrateFallback||D.route.hydrateFallbackElement)&&(I=P),D.route.id){let{loaderData:ae,errors:he}=d,Re=D.route.loader&&ae[D.route.id]===void 0&&(!he||he[D.route.id]===void 0);if(D.route.lazy||Re){R=!0,I>=0?N=N.slice(0,I+1):N=[N[0]];break}}}return N.reduceRight((P,D,ae)=>{let he,Re=!1,te=null,ee=null;d&&(he=L&&D.route.id?L[D.route.id]:void 0,te=D.route.errorElement||Qf,R&&(I<0&&ae===0?(id("route-fallback"),Re=!0,ee=null):I===ae&&(Re=!0,ee=D.route.hydrateFallbackElement||null)));let He=g.concat(N.slice(0,ae+1)),Te=()=>{let fe;return he?fe=te:Re?fe=ee:D.route.Component?fe=pe.createElement(D.route.Component,null):D.route.element?fe=D.route.element:fe=P,pe.createElement(qf,{match:D,routeContext:{outlet:P,matches:He,isDataRoute:d!=null},children:fe})};return d&&(D.route.ErrorBoundary||D.route.errorElement||ae===0)?pe.createElement(Kf,{location:d.location,revalidation:d.revalidation,component:te,error:he,children:Te(),routeContext:{outlet:null,matches:He,isDataRoute:!0}}):Te()},null)}var s0=(function(h){return h.UseBlocker="useBlocker",h.UseRevalidator="useRevalidator",h.UseNavigateStable="useNavigate",h})(s0||{}),o0=(function(h){return h.UseBlocker="useBlocker",h.UseLoaderData="useLoaderData",h.UseActionData="useActionData",h.UseRouteError="useRouteError",h.UseNavigation="useNavigation",h.UseRouteLoaderData="useRouteLoaderData",h.UseMatches="useMatches",h.UseRevalidator="useRevalidator",h.UseNavigateStable="useNavigate",h.UseRouteId="useRouteId",h})(o0||{});function $f(h){let g=pe.useContext(Eu);return g||Xt(!1),g}function ed(h){let g=pe.useContext(Vf);return g||Xt(!1),g}function td(h){let g=pe.useContext(Mi);return g||Xt(!1),g}function a0(h){let g=td(),d=g.matches[g.matches.length-1];return d.route.id||Xt(!1),d.route.id}function nd(){var h;let g=pe.useContext(n0),d=ed(),w=a0();return g!==void 0?g:(h=d.errors)==null?void 0:h[w]}function rd(){let{router:h}=$f(s0.UseNavigateStable),g=a0(o0.UseNavigateStable),d=pe.useRef(!1);return r0(()=>{d.current=!0}),pe.useCallback(function(E,y){y===void 0&&(y={}),d.current&&(typeof E=="number"?h.navigate(E):h.navigate(E,vo({fromRouteId:g},y)))},[h,g])}const M1={};function id(h,g,d){M1[h]||(M1[h]=!0)}function sd(h,g){h?.v7_startTransition,h?.v7_relativeSplatPath}function od(h){let{to:g,replace:d,state:w,relative:E}=h;bs()||Xt(!1);let{future:y,static:N}=pe.useContext(_i),{matches:L}=pe.useContext(Mi),{pathname:R}=To(),I=Au(),P=Cu(g,yu(L,y.v7_relativeSplatPath),R,E==="path"),D=JSON.stringify(P);return pe.useEffect(()=>I(JSON.parse(D),{replace:d,state:w,relative:E}),[I,D,E,d,w]),null}function du(h){Xt(!1)}function ad(h){let{basename:g="/",children:d=null,location:w,navigationType:E=vi.Pop,navigator:y,static:N=!1,future:L}=h;bs()&&Xt(!1);let R=g.replace(/^\/*/,"/"),I=pe.useMemo(()=>({basename:R,navigator:y,static:N,future:vo({v7_relativeSplatPath:!1},L)}),[R,L,y,N]);typeof w=="string"&&(w=Ds(w));let{pathname:P="/",search:D="",hash:ae="",state:he=null,key:Re="default"}=w,te=pe.useMemo(()=>{let ee=wu(P,R);return ee==null?null:{location:{pathname:ee,search:D,hash:ae,state:he,key:Re},navigationType:E}},[R,P,D,ae,he,Re,E]);return te==null?null:pe.createElement(_i.Provider,{value:I},pe.createElement(Pa.Provider,{children:d,value:te}))}function ld(h){let{children:g,location:d}=h;return Yf(hu(g),d)}new Promise(()=>{});function hu(h,g){g===void 0&&(g=[]);let d=[];return pe.Children.forEach(h,(w,E)=>{if(!pe.isValidElement(w))return;let y=[...g,E];if(w.type===pe.Fragment){d.push.apply(d,hu(w.props.children,y));return}w.type!==du&&Xt(!1),!w.props.index||!w.props.children||Xt(!1);let N={id:w.props.id||y.join("-"),caseSensitive:w.props.caseSensitive,element:w.props.element,Component:w.props.Component,index:w.props.index,path:w.props.path,loader:w.props.loader,action:w.props.action,errorElement:w.props.errorElement,ErrorBoundary:w.props.ErrorBoundary,hasErrorBoundary:w.props.ErrorBoundary!=null||w.props.errorElement!=null,shouldRevalidate:w.props.shouldRevalidate,handle:w.props.handle,lazy:w.props.lazy};w.props.children&&(N.children=hu(w.props.children,y)),d.push(N)}),d}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gu(){return gu=Object.assign?Object.assign.bind():function(h){for(var g=1;g<arguments.length;g++){var d=arguments[g];for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(h[w]=d[w])}return h},gu.apply(this,arguments)}function ud(h,g){if(h==null)return{};var d={},w=Object.keys(h),E,y;for(y=0;y<w.length;y++)E=w[y],!(g.indexOf(E)>=0)&&(d[E]=h[E]);return d}function cd(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function fd(h,g){return h.button===0&&(!g||g==="_self")&&!cd(h)}const dd=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hd="6";try{window.__reactRouterVersion=hd}catch{}const gd="startTransition",O1=xf[gd];function pd(h){let{basename:g,children:d,future:w,window:E}=h,y=pe.useRef();y.current==null&&(y.current=mf({window:E,v5Compat:!0}));let N=y.current,[L,R]=pe.useState({action:N.action,location:N.location}),{v7_startTransition:I}=w||{},P=pe.useCallback(D=>{I&&O1?O1(()=>R(D)):R(D)},[R,I]);return pe.useLayoutEffect(()=>N.listen(P),[N,P]),pe.useEffect(()=>sd(w),[w]),pe.createElement(ad,{basename:g,children:d,location:L.location,navigationType:L.action,navigator:N,future:w})}const xd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",md=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R1=pe.forwardRef(function(g,d){let{onClick:w,relative:E,reloadDocument:y,replace:N,state:L,target:R,to:I,preventScrollReset:P,viewTransition:D}=g,ae=ud(g,dd),{basename:he}=pe.useContext(_i),Re,te=!1;if(typeof I=="string"&&md.test(I)&&(Re=I,xd))try{let fe=new URL(window.location.href),ve=I.startsWith("//")?new URL(fe.protocol+I):new URL(I),yt=wu(ve.pathname,he);ve.origin===fe.origin&&yt!=null?I=yt+ve.search+ve.hash:te=!0}catch{}let ee=Wf(I,{relative:E}),He=wd(I,{replace:N,state:L,target:R,preventScrollReset:P,relative:E,viewTransition:D});function Te(fe){w&&w(fe),fe.defaultPrevented||He(fe)}return pe.createElement("a",gu({},ae,{href:Re||ee,onClick:te||y?w:Te,ref:d,target:R}))});var D1;(function(h){h.UseScrollRestoration="useScrollRestoration",h.UseSubmit="useSubmit",h.UseSubmitFetcher="useSubmitFetcher",h.UseFetcher="useFetcher",h.useViewTransitionState="useViewTransitionState"})(D1||(D1={}));var b1;(function(h){h.UseFetcher="useFetcher",h.UseFetchers="useFetchers",h.UseScrollRestoration="useScrollRestoration"})(b1||(b1={}));function wd(h,g){let{target:d,replace:w,state:E,preventScrollReset:y,relative:N,viewTransition:L}=g===void 0?{}:g,R=Au(),I=To(),P=i0(h,{relative:N});return pe.useCallback(D=>{if(fd(D,d)){D.preventDefault();let ae=w!==void 0?w:La(I)===La(P);R(h,{replace:ae,state:E,preventScrollReset:y,relative:N,viewTransition:L})}},[I,R,P,w,E,d,h,y,N,L])}var ye;(function(h){h[h.QR_CODE=0]="QR_CODE",h[h.AZTEC=1]="AZTEC",h[h.CODABAR=2]="CODABAR",h[h.CODE_39=3]="CODE_39",h[h.CODE_93=4]="CODE_93",h[h.CODE_128=5]="CODE_128",h[h.DATA_MATRIX=6]="DATA_MATRIX",h[h.MAXICODE=7]="MAXICODE",h[h.ITF=8]="ITF",h[h.EAN_13=9]="EAN_13",h[h.EAN_8=10]="EAN_8",h[h.PDF_417=11]="PDF_417",h[h.RSS_14=12]="RSS_14",h[h.RSS_EXPANDED=13]="RSS_EXPANDED",h[h.UPC_A=14]="UPC_A",h[h.UPC_E=15]="UPC_E",h[h.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ye||(ye={}));var L1=new Map([[ye.QR_CODE,"QR_CODE"],[ye.AZTEC,"AZTEC"],[ye.CODABAR,"CODABAR"],[ye.CODE_39,"CODE_39"],[ye.CODE_93,"CODE_93"],[ye.CODE_128,"CODE_128"],[ye.DATA_MATRIX,"DATA_MATRIX"],[ye.MAXICODE,"MAXICODE"],[ye.ITF,"ITF"],[ye.EAN_13,"EAN_13"],[ye.EAN_8,"EAN_8"],[ye.PDF_417,"PDF_417"],[ye.RSS_14,"RSS_14"],[ye.RSS_EXPANDED,"RSS_EXPANDED"],[ye.UPC_A,"UPC_A"],[ye.UPC_E,"UPC_E"],[ye.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),k1;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.URL=1]="URL"})(k1||(k1={}));function yd(h){return Object.values(ye).includes(h)}var Ni;(function(h){h[h.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",h[h.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ni||(Ni={}));var Ar=(function(){function h(){}return h.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",h.SCAN_DEFAULT_FPS=2,h.DEFAULT_DISABLE_FLIP=!1,h.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,h.DEFAULT_SUPPORTED_SCAN_TYPE=[Ni.SCAN_TYPE_CAMERA,Ni.SCAN_TYPE_FILE],h})(),l0=(function(){function h(g,d){this.format=g,this.formatName=d}return h.prototype.toString=function(){return this.formatName},h.create=function(g){if(!L1.has(g))throw"".concat(g," not in html5QrcodeSupportedFormatsTextMap");return new h(g,L1.get(g))},h})(),B1=(function(){function h(){}return h.createFromText=function(g){var d={text:g};return{decodedText:g,result:d}},h.createFromQrcodeResult=function(g){return{decodedText:g.text,result:g}},h})(),pu;(function(h){h[h.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",h[h.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",h[h.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(pu||(pu={}));var u0=(function(){function h(){}return h.createFrom=function(g){return{errorMessage:g,type:pu.UNKWOWN_ERROR}},h})(),c0=(function(){function h(g){this.verbose=g}return h.prototype.log=function(g){this.verbose&&console.log(g)},h.prototype.warn=function(g){this.verbose&&console.warn(g)},h.prototype.logError=function(g,d){(this.verbose||d===!0)&&console.error(g)},h.prototype.logErrors=function(g){if(g.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(g)},h})();function Lr(h){return typeof h>"u"||h===null}function Cd(h,g,d){return h>d?d:h<g?g:h}var Rs=(function(){function h(){}return h.codeParseError=function(g){return"QR code parse error, error = ".concat(g)},h.errorGettingUserMedia=function(g){return"Error getting userMedia, error = ".concat(g)},h.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},h.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},h.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},h.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},h.scannerPaused=function(){return"Scanner paused"},h})(),mt=(function(){function h(){}return h.scanningStatus=function(){return"Scanning"},h.idleStatus=function(){return"Idle"},h.errorStatus=function(){return"Error"},h.permissionStatus=function(){return"Permission"},h.noCameraFoundErrorStatus=function(){return"No Cameras"},h.lastMatch=function(g){return"Last Match: ".concat(g)},h.codeScannerTitle=function(){return"Code Scanner"},h.cameraPermissionTitle=function(){return"Request Camera Permissions"},h.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},h.noCameraFound=function(){return"No camera found"},h.scanButtonStopScanningText=function(){return"Stop Scanning"},h.scanButtonStartScanningText=function(){return"Start Scanning"},h.torchOnButton=function(){return"Switch On Torch"},h.torchOffButton=function(){return"Switch Off Torch"},h.torchOnFailedMessage=function(){return"Failed to turn on torch"},h.torchOffFailedMessage=function(){return"Failed to turn off torch"},h.scanButtonScanningStarting=function(){return"Launching Camera..."},h.textIfCameraScanSelected=function(){return"Scan an Image File"},h.textIfFileScanSelected=function(){return"Scan using camera directly"},h.selectCamera=function(){return"Select Camera"},h.fileSelectionChooseImage=function(){return"Choose Image"},h.fileSelectionChooseAnother=function(){return"Choose Another"},h.fileSelectionNoImageSelected=function(){return"No image choosen"},h.anonymousCameraPrefix=function(){return"Anonymous Camera"},h.dragAndDropMessage=function(){return"Or drop an image to scan"},h.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},h.zoom=function(){return"zoom"},h.loadingImage=function(){return"Loading image..."},h.cameraScanAltText=function(){return"Camera based scan"},h.fileScanAltText=function(){return"Fule based scan"},h})(),P1=(function(){function h(){}return h.poweredBy=function(){return"Powered by "},h.reportIssues=function(){return"Report issues"},h})(),f0=(function(){function h(){}return h.isMediaStreamConstraintsValid=function(g,d){if(typeof g!="object"){var w=typeof g;return d.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(w,"."),!0),!1}for(var E=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],y=new Set(E),N=Object.keys(g),L=0,R=N;L<R.length;L++){var I=R[L];if(y.has(I))return d.logError("".concat(I," is not supported videoConstaints."),!0),!1}return!0},h})(),So={exports:{}},Ed=So.exports,F1;function Ad(){return F1||(F1=1,(function(h,g){(function(d,w){w(g)})(Ed,(function(d){function w(A){return A==null}var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var n in e)e.hasOwnProperty(n)&&(A[n]=e[n])};function y(A,e){E(A,e);function n(){this.constructor=A}A.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function N(A,e){var n=Object.setPrototypeOf;n?n(A,e):A.__proto__=e}function L(A,e){e===void 0&&(e=A.constructor);var n=Error.captureStackTrace;n&&n(A,e)}var R=(function(A){y(e,A);function e(n){var r=this.constructor,s=A.call(this,n)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),N(s,r.prototype),L(s),s}return e})(Error);class I extends R{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}I.kind="Exception";class P extends I{}P.kind="ArgumentException";class D extends I{}D.kind="IllegalArgumentException";class ae{constructor(e){if(this.binarizer=e,e===null)throw new D("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,r,s){const o=this.binarizer.getLuminanceSource().crop(e,n,r,s);return new ae(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new ae(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new ae(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class he extends I{static getChecksumInstance(){return new he}}he.kind="ChecksumException";class Re{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class te{static arraycopy(e,n,r,s,o){for(;o--;)r[s++]=e[n++]}static currentTimeMillis(){return Date.now()}}class ee extends I{}ee.kind="IndexOutOfBoundsException";class He extends ee{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}He.kind="ArrayIndexOutOfBoundsException";class Te{static fill(e,n){for(let r=0,s=e.length;r<s;r++)e[r]=n}static fillWithin(e,n,r,s){Te.rangeCheck(e.length,n,r);for(let o=n;o<r;o++)e[o]=s}static rangeCheck(e,n,r){if(n>r)throw new D("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new He(n);if(r>e)throw new He(r)}static asList(...e){return e}static create(e,n,r){return Array.from({length:e}).map(o=>Array.from({length:n}).fill(r))}static createInt32Array(e,n,r){return Array.from({length:e}).map(o=>Int32Array.from({length:n}).fill(r))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let r=0,s=e.length;r<s;r++)if(e[r]!==n[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const r of e)n=31*n+r;return n}static fillUint8Array(e,n){for(let r=0;r!==e.length;r++)e[r]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)}static copyOfRange(e,n,r){const s=r-n,o=new Int32Array(s);return te.arraycopy(e,n,o,0,s),o}static binarySearch(e,n,r){r===void 0&&(r=Te.numberComparator);let s=0,o=e.length-1;for(;s<=o;){const a=o+s>>1,u=r(n,e[a]);if(u>0)s=a+1;else if(u<0)o=a-1;else return a}return-s-1}static numberComparator(e,n){return e-n}}class fe{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}fe.MIN_VALUE_32_BITS=-2147483648,fe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ve{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=ve.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=ve.makeArray(e);te.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=r[s];o&=~((1<<(e&31))-1);const a=r.length;for(;o===0;){if(++s===a)return n;o=r[s]}const u=s*32+fe.numberOfTrailingZeros(o);return u>n?n:u}getNextUnset(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=~r[s];o&=~((1<<(e&31))-1);const a=r.length;for(;o===0;){if(++s===a)return n;o=~r[s]}const u=s*32+fe.numberOfTrailingZeros(o);return u>n?n:u}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new D;if(n===e)return;n--;const r=Math.floor(e/32),s=Math.floor(n/32),o=this.bits;for(let a=r;a<=s;a++){const u=a>r?0:e&31,p=(2<<(a<s?31:n&31))-(1<<u);o[a]|=p}}clear(){const e=this.bits.length,n=this.bits;for(let r=0;r<e;r++)n[r]=0}isRange(e,n,r){if(n<e||e<0||n>this.size)throw new D;if(n===e)return!0;n--;const s=Math.floor(e/32),o=Math.floor(n/32),a=this.bits;for(let u=s;u<=o;u++){const f=u>s?0:e&31,C=(2<<(u<o?31:n&31))-(1<<f)&4294967295;if((a[u]&C)!==(r?C:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new D("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let r=0;r<n;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new D("Sizes don't match");const n=this.bits;for(let r=0,s=n.length;r<s;r++)n[r]^=e.bits[r]}toBytes(e,n,r,s){for(let o=0;o<s;o++){let a=0;for(let u=0;u<8;u++)this.get(e)&&(a|=1<<7-u),e++;n[r+o]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,s=this.bits;for(let o=0;o<r;o++){let a=s[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[n-o]=a}if(this.size!==r*32){const o=r*32-this.size;let a=e[0]>>>o;for(let u=1;u<r;u++){const f=e[u];a|=f<<32-o,e[u-1]=a,a=f>>>o}e[r-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof ve))return!1;const n=e;return this.size===n.size&&Te.equals(this.bits,n.bits)}hashCode(){return 31*this.size+Te.hashCode(this.bits)}toString(){let e="";for(let n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new ve(this.size,this.bits.slice())}}var yt;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(yt||(yt={}));var We=yt;class ne extends I{static getFormatInstance(){return new ne}}ne.kind="FormatException";var Ge;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(Ge||(Ge={}));class se{constructor(e,n,r,...s){this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=s,se.VALUE_IDENTIFIER_TO_ECI.set(e,this),se.NAME_TO_ECI.set(r,this);const o=this.values;for(let a=0,u=o.length;a!==u;a++){const f=o[a];se.VALUES_TO_ECI.set(f,this)}for(const a of s)se.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new ne("incorect value");const n=se.VALUES_TO_ECI.get(e);if(n===void 0)throw new ne("incorect value");return n}static getCharacterSetECIByName(e){const n=se.NAME_TO_ECI.get(e);if(n===void 0)throw new ne("incorect value");return n}equals(e){if(!(e instanceof se))return!1;const n=e;return this.getName()===n.getName()}}se.VALUE_IDENTIFIER_TO_ECI=new Map,se.VALUES_TO_ECI=new Map,se.NAME_TO_ECI=new Map,se.Cp437=new se(Ge.Cp437,Int32Array.from([0,2]),"Cp437"),se.ISO8859_1=new se(Ge.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),se.ISO8859_2=new se(Ge.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),se.ISO8859_3=new se(Ge.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),se.ISO8859_4=new se(Ge.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),se.ISO8859_5=new se(Ge.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),se.ISO8859_6=new se(Ge.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),se.ISO8859_7=new se(Ge.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),se.ISO8859_8=new se(Ge.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),se.ISO8859_9=new se(Ge.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),se.ISO8859_10=new se(Ge.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),se.ISO8859_11=new se(Ge.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),se.ISO8859_13=new se(Ge.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),se.ISO8859_14=new se(Ge.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),se.ISO8859_15=new se(Ge.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),se.ISO8859_16=new se(Ge.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),se.SJIS=new se(Ge.SJIS,20,"SJIS","Shift_JIS"),se.Cp1250=new se(Ge.Cp1250,21,"Cp1250","windows-1250"),se.Cp1251=new se(Ge.Cp1251,22,"Cp1251","windows-1251"),se.Cp1252=new se(Ge.Cp1252,23,"Cp1252","windows-1252"),se.Cp1256=new se(Ge.Cp1256,24,"Cp1256","windows-1256"),se.UnicodeBigUnmarked=new se(Ge.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),se.UTF8=new se(Ge.UTF8,26,"UTF8","UTF-8"),se.ASCII=new se(Ge.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),se.Big5=new se(Ge.Big5,28,"Big5"),se.GB18030=new se(Ge.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),se.EUC_KR=new se(Ge.EUC_KR,30,"EUC_KR","EUC-KR");class wn extends I{}wn.kind="UnsupportedOperationException";class Bt{static decode(e,n){const r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!Bt.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof se?e:se.getCharacterSetECIByName(e)}static decodeFallback(e,n){const r=this.encodingCharacterSet(n);if(Bt.isDecodeFallbackSupported(r)){let s="";for(let o=0,a=e.length;o<a;o++){let u=e[o].toString(16);u.length<2&&(u="0"+u),s+="%"+u}return decodeURIComponent(s)}if(r.equals(se.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new wn(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(se.UTF8)||e.equals(se.ISO8859_1)||e.equals(se.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),s=[];for(let o=0;o<r.length;o++)s.push(r[o].charCodeAt(0));return new Uint8Array(s)}}class Me{static castAsNonUtf8Char(e,n=null){const r=n?n.getName():this.ISO88591;return Bt.decode(new Uint8Array([e]),r)}static guessEncoding(e,n){if(n!=null&&n.get(We.CHARACTER_SET)!==void 0)return n.get(We.CHARACTER_SET).toString();const r=e.length;let s=!0,o=!0,a=!0,u=0,f=0,p=0,C=0,S=0,T=0,M=0,b=0,B=0,U=0,W=0;const ie=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let oe=0;oe<r&&(s||o||a);oe++){const J=e[oe]&255;a&&(u>0?(J&128)===0?a=!1:u--:(J&128)!==0&&((J&64)===0?a=!1:(u++,(J&32)===0?f++:(u++,(J&16)===0?p++:(u++,(J&8)===0?C++:a=!1))))),s&&(J>127&&J<160?s=!1:J>159&&(J<192||J===215||J===247)&&W++),o&&(S>0?J<64||J===127||J>252?o=!1:S--:J===128||J===160||J>239?o=!1:J>160&&J<224?(T++,b=0,M++,M>B&&(B=M)):J>127?(S++,M=0,b++,b>U&&(U=b)):(M=0,b=0))}return a&&u>0&&(a=!1),o&&S>0&&(o=!1),a&&(ie||f+p+C>0)?Me.UTF8:o&&(Me.ASSUME_SHIFT_JIS||B>=3||U>=3)?Me.SHIFT_JIS:s&&o?B===2&&T===2||W*10>=r?Me.SHIFT_JIS:Me.ISO88591:s?Me.ISO88591:o?Me.SHIFT_JIS:a?Me.UTF8:Me.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let r=-1;function s(a,u,f,p,C,S){if(a==="%%")return"%";if(n[++r]===void 0)return;a=p?parseInt(p.substr(1)):void 0;let T=C?parseInt(C.substr(1)):void 0,M;switch(S){case"s":M=n[r];break;case"c":M=n[r][0];break;case"f":M=parseFloat(n[r]).toFixed(a);break;case"p":M=parseFloat(n[r]).toPrecision(a);break;case"e":M=parseFloat(n[r]).toExponential(a);break;case"x":M=parseInt(n[r]).toString(T||16);break;case"d":M=parseFloat(parseInt(n[r],T||10).toPrecision(a)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(T);let b=parseInt(f),B=f&&f[0]+""=="0"?"0":" ";for(;M.length<b;)M=u!==void 0?M+B:B+M;return M}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}static getBytes(e,n){return Bt.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}Me.SHIFT_JIS=se.SJIS.getName(),Me.GB2312="GB2312",Me.ISO88591=se.ISO8859_1.getName(),Me.EUC_JP="EUC_JP",Me.UTF8=se.UTF8.getName(),Me.PLATFORM_DEFAULT_ENCODING=Me.UTF8,Me.ASSUME_SHIFT_JIS=!1;class Ye{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Me.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,r){for(let s=n;n<n+r;s++)this.append(e[s]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class ct{constructor(e,n,r,s){if(this.width=e,this.height=n,this.rowSize=r,this.bits=s,n==null&&(n=e),this.height=n,e<1||n<1)throw new D("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,r=e[0].length,s=new ct(r,n);for(let o=0;o<n;o++){const a=e[o];for(let u=0;u<r;u++)a[u]&&s.set(u,o)}return s}static parseFromString(e,n,r){if(e===null)throw new D("stringRepresentation cannot be null");const s=new Array(e.length);let o=0,a=0,u=-1,f=0,p=0;for(;p<e.length;)if(e.charAt(p)===`
`||e.charAt(p)==="\r"){if(o>a){if(u===-1)u=o-a;else if(o-a!==u)throw new D("row lengths do not match");a=o,f++}p++}else if(e.substring(p,p+n.length)===n)p+=n.length,s[o]=!0,o++;else if(e.substring(p,p+r.length)===r)p+=r.length,s[o]=!1,o++;else throw new D("illegal character encountered: "+e.substring(p));if(o>a){if(u===-1)u=o-a;else if(o-a!==u)throw new D("row lengths do not match");f++}const C=new ct(u,f);for(let S=0;S<o;S++)s[S]&&C.set(Math.floor(S%u),Math.floor(S/u));return C}get(e,n){const r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new D("input matrix dimensions do not match");const n=new ve(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let o=0,a=this.height;o<a;o++){const u=o*r,f=e.getRow(o,n).getBitArray();for(let p=0;p<r;p++)s[u+p]^=f[p]}}clear(){const e=this.bits,n=e.length;for(let r=0;r<n;r++)e[r]=0}setRegion(e,n,r,s){if(n<0||e<0)throw new D("Left and top must be nonnegative");if(s<1||r<1)throw new D("Height and width must be at least 1");const o=e+r,a=n+s;if(a>this.height||o>this.width)throw new D("The region must fit inside the matrix");const u=this.rowSize,f=this.bits;for(let p=n;p<a;p++){const C=p*u;for(let S=e;S<o;S++)f[C+Math.floor(S/32)]|=1<<(S&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new ve(this.width):n.clear();const r=this.rowSize,s=this.bits,o=e*r;for(let a=0;a<r;a++)n.setBulk(a*32,s[o+a]);return n}setRow(e,n){te.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let r=new ve(e),s=new ve(e);for(let o=0,a=Math.floor((n+1)/2);o<a;o++)r=this.getRow(o,r),s=this.getRow(n-1-o,s),r.reverse(),s.reverse(),this.setRow(o,s),this.setRow(n-1-o,r)}getEnclosingRectangle(){const e=this.width,n=this.height,r=this.rowSize,s=this.bits;let o=e,a=n,u=-1,f=-1;for(let p=0;p<n;p++)for(let C=0;C<r;C++){const S=s[p*r+C];if(S!==0){if(p<a&&(a=p),p>f&&(f=p),C*32<o){let T=0;for(;(S<<31-T&4294967295)===0;)T++;C*32+T<o&&(o=C*32+T)}if(C*32+31>u){let T=31;for(;!(S>>>T);)T--;C*32+T>u&&(u=C*32+T)}}}return u<o||f<a?null:Int32Array.from([o,a,u-o+1,f-a+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let r=0;for(;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;const s=r/e;let o=r%e*32;const a=n[r];let u=0;for(;(a<<31-u&4294967295)===0;)u++;return o+=u,Int32Array.from([o,s])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let r=n.length-1;for(;r>=0&&n[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/e);let o=Math.floor(r%e)*32;const a=n[r];let u=31;for(;!(a>>>u);)u--;return o+=u,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof ct))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Te.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Te.hashCode(this.bits),e}toString(e="X ",n="  ",r=`
`){return this.buildToString(e,n,r)}buildToString(e,n,r){let s=new Ye;for(let o=0,a=this.height;o<a;o++){for(let u=0,f=this.width;u<f;u++)s.append(this.get(u,o)?e:n);s.append(r)}return s.toString()}clone(){return new ct(this.width,this.height,this.rowSize,this.bits.slice())}}class Z extends I{static getNotFoundInstance(){return new Z}}Z.kind="NotFoundException";class it extends Re{constructor(e){super(e),this.luminances=it.EMPTY,this.buckets=new Int32Array(it.LUMINANCE_BUCKETS)}getBlackRow(e,n){const r=this.getLuminanceSource(),s=r.getWidth();n==null||n.getSize()<s?n=new ve(s):n.clear(),this.initArrays(s);const o=r.getRow(e,this.luminances),a=this.buckets;for(let f=0;f<s;f++)a[(o[f]&255)>>it.LUMINANCE_SHIFT]++;const u=it.estimateBlackPoint(a);if(s<3)for(let f=0;f<s;f++)(o[f]&255)<u&&n.set(f);else{let f=o[0]&255,p=o[1]&255;for(let C=1;C<s-1;C++){const S=o[C+1]&255;(p*4-f-S)/2<u&&n.set(C),f=p,p=S}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),s=new ct(n,r);this.initArrays(n);const o=this.buckets;for(let f=1;f<5;f++){const p=Math.floor(r*f/5),C=e.getRow(p,this.luminances),S=Math.floor(n*4/5);for(let T=Math.floor(n/5);T<S;T++){const M=C[T]&255;o[M>>it.LUMINANCE_SHIFT]++}}const a=it.estimateBlackPoint(o),u=e.getMatrix();for(let f=0;f<r;f++){const p=f*n;for(let C=0;C<n;C++)(u[p+C]&255)<a&&s.set(C,f)}return s}createBinarizer(e){return new it(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let r=0;r<it.LUMINANCE_BUCKETS;r++)n[r]=0}static estimateBlackPoint(e){const n=e.length;let r=0,s=0,o=0;for(let C=0;C<n;C++)e[C]>o&&(s=C,o=e[C]),e[C]>r&&(r=e[C]);let a=0,u=0;for(let C=0;C<n;C++){const S=C-s,T=e[C]*S*S;T>u&&(a=C,u=T)}if(s>a){const C=s;s=a,a=C}if(a-s<=n/16)throw new Z;let f=a-1,p=-1;for(let C=a-1;C>s;C--){const S=C-s,T=S*S*(a-C)*(r-e[C]);T>p&&(f=C,p=T)}return f<<it.LUMINANCE_SHIFT}}it.LUMINANCE_BITS=5,it.LUMINANCE_SHIFT=8-it.LUMINANCE_BITS,it.LUMINANCE_BUCKETS=1<<it.LUMINANCE_BITS,it.EMPTY=Uint8ClampedArray.from([0]);class Ae extends it{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight();if(n>=Ae.MINIMUM_DIMENSION&&r>=Ae.MINIMUM_DIMENSION){const s=e.getMatrix();let o=n>>Ae.BLOCK_SIZE_POWER;(n&Ae.BLOCK_SIZE_MASK)!==0&&o++;let a=r>>Ae.BLOCK_SIZE_POWER;(r&Ae.BLOCK_SIZE_MASK)!==0&&a++;const u=Ae.calculateBlackPoints(s,o,a,n,r),f=new ct(n,r);Ae.calculateThresholdForBlock(s,o,a,n,r,u,f),this.matrix=f}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new Ae(e)}static calculateThresholdForBlock(e,n,r,s,o,a,u){const f=o-Ae.BLOCK_SIZE,p=s-Ae.BLOCK_SIZE;for(let C=0;C<r;C++){let S=C<<Ae.BLOCK_SIZE_POWER;S>f&&(S=f);const T=Ae.cap(C,2,r-3);for(let M=0;M<n;M++){let b=M<<Ae.BLOCK_SIZE_POWER;b>p&&(b=p);const B=Ae.cap(M,2,n-3);let U=0;for(let ie=-2;ie<=2;ie++){const oe=a[T+ie];U+=oe[B-2]+oe[B-1]+oe[B]+oe[B+1]+oe[B+2]}const W=U/25;Ae.thresholdBlock(e,b,S,W,s,u)}}}static cap(e,n,r){return e<n?n:e>r?r:e}static thresholdBlock(e,n,r,s,o,a){for(let u=0,f=r*o+n;u<Ae.BLOCK_SIZE;u++,f+=o)for(let p=0;p<Ae.BLOCK_SIZE;p++)(e[f+p]&255)<=s&&a.set(n+p,r+u)}static calculateBlackPoints(e,n,r,s,o){const a=o-Ae.BLOCK_SIZE,u=s-Ae.BLOCK_SIZE,f=new Array(r);for(let p=0;p<r;p++){f[p]=new Int32Array(n);let C=p<<Ae.BLOCK_SIZE_POWER;C>a&&(C=a);for(let S=0;S<n;S++){let T=S<<Ae.BLOCK_SIZE_POWER;T>u&&(T=u);let M=0,b=255,B=0;for(let W=0,ie=C*s+T;W<Ae.BLOCK_SIZE;W++,ie+=s){for(let oe=0;oe<Ae.BLOCK_SIZE;oe++){const J=e[ie+oe]&255;M+=J,J<b&&(b=J),J>B&&(B=J)}if(B-b>Ae.MIN_DYNAMIC_RANGE)for(W++,ie+=s;W<Ae.BLOCK_SIZE;W++,ie+=s)for(let oe=0;oe<Ae.BLOCK_SIZE;oe++)M+=e[ie+oe]&255}let U=M>>Ae.BLOCK_SIZE_POWER*2;if(B-b<=Ae.MIN_DYNAMIC_RANGE&&(U=b/2,p>0&&S>0)){const W=(f[p-1][S]+2*f[p][S-1]+f[p-1][S-1])/4;b<W&&(U=W)}f[p][S]=U}}return f}}Ae.BLOCK_SIZE_POWER=3,Ae.BLOCK_SIZE=1<<Ae.BLOCK_SIZE_POWER,Ae.BLOCK_SIZE_MASK=Ae.BLOCK_SIZE-1,Ae.MINIMUM_DIMENSION=Ae.BLOCK_SIZE*5,Ae.MIN_DYNAMIC_RANGE=24;class de{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,r,s){throw new wn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new wn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new wn("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new Ye;for(let r=0;r<this.height;r++){const s=this.getRow(r,e);for(let o=0;o<this.width;o++){const a=s[o]&255;let u;a<64?u="#":a<128?u="+":a<192?u=".":u=" ",n.append(u)}n.append(`
`)}return n.toString()}}class Ne extends de{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const r=this.delegate.getRow(e,n),s=this.getWidth();for(let o=0;o<s;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(n);for(let s=0;s<n;s++)r[s]=255-(e[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,r,s){return new Ne(this.delegate.crop(e,n,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ne(this.delegate.rotateCounterClockwise45())}}class ge extends de{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=ge.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return ge.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,r){const s=new Uint8ClampedArray(n*r);for(let o=0,a=0,u=e.length;o<u;o+=4,a++){let f;if(e[o+3]===0)f=255;else{const C=e[o],S=e[o+1],T=e[o+2];f=306*C+601*S+117*T+512>>10}s[a]=f}return s}getRow(e,n){if(e<0||e>=this.getHeight())throw new D("Requested row is outside the image: "+e);const r=this.getWidth(),s=e*r;return n===null?n=this.buffer.slice(s,s+r):(n.length<r&&(n=new Uint8ClampedArray(r)),n.set(this.buffer.slice(s,s+r))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,r,s){return super.crop(e,n,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),r=n.getContext("2d"),s=e*ge.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*a),f=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*a);return n.width=u,n.height=f,r.translate(u/2,f/2),r.rotate(s),r.drawImage(this.canvas,o/-2,a/-2),this.buffer=ge.makeBufferFromCanvasImageData(n),this}invert(){return new Ne(this)}}ge.DEGREE_TO_RADIANS=Math.PI/180;class j{constructor(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Q=(globalThis||ba||self||window||void 0)&&(globalThis||ba||self||window||void 0).__awaiter||function(A,e,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(C){try{p(r.next(C))}catch(S){a(S)}}function f(C){try{p(r.throw(C))}catch(S){a(S)}}function p(C){C.done?o(C.value):s(C.value).then(u,f)}p((r=r.apply(A,e||[])).next())})};class Fe{constructor(e,n=500,r){this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Q(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const r of e){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const o=r.deviceId||r.id,a=r.label||`Video device ${n.length+1}`,u=r.groupId,f={deviceId:o,label:a,kind:s,groupId:u};n.push(f)}return n})}getVideoInputDevices(){return Q(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new j(n.deviceId,n.label))})}findDeviceById(e){return Q(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return Q(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return Q(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,n)})}decodeOnceFromConstraints(e,n){return Q(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,n)})}decodeOnceFromStream(e,n){return Q(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,n,r){return Q(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,r)})}decodeFromVideoDevice(e,n,r){return Q(this,void 0,void 0,function*(){let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,n,r)})}decodeFromConstraints(e,n,r){return Q(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(s,n,r)})}decodeFromStream(e,n,r){return Q(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return Q(this,void 0,void 0,function*(){const r=this.prepareVideoElement(n);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((n,r)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Q(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const r=document.getElementById(e);if(!r)throw new P(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new P(`element with id '${e}' must be an ${n} element`);return r}decodeFromImage(e,n){if(!e&&!n)throw new P("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new P("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,r){if(e===void 0&&n===void 0)throw new P("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new P("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)}_decodeFromVideoElementSetup(e){if(!e)throw new P("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new P("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const r=this._decodeOnLoadImage(n);return n.src=e,r}decodeFromVideoUrl(e){if(!e)throw new P("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r}decodeFromVideoUrlContinuously(e,n){if(!e)throw new P("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,n);return r.src=e,s}_decodeOnLoadImage(e){return new Promise((n,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Q(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return Q(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,r=!0){this._stopAsyncDecode=!1;const s=(o,a)=>{if(this._stopAsyncDecode){a(new Z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(e);o(u)}catch(u){const f=n&&u instanceof Z,C=(u instanceof he||u instanceof ne)&&r;if(f||C)return setTimeout(s,this._timeBetweenDecodingAttempts,o,a);a(u)}};return new Promise((o,a)=>s(o,a))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(e);n(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){n(null,s);const o=s instanceof he||s instanceof ne,a=s instanceof Z;(o||a)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,r){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,r=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),r=new ge(n),s=new Ae(r);return new ae(s)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let r,s;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,s=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,s=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=s+"px",n.width=r,n.height=s,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class De{constructor(e,n,r=n==null?0:8*n.length,s,o,a=te.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=s,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=s,this.format=o,this.resultMetadata=null,a==null?this.timestamp=te.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(n.length+e.length);te.arraycopy(n,0,r,0,n.length),te.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var et;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(et||(et={}));var ue=et,ft;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ft||(ft={}));var Pe=ft;class dt{constructor(e,n,r,s,o=-1,a=-1){this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Kt{exp(e){return this.expTable[e]}log(e){if(e===0)throw new D;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class qt{constructor(e,n){if(n.length===0)throw new D;this.field=e;const r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),te.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let r;if(e===1){r=0;for(let a=0,u=n.length;a!==u;a++){const f=n[a];r=Kt.addOrSubtract(r,f)}return r}r=n[0];const s=n.length,o=this.field;for(let a=1;a<s;a++)r=Kt.addOrSubtract(o.multiply(e,r),n[a]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){const a=n;n=r,r=a}let s=new Int32Array(r.length);const o=r.length-n.length;te.arraycopy(r,0,s,0,o);for(let a=o;a<r.length;a++)s[a]=Kt.addOrSubtract(n[a-o],r[a]);return new qt(this.field,s)}multiply(e){if(!this.field.equals(e.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,a=new Int32Array(r+o-1),u=this.field;for(let f=0;f<r;f++){const p=n[f];for(let C=0;C<o;C++)a[f+C]=Kt.addOrSubtract(a[f+C],u.multiply(p,s[C]))}return new qt(u,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,r=this.field,s=new Int32Array(n),o=this.coefficients;for(let a=0;a<n;a++)s[a]=r.multiply(o[a],e);return new qt(r,s)}multiplyByMonomial(e,n){if(e<0)throw new D;if(n===0)return this.field.getZero();const r=this.coefficients,s=r.length,o=new Int32Array(s+e),a=this.field;for(let u=0;u<s;u++)o[u]=a.multiply(r[u],n);return new qt(a,o)}divide(e){if(!this.field.equals(e.field))throw new D("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new D("Divide by 0");const n=this.field;let r=n.getZero(),s=this;const o=e.getCoefficient(e.getDegree()),a=n.inverse(o);for(;s.getDegree()>=e.getDegree()&&!s.isZero();){const u=s.getDegree()-e.getDegree(),f=n.multiply(s.getCoefficient(s.getDegree()),a),p=e.multiplyByMonomial(u,f),C=n.buildMonomial(u,f);r=r.addOrSubtract(C),s=s.addOrSubtract(p)}return[r,s]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){const s=this.field.log(r);s===0?e+="1":s===1?e+="a":(e+="a^",e+=s)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class Oi extends I{}Oi.kind="ArithmeticException";class tt extends Kt{constructor(e,n,r){super(),this.primitive=e,this.size=n,this.generatorBase=r;const s=new Int32Array(n);let o=1;for(let u=0;u<n;u++)s[u]=o,o*=2,o>=n&&(o^=e,o&=n-1);this.expTable=s;const a=new Int32Array(n);for(let u=0;u<n-1;u++)a[s[u]]=u;this.logTable=a,this.zero=new qt(this,Int32Array.from([0])),this.one=new qt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new D;if(n===0)return this.zero;const r=new Int32Array(e+1);return r[0]=n,new qt(this,r)}inverse(e){if(e===0)throw new Oi;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+fe.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}tt.AZTEC_DATA_12=new tt(4201,4096,1),tt.AZTEC_DATA_10=new tt(1033,1024,1),tt.AZTEC_DATA_6=new tt(67,64,1),tt.AZTEC_PARAM=new tt(19,16,1),tt.QR_CODE_FIELD_256=new tt(285,256,0),tt.DATA_MATRIX_FIELD_256=new tt(301,256,1),tt.AZTEC_DATA_8=tt.DATA_MATRIX_FIELD_256,tt.MAXICODE_FIELD_64=tt.AZTEC_DATA_6;class Sr extends I{}Sr.kind="ReedSolomonException";class jn extends I{}jn.kind="IllegalStateException";class Kr{constructor(e){this.field=e}decode(e,n){const r=this.field,s=new qt(r,e),o=new Int32Array(n);let a=!0;for(let M=0;M<n;M++){const b=s.evaluateAt(r.exp(M+r.getGeneratorBase()));o[o.length-1-M]=b,b!==0&&(a=!1)}if(a)return;const u=new qt(r,o),f=this.runEuclideanAlgorithm(r.buildMonomial(n,1),u,n),p=f[0],C=f[1],S=this.findErrorLocations(p),T=this.findErrorMagnitudes(C,S);for(let M=0;M<S.length;M++){const b=e.length-1-r.log(S[M]);if(b<0)throw new Sr("Bad error location");e[b]=tt.addOrSubtract(e[b],T[M])}}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){const M=e;e=n,n=M}const s=this.field;let o=e,a=n,u=s.getZero(),f=s.getOne();for(;a.getDegree()>=(r/2|0);){let M=o,b=u;if(o=a,u=f,o.isZero())throw new Sr("r_{i-1} was zero");a=M;let B=s.getZero();const U=o.getCoefficient(o.getDegree()),W=s.inverse(U);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){const ie=a.getDegree()-o.getDegree(),oe=s.multiply(a.getCoefficient(a.getDegree()),W);B=B.addOrSubtract(s.buildMonomial(ie,oe)),a=a.addOrSubtract(o.multiplyByMonomial(ie,oe))}if(f=B.multiply(u).addOrSubtract(b),a.getDegree()>=o.getDegree())throw new jn("Division algorithm failed to reduce polynomial?")}const p=f.getCoefficient(0);if(p===0)throw new Sr("sigmaTilde(0) was zero");const C=s.inverse(p),S=f.multiplyScalar(C),T=a.multiplyScalar(C);return[S,T]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(n);let s=0;const o=this.field;for(let a=1;a<o.getSize()&&s<n;a++)e.evaluateAt(a)===0&&(r[s]=o.inverse(a),s++);if(s!==n)throw new Sr("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,n){const r=n.length,s=new Int32Array(r),o=this.field;for(let a=0;a<r;a++){const u=o.inverse(n[a]);let f=1;for(let p=0;p<r;p++)if(a!==p){const C=o.multiply(n[p],u),S=(C&1)===0?C|1:C&-2;f=o.multiply(f,S)}s[a]=o.multiply(e.evaluateAt(u),o.inverse(f)),o.getGeneratorBase()!==0&&(s[a]=o.multiply(s[a],u))}return s}}var zt;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(zt||(zt={}));class pt{decode(e){this.ddata=e;let n=e.getBits(),r=this.extractBits(n),s=this.correctBits(r),o=pt.convertBoolArrayToByteArray(s),a=pt.getEncodedData(s),u=new dt(o,a,null,null);return u.setNumBits(s.length),u}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,r=zt.UPPER,s=zt.UPPER,o="",a=0;for(;a<n;)if(s===zt.BINARY){if(n-a<5)break;let u=pt.readCode(e,a,5);if(a+=5,u===0){if(n-a<11)break;u=pt.readCode(e,a,11)+31,a+=11}for(let f=0;f<u;f++){if(n-a<8){a=n;break}const p=pt.readCode(e,a,8);o+=Me.castAsNonUtf8Char(p),a+=8}s=r}else{let u=s===zt.DIGIT?4:5;if(n-a<u)break;let f=pt.readCode(e,a,u);a+=u;let p=pt.getCharacter(s,f);p.startsWith("CTRL_")?(r=s,s=pt.getTable(p.charAt(5)),p.charAt(6)==="L"&&(r=s)):(o+=p,s=r)}return o}static getTable(e){switch(e){case"L":return zt.LOWER;case"P":return zt.PUNCT;case"M":return zt.MIXED;case"D":return zt.DIGIT;case"B":return zt.BINARY;case"U":default:return zt.UPPER}}static getCharacter(e,n){switch(e){case zt.UPPER:return pt.UPPER_TABLE[n];case zt.LOWER:return pt.LOWER_TABLE[n];case zt.MIXED:return pt.MIXED_TABLE[n];case zt.PUNCT:return pt.PUNCT_TABLE[n];case zt.DIGIT:return pt.DIGIT_TABLE[n];default:throw new jn("Bad table")}}correctBits(e){let n,r;this.ddata.getNbLayers()<=2?(r=6,n=tt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=tt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=tt.AZTEC_DATA_10):(r=12,n=tt.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=e.length/r;if(o<s)throw new ne;let a=e.length%r,u=new Int32Array(o);for(let T=0;T<o;T++,a+=r)u[T]=pt.readCode(e,a,r);try{new Kr(n).decode(u,o-s)}catch(T){throw new ne(T)}let f=(1<<r)-1,p=0;for(let T=0;T<s;T++){let M=u[T];if(M===0||M===f)throw new ne;(M===1||M===f-1)&&p++}let C=new Array(s*r-p),S=0;for(let T=0;T<s;T++){let M=u[T];if(M===1||M===f-1)C.fill(M>1,S,S+r-1),S+=r-1;else for(let b=r-1;b>=0;--b)C[S++]=(M&1<<b)!==0}return C}extractBits(e){let n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(n?11:14)+r*4,o=new Int32Array(s),a=new Array(this.totalBitsInLayer(r,n));if(n)for(let u=0;u<o.length;u++)o[u]=u;else{let u=s+1+2*fe.truncDivision(fe.truncDivision(s,2)-1,15),f=s/2,p=fe.truncDivision(u,2);for(let C=0;C<f;C++){let S=C+fe.truncDivision(C,15);o[f-C-1]=p-S-1,o[f+C]=p+S+1}}for(let u=0,f=0;u<r;u++){let p=(r-u)*4+(n?9:12),C=u*2,S=s-1-C;for(let T=0;T<p;T++){let M=T*2;for(let b=0;b<2;b++)a[f+M+b]=e.get(o[C+b],o[C+T]),a[f+2*p+M+b]=e.get(o[C+T],o[S-b]),a[f+4*p+M+b]=e.get(o[S-b],o[S-T]),a[f+6*p+M+b]=e.get(o[S-T],o[C+b])}f+=p*8}return a}static readCode(e,n,r){let s=0;for(let o=n;o<n+r;o++)s<<=1,e[o]&&(s|=1);return s}static readByte(e,n){let r=e.length-n;return r>=8?pt.readCode(e,n,8):pt.readCode(e,n,r)<<8-r}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let r=0;r<n.length;r++)n[r]=pt.readByte(e,8*r);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}pt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],pt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],pt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],pt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],pt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Je{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,r,s){const o=e-r,a=n-s;return Math.sqrt(o*o+a*a)}static sum(e){let n=0;for(let r=0,s=e.length;r!==s;r++){const o=e[r];n+=o}return n}}class Ir{static floatToIntBits(e){return e}}Ir.MAX_VALUE=Number.MAX_SAFE_INTEGER;class we{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof we){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Ir.floatToIntBits(this.x)+Ir.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),s=this.distance(e[0],e[2]);let o,a,u;if(r>=n&&r>=s?(a=e[0],o=e[1],u=e[2]):s>=r&&s>=n?(a=e[1],o=e[0],u=e[2]):(a=e[2],o=e[0],u=e[1]),this.crossProductZ(o,a,u)<0){const f=o;o=u,u=f}e[0]=o,e[1]=a,e[2]=u}static distance(e,n){return Je.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,r){const s=n.x,o=n.y;return(r.x-s)*(e.y-o)-(r.y-o)*(e.x-s)}}class qr{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Ls extends qr{constructor(e,n,r,s,o){super(e,n),this.compact=r,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class tr{constructor(e,n,r,s){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=tr.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),s==null&&(s=e.getHeight()/2|0);const o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Z}detect(){let e=this.leftInit,n=this.rightInit,r=this.upInit,s=this.downInit,o=!1,a=!0,u=!1,f=!1,p=!1,C=!1,S=!1;const T=this.width,M=this.height;for(;a;){a=!1;let b=!0;for(;(b||!f)&&n<T;)b=this.containsBlackPoint(r,s,n,!1),b?(n++,a=!0,f=!0):f||n++;if(n>=T){o=!0;break}let B=!0;for(;(B||!p)&&s<M;)B=this.containsBlackPoint(e,n,s,!0),B?(s++,a=!0,p=!0):p||s++;if(s>=M){o=!0;break}let U=!0;for(;(U||!C)&&e>=0;)U=this.containsBlackPoint(r,s,e,!1),U?(e--,a=!0,C=!0):C||e--;if(e<0){o=!0;break}let W=!0;for(;(W||!S)&&r>=0;)W=this.containsBlackPoint(e,n,r,!0),W?(r--,a=!0,S=!0):S||r--;if(r<0){o=!0;break}a&&(u=!0)}if(!o&&u){const b=n-e;let B=null;for(let oe=1;B===null&&oe<b;oe++)B=this.getBlackPointOnSegment(e,s-oe,e+oe,s);if(B==null)throw new Z;let U=null;for(let oe=1;U===null&&oe<b;oe++)U=this.getBlackPointOnSegment(e,r+oe,e+oe,r);if(U==null)throw new Z;let W=null;for(let oe=1;W===null&&oe<b;oe++)W=this.getBlackPointOnSegment(n,r+oe,n-oe,r);if(W==null)throw new Z;let ie=null;for(let oe=1;ie===null&&oe<b;oe++)ie=this.getBlackPointOnSegment(n,s-oe,n-oe,s);if(ie==null)throw new Z;return this.centerEdges(ie,B,W,U)}else throw new Z}getBlackPointOnSegment(e,n,r,s){const o=Je.round(Je.distance(e,n,r,s)),a=(r-e)/o,u=(s-n)/o,f=this.image;for(let p=0;p<o;p++){const C=Je.round(e+p*a),S=Je.round(n+p*u);if(f.get(C,S))return new we(C,S)}return null}centerEdges(e,n,r,s){const o=e.getX(),a=e.getY(),u=n.getX(),f=n.getY(),p=r.getX(),C=r.getY(),S=s.getX(),T=s.getY(),M=tr.CORR;return o<this.width/2?[new we(S-M,T+M),new we(u+M,f+M),new we(p-M,C-M),new we(o+M,a-M)]:[new we(S+M,T+M),new we(u+M,f-M),new we(p-M,C+M),new we(o-M,a-M)]}containsBlackPoint(e,n,r,s){const o=this.image;if(s){for(let a=e;a<=n;a++)if(o.get(a,r))return!0}else for(let a=e;a<=n;a++)if(o.get(r,a))return!0;return!1}}tr.INIT_SIZE=10,tr.CORR=1;class ns{static checkAndNudgePoints(e,n){const r=e.getWidth(),s=e.getHeight();let o=!0;for(let a=0;a<n.length&&o;a+=2){const u=Math.floor(n[a]),f=Math.floor(n[a+1]);if(u<-1||u>r||f<-1||f>s)throw new Z;o=!1,u===-1?(n[a]=0,o=!0):u===r&&(n[a]=r-1,o=!0),f===-1?(n[a+1]=0,o=!0):f===s&&(n[a+1]=s-1,o=!0)}o=!0;for(let a=n.length-2;a>=0&&o;a-=2){const u=Math.floor(n[a]),f=Math.floor(n[a+1]);if(u<-1||u>r||f<-1||f>s)throw new Z;o=!1,u===-1?(n[a]=0,o=!0):u===r&&(n[a]=r-1,o=!0),f===-1?(n[a+1]=0,o=!0):f===s&&(n[a+1]=s-1,o=!0)}}}class On{constructor(e,n,r,s,o,a,u,f,p){this.a11=e,this.a21=n,this.a31=r,this.a12=s,this.a22=o,this.a32=a,this.a13=u,this.a23=f,this.a33=p}static quadrilateralToQuadrilateral(e,n,r,s,o,a,u,f,p,C,S,T,M,b,B,U){const W=On.quadrilateralToSquare(e,n,r,s,o,a,u,f);return On.squareToQuadrilateral(p,C,S,T,M,b,B,U).times(W)}transformPoints(e){const n=e.length,r=this.a11,s=this.a12,o=this.a13,a=this.a21,u=this.a22,f=this.a23,p=this.a31,C=this.a32,S=this.a33;for(let T=0;T<n;T+=2){const M=e[T],b=e[T+1],B=o*M+f*b+S;e[T]=(r*M+a*b+p)/B,e[T+1]=(s*M+u*b+C)/B}}transformPointsWithValues(e,n){const r=this.a11,s=this.a12,o=this.a13,a=this.a21,u=this.a22,f=this.a23,p=this.a31,C=this.a32,S=this.a33,T=e.length;for(let M=0;M<T;M++){const b=e[M],B=n[M],U=o*b+f*B+S;e[M]=(r*b+a*B+p)/U,n[M]=(s*b+u*B+C)/U}}static squareToQuadrilateral(e,n,r,s,o,a,u,f){const p=e-r+o-u,C=n-s+a-f;if(p===0&&C===0)return new On(r-e,o-r,e,s-n,a-s,n,0,0,1);{const S=r-o,T=u-o,M=s-a,b=f-a,B=S*b-T*M,U=(p*b-T*C)/B,W=(S*C-p*M)/B;return new On(r-e+U*r,u-e+W*u,e,s-n+U*s,f-n+W*f,n,U,W,1)}}static quadrilateralToSquare(e,n,r,s,o,a,u,f){return On.squareToQuadrilateral(e,n,r,s,o,a,u,f).buildAdjoint()}buildAdjoint(){return new On(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new On(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class rs extends ns{sampleGrid(e,n,r,s,o,a,u,f,p,C,S,T,M,b,B,U,W,ie,oe){const J=On.quadrilateralToQuadrilateral(s,o,a,u,f,p,C,S,T,M,b,B,U,W,ie,oe);return this.sampleGridWithTransform(e,n,r,J)}sampleGridWithTransform(e,n,r,s){if(n<=0||r<=0)throw new Z;const o=new ct(n,r),a=new Float32Array(2*n);for(let u=0;u<r;u++){const f=a.length,p=u+.5;for(let C=0;C<f;C+=2)a[C]=C/2+.5,a[C+1]=p;s.transformPoints(a),ns.checkAndNudgePoints(e,a);try{for(let C=0;C<f;C+=2)e.get(Math.floor(a[C]),Math.floor(a[C+1]))&&o.set(C/2,u)}catch{throw new Z}}return o}}class zn{static setGridSampler(e){zn.gridSampler=e}static getInstance(){return zn.gridSampler}}zn.gridSampler=new rs;class on{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new we(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Jr{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){let a=r[0];r[0]=r[2],r[2]=a}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new Ls(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Z;let n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);let s=0;for(let a=0;a<4;a++){let u=r[(this.shift+a)%4];this.compact?(s<<=7,s+=u>>1&127):(s<<=10,s+=(u>>2&992)+(u>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,n){let r=0;e.forEach((s,o,a)=>{let u=(s>>n-2<<1)+(s&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(fe.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new Z}getCorrectedParameterData(e,n){let r,s;n?(r=7,s=2):(r=10,s=4);let o=r-s,a=new Int32Array(r);for(let f=r-1;f>=0;--f)a[f]=e&15,e>>=4;try{new Kr(tt.AZTEC_PARAM).decode(a,o)}catch{throw new Z}let u=0;for(let f=0;f<s;f++)u=(u<<4)+a[f];return u}getBullsEyeCorners(e){let n=e,r=e,s=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let S=this.getFirstDifferent(n,a,1,-1),T=this.getFirstDifferent(r,a,1,1),M=this.getFirstDifferent(s,a,-1,1),b=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){let B=this.distancePoint(b,S)*this.nbCenterLayers/(this.distancePoint(o,n)*(this.nbCenterLayers+2));if(B<.75||B>1.25||!this.isWhiteOrBlackRectangle(S,T,M,b))break}n=S,r=T,s=M,o=b,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Z;this.compact=this.nbCenterLayers===5;let u=new we(n.getX()+.5,n.getY()-.5),f=new we(r.getX()+.5,r.getY()+.5),p=new we(s.getX()-.5,s.getY()+.5),C=new we(o.getX()-.5,o.getY()-.5);return this.expandSquare([u,f,p,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,r,s;try{let u=new tr(this.image).detect();e=u[0],n=u[1],r=u[2],s=u[3]}catch{let f=this.image.getWidth()/2,p=this.image.getHeight()/2;e=this.getFirstDifferent(new on(f+7,p-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new on(f+7,p+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new on(f-7,p+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new on(f-7,p-7),!1,-1,-1).toResultPoint()}let o=Je.round((e.getX()+s.getX()+n.getX()+r.getX())/4),a=Je.round((e.getY()+s.getY()+n.getY()+r.getY())/4);try{let u=new tr(this.image,15,o,a).detect();e=u[0],n=u[1],r=u[2],s=u[3]}catch{e=this.getFirstDifferent(new on(o+7,a-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new on(o+7,a+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new on(o-7,a+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new on(o-7,a-7),!1,-1,-1).toResultPoint()}return o=Je.round((e.getX()+s.getX()+n.getX()+r.getX())/4),a=Je.round((e.getY()+s.getY()+n.getY()+r.getY())/4),new on(o,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,r,s,o){let a=zn.getInstance(),u=this.getDimension(),f=u/2-this.nbCenterLayers,p=u/2+this.nbCenterLayers;return a.sampleGrid(e,u,u,f,f,p,f,p,p,f,p,n.getX(),n.getY(),r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(e,n,r){let s=0,o=this.distanceResultPoint(e,n),a=o/r,u=e.getX(),f=e.getY(),p=a*(n.getX()-e.getX())/o,C=a*(n.getY()-e.getY())/o;for(let S=0;S<r;S++)this.image.get(Je.round(u+S*p),Je.round(f+S*C))&&(s|=1<<r-S-1);return s}isWhiteOrBlackRectangle(e,n,r,s){let o=3;e=new on(e.getX()-o,e.getY()+o),n=new on(n.getX()-o,n.getY()-o),r=new on(r.getX()+o,r.getY()-o),s=new on(s.getX()+o,s.getY()+o);let a=this.getColor(s,e);if(a===0)return!1;let u=this.getColor(e,n);return u!==a||(u=this.getColor(n,r),u!==a)?!1:(u=this.getColor(r,s),u===a)}getColor(e,n){let r=this.distancePoint(e,n),s=(n.getX()-e.getX())/r,o=(n.getY()-e.getY())/r,a=0,u=e.getX(),f=e.getY(),p=this.image.get(e.getX(),e.getY()),C=Math.ceil(r);for(let T=0;T<C;T++)u+=s,f+=o,this.image.get(Je.round(u),Je.round(f))!==p&&a++;let S=a/r;return S>.1&&S<.9?0:S<=.1===p?1:-1}getFirstDifferent(e,n,r,s){let o=e.getX()+r,a=e.getY()+s;for(;this.isValid(o,a)&&this.image.get(o,a)===n;)o+=r,a+=s;for(o-=r,a-=s;this.isValid(o,a)&&this.image.get(o,a)===n;)o+=r;for(o-=r;this.isValid(o,a)&&this.image.get(o,a)===n;)a+=s;return a-=s,new on(o,a)}expandSquare(e,n,r){let s=r/(2*n),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,p=new we(u+s*o,f+s*a),C=new we(u-s*o,f-s*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;let S=new we(u+s*o,f+s*a),T=new we(u-s*o,f-s*a);return[p,S,C,T]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=Je.round(e.getX()),r=Je.round(e.getY());return this.isValid(n,r)}distancePoint(e,n){return Je.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return Je.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(fe.truncDivision(this.nbLayers-4,8)+1)+15}}class vr{decode(e,n=null){let r=null,s=new Jr(e.getBlackMatrix()),o=null,a=null;try{let C=s.detectMirror(!1);o=C.getPoints(),this.reportFoundResultPoints(n,o),a=new pt().decode(C)}catch(C){r=C}if(a==null)try{let C=s.detectMirror(!0);o=C.getPoints(),this.reportFoundResultPoints(n,o),a=new pt().decode(C)}catch(C){throw r??C}let u=new De(a.getText(),a.getRawBytes(),a.getNumBits(),o,ue.AZTEC,te.currentTimeMillis()),f=a.getByteSegments();f!=null&&u.putMetadata(Pe.BYTE_SEGMENTS,f);let p=a.getECLevel();return p!=null&&u.putMetadata(Pe.ERROR_CORRECTION_LEVEL,p),u}reportFoundResultPoints(e,n){if(e!=null){let r=e.get(We.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach((s,o,a)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class Fa extends Fe{constructor(e=500){super(new vr,e)}}class Dt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(We.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),a=this.doDecode(o,n),u=a.getResultMetadata();let f=270;u!==null&&u.get(Pe.ORIENTATION)===!0&&(f=f+u.get(Pe.ORIENTATION)%360),a.putMetadata(Pe.ORIENTATION,f);const p=a.getResultPoints();if(p!==null){const C=o.getHeight();for(let S=0;S<p.length;S++)p[S]=new we(C-p[S].getY()-1,p[S].getX())}return a}else throw new Z}}reset(){}doDecode(e,n){const r=e.getWidth(),s=e.getHeight();let o=new ve(r);const a=n&&n.get(We.TRY_HARDER)===!0,u=Math.max(1,s>>(a?8:5));let f;a?f=s:f=15;const p=Math.trunc(s/2);for(let C=0;C<f;C++){const S=Math.trunc((C+1)/2),T=(C&1)===0,M=p+u*(T?S:-S);if(M<0||M>=s)break;try{o=e.getBlackRow(M,o)}catch{continue}for(let b=0;b<2;b++){if(b===1&&(o.reverse(),n&&n.get(We.NEED_RESULT_POINT_CALLBACK)===!0)){const B=new Map;n.forEach((U,W)=>B.set(W,U)),B.delete(We.NEED_RESULT_POINT_CALLBACK),n=B}try{const B=this.decodeRow(M,o,n);if(b===1){B.putMetadata(Pe.ORIENTATION,180);const U=B.getResultPoints();U!==null&&(U[0]=new we(r-U[0].getX()-1,U[0].getY()),U[1]=new we(r-U[1].getX()-1,U[1].getY()))}return B}catch{}}}throw new Z}static recordPattern(e,n,r){const s=r.length;for(let p=0;p<s;p++)r[p]=0;const o=e.getSize();if(n>=o)throw new Z;let a=!e.get(n),u=0,f=n;for(;f<o;){if(e.get(f)!==a)r[u]++;else{if(++u===s)break;r[u]=1,a=!a}f++}if(!(u===s||u===s-1&&f===o))throw new Z}static recordPatternInReverse(e,n,r){let s=r.length,o=e.get(n);for(;n>0&&s>=0;)e.get(--n)!==o&&(s--,o=!o);if(s>=0)throw new Z;Dt.recordPattern(e,n+1,r)}static patternMatchVariance(e,n,r){const s=e.length;let o=0,a=0;for(let p=0;p<s;p++)o+=e[p],a+=n[p];if(o<a)return Number.POSITIVE_INFINITY;const u=o/a;r*=u;let f=0;for(let p=0;p<s;p++){const C=e[p],S=n[p]*u,T=C>S?C-S:S-C;if(T>r)return Number.POSITIVE_INFINITY;f+=T}return f/o}}class ce extends Dt{static findStartPattern(e){const n=e.getSize(),r=e.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),a=r,u=!1;const f=6;for(let p=r;p<n;p++)if(e.get(p)!==u)o[s]++;else{if(s===f-1){let C=ce.MAX_AVG_VARIANCE,S=-1;for(let T=ce.CODE_START_A;T<=ce.CODE_START_C;T++){const M=Dt.patternMatchVariance(o,ce.CODE_PATTERNS[T],ce.MAX_INDIVIDUAL_VARIANCE);M<C&&(C=M,S=T)}if(S>=0&&e.isRange(Math.max(0,a-(p-a)/2),a,!1))return Int32Array.from([a,p,S]);a+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,u=!u}throw new Z}static decodeCode(e,n,r){Dt.recordPattern(e,r,n);let s=ce.MAX_AVG_VARIANCE,o=-1;for(let a=0;a<ce.CODE_PATTERNS.length;a++){const u=ce.CODE_PATTERNS[a],f=this.patternMatchVariance(n,u,ce.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,o=a)}if(o>=0)return o;throw new Z}decodeRow(e,n,r){const s=r&&r.get(We.ASSUME_GS1)===!0,o=ce.findStartPattern(n),a=o[2];let u=0;const f=new Uint8Array(20);f[u++]=a;let p;switch(a){case ce.CODE_START_A:p=ce.CODE_CODE_A;break;case ce.CODE_START_B:p=ce.CODE_CODE_B;break;case ce.CODE_START_C:p=ce.CODE_CODE_C;break;default:throw new ne}let C=!1,S=!1,T="",M=o[0],b=o[1];const B=Int32Array.from([0,0,0,0,0,0]);let U=0,W=0,ie=a,oe=0,J=!0,Qe=!1,ze=!1;for(;!C;){const xr=S;switch(S=!1,U=W,W=ce.decodeCode(n,B,b),f[u++]=W,W!==ce.CODE_STOP&&(J=!0),W!==ce.CODE_STOP&&(oe++,ie+=oe*W),M=b,b+=B.reduce((ui,to)=>ui+to,0),W){case ce.CODE_START_A:case ce.CODE_START_B:case ce.CODE_START_C:throw new ne}switch(p){case ce.CODE_CODE_A:if(W<64)ze===Qe?T+=String.fromCharCode(32+W):T+=String.fromCharCode(32+W+128),ze=!1;else if(W<96)ze===Qe?T+=String.fromCharCode(W-64):T+=String.fromCharCode(W+64),ze=!1;else switch(W!==ce.CODE_STOP&&(J=!1),W){case ce.CODE_FNC_1:s&&(T.length===0?T+="]C1":T+="");break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_A:!Qe&&ze?(Qe=!0,ze=!1):Qe&&ze?(Qe=!1,ze=!1):ze=!0;break;case ce.CODE_SHIFT:S=!0,p=ce.CODE_CODE_B;break;case ce.CODE_CODE_B:p=ce.CODE_CODE_B;break;case ce.CODE_CODE_C:p=ce.CODE_CODE_C;break;case ce.CODE_STOP:C=!0;break}break;case ce.CODE_CODE_B:if(W<96)ze===Qe?T+=String.fromCharCode(32+W):T+=String.fromCharCode(32+W+128),ze=!1;else switch(W!==ce.CODE_STOP&&(J=!1),W){case ce.CODE_FNC_1:s&&(T.length===0?T+="]C1":T+="");break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_B:!Qe&&ze?(Qe=!0,ze=!1):Qe&&ze?(Qe=!1,ze=!1):ze=!0;break;case ce.CODE_SHIFT:S=!0,p=ce.CODE_CODE_A;break;case ce.CODE_CODE_A:p=ce.CODE_CODE_A;break;case ce.CODE_CODE_C:p=ce.CODE_CODE_C;break;case ce.CODE_STOP:C=!0;break}break;case ce.CODE_CODE_C:if(W<100)W<10&&(T+="0"),T+=W;else switch(W!==ce.CODE_STOP&&(J=!1),W){case ce.CODE_FNC_1:s&&(T.length===0?T+="]C1":T+="");break;case ce.CODE_CODE_A:p=ce.CODE_CODE_A;break;case ce.CODE_CODE_B:p=ce.CODE_CODE_B;break;case ce.CODE_STOP:C=!0;break}break}xr&&(p=p===ce.CODE_CODE_A?ce.CODE_CODE_B:ce.CODE_CODE_A)}const An=b-M;if(b=n.getNextUnset(b),!n.isRange(b,Math.min(n.getSize(),b+(b-M)/2),!1))throw new Z;if(ie-=oe*U,ie%103!==U)throw new he;const Zn=T.length;if(Zn===0)throw new Z;Zn>0&&J&&(p===ce.CODE_CODE_C?T=T.substring(0,Zn-2):T=T.substring(0,Zn-1));const Gt=(o[1]+o[0])/2,ut=M+An/2,bt=f.length,pn=new Uint8Array(bt);for(let xr=0;xr<bt;xr++)pn[xr]=f[xr];const jr=[new we(Gt,e),new we(ut,e)];return new De(T,pn,0,jr,ue.CODE_128,new Date().getTime())}}ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ce.MAX_AVG_VARIANCE=.25,ce.MAX_INDIVIDUAL_VARIANCE=.7,ce.CODE_SHIFT=98,ce.CODE_CODE_C=99,ce.CODE_CODE_B=100,ce.CODE_CODE_A=101,ce.CODE_FNC_1=102,ce.CODE_FNC_2=97,ce.CODE_FNC_3=96,ce.CODE_FNC_4_A=101,ce.CODE_FNC_4_B=100,ce.CODE_START_A=103,ce.CODE_START_B=104,ce.CODE_START_C=105,ce.CODE_STOP=106;class Ht extends Dt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=Ht.findAsteriskPattern(n,s),a=n.getNextSet(o[1]),u=n.getSize(),f,p;do{Ht.recordPattern(n,a,s);let B=Ht.toNarrowWidePattern(s);if(B<0)throw new Z;f=Ht.patternToChar(B),this.decodeRowResult+=f,p=a;for(let U of s)a+=U;a=n.getNextSet(a)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let B of s)C+=B;let S=a-p-C;if(a!==u&&S*2<C)throw new Z;if(this.usingCheckDigit){let B=this.decodeRowResult.length-1,U=0;for(let W=0;W<B;W++)U+=Ht.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(B)!==Ht.ALPHABET_STRING.charAt(U%43))throw new he;this.decodeRowResult=this.decodeRowResult.substring(0,B)}if(this.decodeRowResult.length===0)throw new Z;let T;this.extendedMode?T=Ht.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let M=(o[1]+o[0])/2,b=p+C/2;return new De(T,null,0,[new we(M,e),new we(b,e)],ue.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let r=e.getSize(),s=e.getNextSet(0),o=0,a=s,u=!1,f=n.length;for(let p=s;p<r;p++)if(e.get(p)!==u)n[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(n)===Ht.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((p-a)/2)),a,!1))return[a,p];a+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,u=!u}throw new Z}static toNarrowWidePattern(e){let n=e.length,r=0,s;do{let o=2147483647;for(let f of e)f<o&&f>r&&(o=f);r=o,s=0;let a=0,u=0;for(let f=0;f<n;f++){let p=e[f];p>r&&(u|=1<<n-1-f,s++,a+=p)}if(s===3){for(let f=0;f<n&&s>0;f++){let p=e[f];if(p>r&&(s--,p*2>=a))return-1}return u}}while(s>3);return-1}static patternToChar(e){for(let n=0;n<Ht.CHARACTER_ENCODINGS.length;n++)if(Ht.CHARACTER_ENCODINGS[n]===e)return Ht.ALPHABET_STRING.charAt(n);if(e===Ht.ASTERISK_ENCODING)return"*";throw new Z}static decodeExtended(e){let n=e.length,r="";for(let s=0;s<n;s++){let o=e.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let a=e.charAt(s+1),u="\0";switch(o){case"+":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)+32);else throw new ne;break;case"$":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)-64);else throw new ne;break;case"%":if(a>="A"&&a<="E")u=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")u=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")u=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")u="\0";else if(a==="V")u="@";else if(a==="W")u="`";else if(a==="X"||a==="Y"||a==="Z")u="";else throw new ne;break;case"/":if(a>="A"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")u=":";else throw new ne;break}r+=u,s++}else r+=o}return r}}Ht.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ht.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ht.ASTERISK_ENCODING=148;class lt extends Dt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,r){let s=this.decodeStart(n),o=this.decodeEnd(n),a=new Ye;lt.decodeMiddle(n,s[1],o[0],a);let u=a.toString(),f=null;r!=null&&(f=r.get(We.ALLOWED_LENGTHS)),f==null&&(f=lt.DEFAULT_ALLOWED_LENGTHS);let p=u.length,C=!1,S=0;for(let b of f){if(p===b){C=!0;break}b>S&&(S=b)}if(!C&&p>S&&(C=!0),!C)throw new ne;const T=[new we(s[1],e),new we(o[0],e)];return new De(u,null,0,T,ue.ITF,new Date().getTime())}static decodeMiddle(e,n,r,s){let o=new Int32Array(10),a=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),a.fill(0),u.fill(0);n<r;){Dt.recordPattern(e,n,o);for(let p=0;p<5;p++){let C=2*p;a[p]=o[C],u[p]=o[C+1]}let f=lt.decodeDigit(a);s.append(f.toString()),f=this.decodeDigit(u),s.append(f.toString()),o.forEach(function(p){n+=p})}}decodeStart(e){let n=lt.skipWhiteSpace(e),r=lt.findGuardPattern(e,n,lt.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,n){let r=this.narrowLineWidth*10;r=r<n?r:n;for(let s=n-1;r>0&&s>=0&&!e.get(s);s--)r--;if(r!==0)throw new Z}static skipWhiteSpace(e){const n=e.getSize(),r=e.getNextSet(0);if(r===n)throw new Z;return r}decodeEnd(e){e.reverse();try{let n=lt.skipWhiteSpace(e),r;try{r=lt.findGuardPattern(e,n,lt.END_PATTERN_REVERSED[0])}catch(o){o instanceof Z&&(r=lt.findGuardPattern(e,n,lt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let s=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-s,r}finally{e.reverse()}}static findGuardPattern(e,n,r){let s=r.length,o=new Int32Array(s),a=e.getSize(),u=!1,f=0,p=n;o.fill(0);for(let C=n;C<a;C++)if(e.get(C)!==u)o[f]++;else{if(f===s-1){if(Dt.patternMatchVariance(o,r,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE)return[p,C];p+=o[0]+o[1],te.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,u=!u}throw new Z}static decodeDigit(e){let n=lt.MAX_AVG_VARIANCE,r=-1,s=lt.PATTERNS.length;for(let o=0;o<s;o++){let a=lt.PATTERNS[o],u=Dt.patternMatchVariance(e,a,lt.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,r=o):u===n&&(r=-1)}if(r>=0)return r%10;throw new Z}}lt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],lt.MAX_AVG_VARIANCE=.38,lt.MAX_INDIVIDUAL_VARIANCE=.5,lt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],lt.START_PATTERN=Int32Array.from([1,1,1,1]),lt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class At extends Dt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,r,s=0,o=Int32Array.from([0,0,0]);for(;!n;){o=Int32Array.from([0,0,0]),r=At.findGuardPattern(e,s,!1,this.START_END_PATTERN,o);let a=r[0];s=r[1];let u=a-(s-a);u>=0&&(n=e.isRange(u,a,!1))}return r}static checkChecksum(e){return At.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return At.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new ne;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new ne;r+=o}return(1e3-r)%10}static decodeEnd(e,n){return At.findGuardPattern(e,n,!1,At.START_END_PATTERN,new Int32Array(At.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,r,s){return this.findGuardPattern(e,n,r,s,new Int32Array(s.length))}static findGuardPattern(e,n,r,s,o){let a=e.getSize();n=r?e.getNextUnset(n):e.getNextSet(n);let u=0,f=n,p=s.length,C=r;for(let S=n;S<a;S++)if(e.get(S)!==C)o[u]++;else{if(u===p-1){if(Dt.patternMatchVariance(o,s,At.MAX_INDIVIDUAL_VARIANCE)<At.MAX_AVG_VARIANCE)return Int32Array.from([f,S]);f+=o[0]+o[1];let T=o.slice(2,o.length-1);for(let M=0;M<u-1;M++)o[M]=T[M];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,C=!C}throw new Z}static decodeDigit(e,n,r,s){this.recordPattern(e,r,n);let o=this.MAX_AVG_VARIANCE,a=-1,u=s.length;for(let f=0;f<u;f++){let p=s[f],C=Dt.patternMatchVariance(n,p,At.MAX_INDIVIDUAL_VARIANCE);C<o&&(o=C,a=f)}if(a>=0)return a;throw new Z}}At.MAX_AVG_VARIANCE=.48,At.MAX_INDIVIDUAL_VARIANCE=.7,At.START_END_PATTERN=Int32Array.from([1,1,1]),At.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),At.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),At.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class kr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),a=s.toString(),u=kr.parseExtensionString(a),f=[new we((r[0]+r[1])/2,e),new we(o,e)],p=new De(a,null,0,f,ue.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=n[1],u=0;for(let p=0;p<5&&a<o;p++){let C=At.decodeDigit(e,s,a,At.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let S of s)a+=S;C>=10&&(u|=1<<4-p),p!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==5)throw new Z;let f=this.determineCheckDigit(u);if(kr.extensionChecksum(r.toString())!==f)throw new Z;return a}static extensionChecksum(e){let n=e.length,r=0;for(let s=n-2;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;r*=3;for(let s=n-1;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Z}static parseExtensionString(e){if(e.length!==5)return null;let n=kr.parseExtension5String(e);return n==null?null:new Map([[Pe.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let r=parseInt(e.substring(1)),s=(r/100).toString(),o=r%100,a=o<10?"0"+o:o.toString();return n+s+"."+a}}class Ri{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),a=s.toString(),u=Ri.parseExtensionString(a),f=[new we((r[0]+r[1])/2,e),new we(o,e)],p=new De(a,null,0,f,ue.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=n[1],u=0;for(let f=0;f<2&&a<o;f++){let p=At.decodeDigit(e,s,a,At.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let C of s)a+=C;p>=10&&(u|=1<<1-f),f!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==2)throw new Z;if(parseInt(r.toString())%4!==u)throw new Z;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[Pe.ISSUE_NUMBER,parseInt(e)]])}}class is{static decodeRow(e,n,r){let s=At.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new kr().decodeRow(e,n,s)}catch{return new Ri().decodeRow(e,n,s)}}}is.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ke extends At{constructor(){super(),this.decodeRowStringBuffer="",Ke.L_AND_G_PATTERNS=Ke.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=Ke.L_PATTERNS[e-10],r=new Int32Array(n.length);for(let s=0;s<n.length;s++)r[s]=n[n.length-s-1];Ke.L_AND_G_PATTERNS[e]=r}}decodeRow(e,n,r){let s=Ke.findStartGuardPattern(n),o=r==null?null:r.get(We.NEED_RESULT_POINT_CALLBACK);if(o!=null){const J=new we((s[0]+s[1])/2,e);o.foundPossibleResultPoint(J)}let a=this.decodeMiddle(n,s,this.decodeRowStringBuffer),u=a.rowOffset,f=a.resultString;if(o!=null){const J=new we(u,e);o.foundPossibleResultPoint(J)}let p=this.decodeEnd(n,u);if(o!=null){const J=new we((p[0]+p[1])/2,e);o.foundPossibleResultPoint(J)}let C=p[1],S=C+(C-p[0]);if(S>=n.getSize()||!n.isRange(C,S,!1))throw new Z;let T=f.toString();if(T.length<8)throw new ne;if(!Ke.checkChecksum(T))throw new he;let M=(s[1]+s[0])/2,b=(p[1]+p[0])/2,B=this.getBarcodeFormat(),U=[new we(M,e),new we(b,e)],W=new De(T,null,0,U,B,new Date().getTime()),ie=0;try{let J=is.decodeRow(e,n,p[1]);W.putMetadata(Pe.UPC_EAN_EXTENSION,J.getText()),W.putAllMetadata(J.getResultMetadata()),W.addResultPoints(J.getResultPoints()),ie=J.getText().length}catch{}let oe=r==null?null:r.get(We.ALLOWED_EAN_EXTENSIONS);if(oe!=null){let J=!1;for(let Qe in oe)if(ie.toString()===Qe){J=!0;break}if(!J)throw new Z}return W}decodeEnd(e,n){return Ke.findGuardPattern(e,n,!1,Ke.START_END_PATTERN,new Int32Array(Ke.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Ke.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return Ke.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new ne;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new ne;r+=o}return(1e3-r)%10}}class Rn extends Ke{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=n[1],u=0;for(let p=0;p<6&&a<o;p++){let C=Ke.decodeDigit(e,s,a,Ke.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let S of s)a+=S;C>=10&&(u|=1<<5-p)}r=Rn.determineFirstDigit(r,u),a=Ke.findGuardPattern(e,a,!0,Ke.MIDDLE_PATTERN,new Int32Array(Ke.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&a<o;p++){let C=Ke.decodeDigit(e,s,a,Ke.L_PATTERNS);r+=String.fromCharCode(48+C);for(let S of s)a+=S}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return ue.EAN_13}static determineFirstDigit(e,n){for(let r=0;r<10;r++)if(n===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new Z}}Rn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ks extends Ke{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a=n[1];for(let f=0;f<4&&a<o;f++){let p=Ke.decodeDigit(e,s,a,Ke.L_PATTERNS);r+=String.fromCharCode(48+p);for(let C of s)a+=C}a=Ke.findGuardPattern(e,a,!0,Ke.MIDDLE_PATTERN,new Int32Array(Ke.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<4&&a<o;f++){let p=Ke.decodeDigit(e,s,a,Ke.L_PATTERNS);r+=String.fromCharCode(48+p);for(let C of s)a+=C}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return ue.EAN_8}}class Bs extends Ke{constructor(){super(...arguments),this.ean13Reader=new Rn}getBarcodeFormat(){return ue.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,r))}decodeMiddle(e,n,r){return this.ean13Reader.decodeMiddle(e,n,r)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let r=new De(n.substring(1),null,null,e.getResultPoints(),ue.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new Z}reset(){this.ean13Reader.reset()}}class Dn extends Ke{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters.map(p=>p);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=e.getSize();let a=n[1],u=0;for(let p=0;p<6&&a<o;p++){const C=Dn.decodeDigit(e,s,a,Dn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let S of s)a+=S;C>=10&&(u|=1<<5-p)}let f=Dn.determineNumSysAndCheckDigit(r,u);return{rowOffset:a,resultString:f}}decodeEnd(e,n){return Dn.findGuardPatternWithoutCounters(e,n,!0,Dn.MIDDLE_END_PATTERN)}checkChecksum(e){return Ke.checkChecksum(Dn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let o=String.fromCharCode(48+r),a=String.fromCharCode(48+s);return o+e+a}throw Z.getNotFoundInstance()}getBarcodeFormat(){return ue.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new Ye;r.append(e.charAt(0));let s=n[5];switch(s){case 0:case 1:case 2:r.appendChars(n,0,2),r.append(s),r.append("0000"),r.appendChars(n,2,3);break;case 3:r.appendChars(n,0,3),r.append("00000"),r.appendChars(n,3,2);break;case 4:r.appendChars(n,0,4),r.append("00000"),r.append(n[4]);break;default:r.appendChars(n,0,5),r.append("0000"),r.append(s);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Dn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ss extends Dt{constructor(e){super();let n=e==null?null:e.get(We.POSSIBLE_FORMATS),r=[];w(n)?(r.push(new Rn),r.push(new Bs),r.push(new ks),r.push(new Dn)):(n.indexOf(ue.EAN_13)>-1&&r.push(new Rn),n.indexOf(ue.UPC_A)>-1&&r.push(new Bs),n.indexOf(ue.EAN_8)>-1&&r.push(new ks),n.indexOf(ue.UPC_E)>-1&&r.push(new Dn)),this.readers=r}decodeRow(e,n,r){for(let s of this.readers)try{const o=s.decodeRow(e,n,r),a=o.getBarcodeFormat()===ue.EAN_13&&o.getText().charAt(0)==="0",u=r==null?null:r.get(We.POSSIBLE_FORMATS),f=u==null||u.includes(ue.UPC_A);if(a&&f){const p=o.getRawBytes(),C=new De(o.getText().substring(1),p,p?p.length:null,o.getResultPoints(),ue.UPC_A);return C.putAllMetadata(o.getResultMetadata()),C}return o}catch{}throw new Z}reset(){for(let e of this.readers)e.reset()}}class Jt extends Dt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let r=0;r<n.length;r++)if(Dt.patternMatchVariance(e,n[r],Jt.MAX_INDIVIDUAL_VARIANCE)<Jt.MAX_AVG_VARIANCE)return r;throw new Z}static count(e){return Je.sum(new Int32Array(e))}static increment(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]>s&&(s=n[o],r=o);e[r]++}static decrement(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]<s&&(s=n[o],r=o);e[r]--}static isFinderPattern(e){let n=e[0]+e[1],r=n+e[2]+e[3],s=n/r;if(s>=Jt.MIN_FINDER_PATTERN_RATIO&&s<=Jt.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let u of e)u>a&&(a=u),u<o&&(o=u);return a<10*o}return!1}}Jt.MAX_AVG_VARIANCE=.2,Jt.MAX_INDIVIDUAL_VARIANCE=.45,Jt.MIN_FINDER_PATTERN_RATIO=9.5/12,Jt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Tr{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Tr))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Di{constructor(e,n,r,s,o){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new we(r,o)),this.resultPoints.push(new we(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Di))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class yn{constructor(){}static getRSSvalue(e,n,r){let s=0;for(let f of e)s+=f;let o=0,a=0,u=e.length;for(let f=0;f<u-1;f++){let p;for(p=1,a|=1<<f;p<e[f];p++,a&=~(1<<f)){let C=yn.combins(s-p-1,u-f-2);if(r&&a===0&&s-p-(u-f-1)>=u-f-1&&(C-=yn.combins(s-p-(u-f),u-f-2)),u-f-1>1){let S=0;for(let T=s-p-(u-f-2);T>n;T--)S+=yn.combins(s-p-T-1,u-f-3);C-=S*(u-1-f)}else s-p>n&&C--;o+=C}s-=p}return o}static combins(e,n){let r,s;e-n>n?(s=n,r=e-n):(s=e-n,r=n);let o=1,a=1;for(let u=e;u>r;u--)o*=u,a<=s&&(o/=a,a++);for(;a<=s;)o/=a,a++;return o}}class Ps{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let r=12*n,s=new ve(r),o=0,u=e[0].getRightChar().getValue();for(let f=11;f>=0;--f)(u&1<<f)!=0&&s.set(o),o++;for(let f=1;f<e.length;++f){let p=e[f],C=p.getLeftChar().getValue();for(let S=11;S>=0;--S)(C&1<<S)!=0&&s.set(o),o++;if(p.getRightChar()!=null){let S=p.getRightChar().getValue();for(let T=11;T>=0;--T)(S&1<<T)!=0&&s.set(o),o++}}return s}}class Hn{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Fs{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Zt extends Fs{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===Zt.FNC1}}Zt.FNC1="$";class nr extends Fs{constructor(e,n,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class dn extends Fs{constructor(e,n,r){if(super(e),n<0||n>10||r<0||r>10)throw new ne;this.firstDigit=n,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===dn.FNC1}isSecondDigitFNC1(){return this.secondDigit===dn.FNC1}isAnyFNC1(){return this.firstDigit===dn.FNC1||this.secondDigit===dn.FNC1}}dn.FNC1=10;class xe{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new Z;let n=e.substring(0,2);for(let o of xe.TWO_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(2,o[2],e):xe.processFixedAI(2,o[1],e);if(e.length<3)throw new Z;let r=e.substring(0,3);for(let o of xe.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(3,o[2],e):xe.processFixedAI(3,o[1],e);for(let o of xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,o[2],e):xe.processFixedAI(4,o[1],e);if(e.length<4)throw new Z;let s=e.substring(0,4);for(let o of xe.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,o[2],e):xe.processFixedAI(4,o[1],e);throw new Z}static processFixedAI(e,n,r){if(r.length<e)throw new Z;let s=r.substring(0,e);if(r.length<e+n)throw new Z;let o=r.substring(e,e+n),a=r.substring(e+n),u="("+s+")"+o,f=xe.parseFieldsInGeneralPurpose(a);return f==null?u:u+f}static processVariableAI(e,n,r){let s=r.substring(0,e),o;r.length<e+n?o=r.length:o=e+n;let a=r.substring(e,o),u=r.substring(o),f="("+s+")"+a,p=xe.parseFieldsInGeneralPurpose(u);return p==null?f:f+p}}xe.VARIABLE_LENGTH=[],xe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",xe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",xe.VARIABLE_LENGTH,20],["22",xe.VARIABLE_LENGTH,29],["30",xe.VARIABLE_LENGTH,8],["37",xe.VARIABLE_LENGTH,8],["90",xe.VARIABLE_LENGTH,30],["91",xe.VARIABLE_LENGTH,30],["92",xe.VARIABLE_LENGTH,30],["93",xe.VARIABLE_LENGTH,30],["94",xe.VARIABLE_LENGTH,30],["95",xe.VARIABLE_LENGTH,30],["96",xe.VARIABLE_LENGTH,30],["97",xe.VARIABLE_LENGTH,3],["98",xe.VARIABLE_LENGTH,30],["99",xe.VARIABLE_LENGTH,30]],xe.THREE_DIGIT_DATA_LENGTH=[["240",xe.VARIABLE_LENGTH,30],["241",xe.VARIABLE_LENGTH,30],["242",xe.VARIABLE_LENGTH,6],["250",xe.VARIABLE_LENGTH,30],["251",xe.VARIABLE_LENGTH,30],["253",xe.VARIABLE_LENGTH,17],["254",xe.VARIABLE_LENGTH,20],["400",xe.VARIABLE_LENGTH,30],["401",xe.VARIABLE_LENGTH,30],["402",17],["403",xe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",xe.VARIABLE_LENGTH,20],["421",xe.VARIABLE_LENGTH,15],["422",3],["423",xe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",xe.VARIABLE_LENGTH,15],["391",xe.VARIABLE_LENGTH,18],["392",xe.VARIABLE_LENGTH,15],["393",xe.VARIABLE_LENGTH,18],["703",xe.VARIABLE_LENGTH,30]],xe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",xe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",xe.VARIABLE_LENGTH,20],["8003",xe.VARIABLE_LENGTH,30],["8004",xe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",xe.VARIABLE_LENGTH,30],["8008",xe.VARIABLE_LENGTH,12],["8018",18],["8020",xe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",xe.VARIABLE_LENGTH,70],["8200",xe.VARIABLE_LENGTH,70]];class $r{constructor(e){this.buffer=new Ye,this.information=e}decodeAllCodes(e,n){let r=n,s=null;do{let o=this.decodeGeneralPurposeField(r,s),a=xe.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?s=""+o.getRemainingValue():s=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new dn(this.information.getSize(),dn.FNC1,dn.FNC1):new dn(this.information.getSize(),o-1,dn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),r=(n-8)/11,s=(n-8)%11;return new dn(e+7,r,s)}extractNumericValueFromBitArray(e,n){return $r.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,r){let s=0;for(let o=0;o<r;++o)e.get(n+o)&&(s|=1<<r-o-1);return s}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new nr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new nr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let r=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new nr(this.current.getPosition(),this.buffer.toString()):n=new nr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Hn(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new nr(this.current.getPosition(),this.buffer.toString());return new Hn(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Hn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new nr(this.current.getPosition(),this.buffer.toString());return new Hn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Hn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new nr(this.current.getPosition(),this.buffer.toString());return new Hn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Hn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,8);return s>=232&&s<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Zt(e+5,Zt.FNC1);if(n>=5&&n<15)return new Zt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Zt(e+7,""+(r+1));if(r>=90&&r<116)return new Zt(e+7,""+(r+7));let s=this.extractNumericValueFromBitArray(e,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new ne}return new Zt(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Zt(e+5,Zt.FNC1);if(n>=5&&n<15)return new Zt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Zt(e+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new jn("Decoding invalid alphanumeric value: "+r)}return new Zt(e+6,s)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class Us{constructor(e){this.information=e,this.generalDecoder=new $r(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Cn extends Us{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,r)}encodeCompressedGtinWithoutAI(e,n,r){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}Cn.appendCheckDigit(e,r)}static appendCheckDigit(e,n){let r=0;for(let s=0;s<13;s++){let o=e.charAt(s+n).charCodeAt(0)-48;r+=(s&1)===0?3*o:o}r=10-r%10,r===10&&(r=0),e.append(r)}}Cn.GTIN_SIZE=40;class bn extends Cn{constructor(e){super(e)}parseInformation(){let e=new Ye;e.append("(01)");let n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(bn.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,bn.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,bn.HEADER_SIZE+44)}}bn.HEADER_SIZE=4;class bi extends Us{constructor(e){super(e)}parseInformation(){let e=new Ye;return this.getGeneralDecoder().decodeAllCodes(e,bi.HEADER_SIZE)}}bi.HEADER_SIZE=5;class Li extends Cn{constructor(e){super(e)}encodeCompressedWeight(e,n,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,r);this.addWeightCode(e,s);let o=this.checkWeight(s),a=1e5;for(let u=0;u<5;++u)o/a===0&&e.append("0"),a/=10;e.append(o)}}class rr extends Li{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=rr.HEADER_SIZE+Li.GTIN_SIZE+rr.WEIGHT_SIZE)throw new Z;let e=new Ye;return this.encodeCompressedGtin(e,rr.HEADER_SIZE),this.encodeCompressedWeight(e,rr.HEADER_SIZE+Li.GTIN_SIZE,rr.WEIGHT_SIZE),e.toString()}}rr.HEADER_SIZE=5,rr.WEIGHT_SIZE=15;class No extends rr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class _o extends rr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Vn extends Cn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Vn.HEADER_SIZE+Cn.GTIN_SIZE)throw new Z;let e=new Ye;this.encodeCompressedGtin(e,Vn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Vn.HEADER_SIZE+Cn.GTIN_SIZE,Vn.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Vn.HEADER_SIZE+Cn.GTIN_SIZE+Vn.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Vn.HEADER_SIZE=8,Vn.LAST_DIGIT_SIZE=2;class an extends Cn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<an.HEADER_SIZE+Cn.GTIN_SIZE)throw new Z;let e=new Ye;this.encodeCompressedGtin(e,an.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+Cn.GTIN_SIZE,an.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+Cn.GTIN_SIZE+an.LAST_DIGIT_SIZE,an.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(an.HEADER_SIZE+Cn.GTIN_SIZE+an.LAST_DIGIT_SIZE+an.FIRST_THREE_DIGITS_SIZE,null);return e.append(s.getNewString()),e.toString()}}an.HEADER_SIZE=8,an.LAST_DIGIT_SIZE=2,an.FIRST_THREE_DIGITS_SIZE=10;class St extends Li{constructor(e,n,r){super(e),this.dateCode=r,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=St.HEADER_SIZE+St.GTIN_SIZE+St.WEIGHT_SIZE+St.DATE_SIZE)throw new Z;let e=new Ye;return this.encodeCompressedGtin(e,St.HEADER_SIZE),this.encodeCompressedWeight(e,St.HEADER_SIZE+St.GTIN_SIZE,St.WEIGHT_SIZE),this.encodeCompressedDate(e,St.HEADER_SIZE+St.GTIN_SIZE+St.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,St.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let s=r%32;r/=32;let o=r%12+1;r/=12;let a=r;a/10==0&&e.append("0"),e.append(a),o/10==0&&e.append("0"),e.append(o),s/10==0&&e.append("0"),e.append(s)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}St.HEADER_SIZE=8,St.WEIGHT_SIZE=20,St.DATE_SIZE=16;function Mo(A){try{if(A.get(1))return new bn(A);if(!A.get(2))return new bi(A);switch($r.extractNumericValueFromBitArray(A,1,4)){case 4:return new No(A);case 5:return new _o(A)}switch($r.extractNumericValueFromBitArray(A,1,5)){case 12:return new Vn(A);case 13:return new an(A)}switch($r.extractNumericValueFromBitArray(A,1,7)){case 56:return new St(A,"310","11");case 57:return new St(A,"320","11");case 58:return new St(A,"310","13");case 59:return new St(A,"320","13");case 60:return new St(A,"310","15");case 61:return new St(A,"320","15");case 62:return new St(A,"310","17");case 63:return new St(A,"320","17")}}catch(e){throw console.log(e),new jn("unknown decoder: "+A)}}class ht{constructor(e,n,r,s){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof ht?ht.equalsOrNull(e.leftchar,n.leftchar)&&ht.equalsOrNull(e.rightchar,n.rightchar)&&ht.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:ht.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class js{constructor(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof js?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let r;return e.forEach((s,o)=>{n.forEach(a=>{s.getLeftChar().getValue()===a.getLeftChar().getValue()&&s.getRightChar().getValue()===a.getRightChar().getValue()&&s.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r}}class K extends Jt{constructor(e){super(...arguments),this.pairs=new Array(K.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return K.constructResult(this.decodeRow2pairs(e,n))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,K.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(o){if(o instanceof Z){if(!this.pairs.length)throw new Z;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(e,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Z}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let r=n;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(s.getPairs()),!K.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(s);try{return this.checkRows(o,r+1)}catch(a){this.verbose&&console.log(a)}}throw new Z}static isValidSequence(e){for(let n of K.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let r=!0;for(let s=0;s<e.length;s++)if(e[s].getFinderPattern().getValue()!=n[s]){r=!1;break}if(r)return!0}return!1}storeRow(e,n){let r=0,s=!1,o=!1;for(;r<this.rows.length;){let a=this.rows[r];if(a.getRowNumber()>e){o=a.isEquivalent(this.pairs);break}s=a.isEquivalent(this.pairs),r++}o||s||K.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new js(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let r of n)if(r.getPairs().length!==e.length){for(let s of r.getPairs())for(let o of e)if(ht.equals(s,o))break}}static isPartialRow(e,n){for(let r of n){let s=!0;for(let o of e){let a=!1;for(let u of r.getPairs())if(o.equals(u)){a=!0;break}if(!a){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=Ps.buildBitArray(e),s=Mo(n).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],a[0],a[1]];return new De(s,null,null,u,ue.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),o=2;for(let u=1;u<this.pairs.size();++u){let f=this.pairs.get(u);s+=f.getLeftChar().getChecksumPortion(),o++;let p=f.getRightChar();p!=null&&(s+=p.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==n.getValue()}static getNextSecondBar(e,n){let r;return e.get(n)?(r=e.getNextUnset(n),r=e.getNextSet(r)):(r=e.getNextSet(n),r=e.getNextUnset(r)),r}retrieveNextPair(e,n,r){let s=n.length%2==0;this.startFromEven&&(s=!s);let o,a=!0,u=-1;do this.findNextPair(e,n,u),o=this.parseFoundFinderPattern(e,r,s),o==null?u=K.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let f=this.decodeDataCharacter(e,o,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Z;let p;try{p=this.decodeDataCharacter(e,o,s,!1)}catch(C){p=null,this.verbose&&console.log(C)}return new ht(f,p,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),a;r>=0?a=r:this.isEmptyPair(n)?a=0:a=n[n.length-1].getFinderPattern().getStartEnd()[1];let u=n.length%2!=0;this.startFromEven&&(u=!u);let f=!1;for(;a<o&&(f=!e.get(a),!!f);)a++;let p=0,C=a;for(let S=a;S<o;S++)if(e.get(S)!=f)s[p]++;else{if(p==3){if(u&&K.reverseCounters(s),K.isFinderPattern(s)){this.startEnd[0]=C,this.startEnd[1]=S;return}u&&K.reverseCounters(s),C+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,p--}else p++;s[p]=1,f=!f}throw new Z}static reverseCounters(e){let n=e.length;for(let r=0;r<n/2;++r){let s=e[r];e[r]=e[n-r-1],e[n-r-1]=s}}parseFoundFinderPattern(e,n,r){let s,o,a;if(r){let p=this.startEnd[0]-1;for(;p>=0&&!e.get(p);)p--;p++,s=this.startEnd[0]-p,o=p,a=this.startEnd[1]}else o=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),s=a-this.startEnd[1];let u=this.getDecodeFinderCounters();te.arraycopy(u,0,u,1,u.length-1),u[0]=s;let f;try{f=this.parseFinderValue(u,K.FINDER_PATTERNS)}catch{return null}return new Di(f,[o,a],o,a,n)}decodeDataCharacter(e,n,r,s){let o=this.getDataCharacterCounters();for(let ut=0;ut<o.length;ut++)o[ut]=0;if(s)K.recordPatternInReverse(e,n.getStartEnd()[0],o);else{K.recordPattern(e,n.getStartEnd()[1],o);for(let ut=0,bt=o.length-1;ut<bt;ut++,bt--){let pn=o[ut];o[ut]=o[bt],o[bt]=pn}}let a=17,u=Je.sum(new Int32Array(o))/a,f=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(u-f)/f>.3)throw new Z;let p=this.getOddCounts(),C=this.getEvenCounts(),S=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let ut=0;ut<o.length;ut++){let bt=1*o[ut]/u,pn=bt+.5;if(pn<1){if(bt<.3)throw new Z;pn=1}else if(pn>8){if(bt>8.7)throw new Z;pn=8}let jr=ut/2;(ut&1)==0?(p[jr]=pn,S[jr]=bt-pn):(C[jr]=pn,T[jr]=bt-pn)}this.adjustOddEvenCounts(a);let M=4*n.getValue()+(r?0:2)+(s?0:1)-1,b=0,B=0;for(let ut=p.length-1;ut>=0;ut--){if(K.isNotA1left(n,r,s)){let bt=K.WEIGHTS[M][2*ut];B+=p[ut]*bt}b+=p[ut]}let U=0;for(let ut=C.length-1;ut>=0;ut--)if(K.isNotA1left(n,r,s)){let bt=K.WEIGHTS[M][2*ut+1];U+=C[ut]*bt}let W=B+U;if((b&1)!=0||b>13||b<4)throw new Z;let ie=(13-b)/2,oe=K.SYMBOL_WIDEST[ie],J=9-oe,Qe=yn.getRSSvalue(p,oe,!0),ze=yn.getRSSvalue(C,J,!1),An=K.EVEN_TOTAL_SUBSET[ie],Zn=K.GSUM[ie],Gt=Qe*An+ze+Zn;return new Tr(Gt,W)}static isNotA1left(e,n,r){return!(e.getValue()==0&&n&&r)}adjustOddEvenCounts(e){let n=Je.sum(new Int32Array(this.getOddCounts())),r=Je.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;n>13?o=!0:n<4&&(s=!0);let a=!1,u=!1;r>13?u=!0:r<4&&(a=!0);let f=n+r-e,p=(n&1)==1,C=(r&1)==0;if(f==1)if(p){if(C)throw new Z;o=!0}else{if(!C)throw new Z;u=!0}else if(f==-1)if(p){if(C)throw new Z;s=!0}else{if(!C)throw new Z;a=!0}else if(f==0){if(p){if(!C)throw new Z;n<r?(s=!0,u=!0):(o=!0,a=!0)}else if(C)throw new Z}else throw new Z;if(s){if(o)throw new Z;K.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&K.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(u)throw new Z;K.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&K.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}K.SYMBOL_WIDEST=[7,5,4,3,1],K.EVEN_TOTAL_SUBSET=[4,20,52,104,204],K.GSUM=[0,348,1388,2948,3988],K.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],K.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],K.FINDER_PAT_A=0,K.FINDER_PAT_B=1,K.FINDER_PAT_C=2,K.FINDER_PAT_D=3,K.FINDER_PAT_E=4,K.FINDER_PAT_F=5,K.FINDER_PATTERN_SEQUENCES=[[K.FINDER_PAT_A,K.FINDER_PAT_A],[K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B],[K.FINDER_PAT_A,K.FINDER_PAT_C,K.FINDER_PAT_B,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_C],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F]],K.MAX_PAIRS=11;class Oo extends Tr{constructor(e,n,r){super(e,n),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ct extends Jt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,r){const s=this.decodePair(n,!1,e,r);Ct.addOrTally(this.possibleLeftPairs,s),n.reverse();let o=this.decodePair(n,!0,e,r);Ct.addOrTally(this.possibleRightPairs,o),n.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&Ct.checkChecksum(a,u))return Ct.constructResult(a,u)}throw new Z}static addOrTally(e,n){if(n==null)return;let r=!1;for(let s of e)if(s.getValue()===n.getValue()){s.incrementCount(),r=!0;break}r||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let r=4537077*e.getValue()+n.getValue(),s=new String(r).toString(),o=new Ye;for(let p=13-s.length;p>0;p--)o.append("0");o.append(s);let a=0;for(let p=0;p<13;p++){let C=o.charAt(p).charCodeAt(0)-48;a+=(p&1)===0?3*C:C}a=10-a%10,a===10&&(a=0),o.append(a.toString());let u=e.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new De(o.toString(),null,0,[u[0],u[1],f[0],f[1]],ue.RSS_14,new Date().getTime())}static checkChecksum(e,n){let r=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(e,n,r,s){try{let o=this.findFinderPattern(e,n),a=this.parseFoundFinderPattern(e,r,n,o),u=s==null?null:s.get(We.NEED_RESULT_POINT_CALLBACK);if(u!=null){let C=(o[0]+o[1])/2;n&&(C=e.getSize()-1-C),u.foundPossibleResultPoint(new we(C,r))}let f=this.decodeDataCharacter(e,a,!0),p=this.decodeDataCharacter(e,a,!1);return new Oo(1597*f.getValue()+p.getValue(),f.getChecksumPortion()+4*p.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,n,r){let s=this.getDataCharacterCounters();for(let U=0;U<s.length;U++)s[U]=0;if(r)Dt.recordPatternInReverse(e,n.getStartEnd()[0],s);else{Dt.recordPattern(e,n.getStartEnd()[1]+1,s);for(let U=0,W=s.length-1;U<W;U++,W--){let ie=s[U];s[U]=s[W],s[W]=ie}}let o=r?16:15,a=Je.sum(new Int32Array(s))/o,u=this.getOddCounts(),f=this.getEvenCounts(),p=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let U=0;U<s.length;U++){let W=s[U]/a,ie=Math.floor(W+.5);ie<1?ie=1:ie>8&&(ie=8);let oe=Math.floor(U/2);(U&1)===0?(u[oe]=ie,p[oe]=W-ie):(f[oe]=ie,C[oe]=W-ie)}this.adjustOddEvenCounts(r,o);let S=0,T=0;for(let U=u.length-1;U>=0;U--)T*=9,T+=u[U],S+=u[U];let M=0,b=0;for(let U=f.length-1;U>=0;U--)M*=9,M+=f[U],b+=f[U];let B=T+3*M;if(r){if((S&1)!==0||S>12||S<4)throw new Z;let U=(12-S)/2,W=Ct.OUTSIDE_ODD_WIDEST[U],ie=9-W,oe=yn.getRSSvalue(u,W,!1),J=yn.getRSSvalue(f,ie,!0),Qe=Ct.OUTSIDE_EVEN_TOTAL_SUBSET[U],ze=Ct.OUTSIDE_GSUM[U];return new Tr(oe*Qe+J+ze,B)}else{if((b&1)!==0||b>10||b<4)throw new Z;let U=(10-b)/2,W=Ct.INSIDE_ODD_WIDEST[U],ie=9-W,oe=yn.getRSSvalue(u,W,!0),J=yn.getRSSvalue(f,ie,!1),Qe=Ct.INSIDE_ODD_TOTAL_SUBSET[U],ze=Ct.INSIDE_GSUM[U];return new Tr(J*Qe+oe+ze,B)}}findFinderPattern(e,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),o=!1,a=0;for(;a<s&&(o=!e.get(a),n!==o);)a++;let u=0,f=a;for(let p=a;p<s;p++)if(e.get(p)!==o)r[u]++;else{if(u===3){if(Jt.isFinderPattern(r))return[f,p];f+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,o=!o}throw new Z}parseFoundFinderPattern(e,n,r,s){let o=e.get(s[0]),a=s[0]-1;for(;a>=0&&o!==e.get(a);)a--;a++;const u=s[0]-a,f=this.getDecodeFinderCounters(),p=new Int32Array(f.length);te.arraycopy(f,0,p,1,f.length-1),p[0]=u;const C=this.parseFinderValue(p,Ct.FINDER_PATTERNS);let S=a,T=s[1];return r&&(S=e.getSize()-1-S,T=e.getSize()-1-T),new Di(C,[a,s[1]],S,T,n)}adjustOddEvenCounts(e,n){let r=Je.sum(new Int32Array(this.getOddCounts())),s=Je.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1,u=!1,f=!1;e?(r>12?a=!0:r<4&&(o=!0),s>12?f=!0:s<4&&(u=!0)):(r>11?a=!0:r<5&&(o=!0),s>10?f=!0:s<4&&(u=!0));let p=r+s-n,C=(r&1)===(e?1:0),S=(s&1)===1;if(p===1)if(C){if(S)throw new Z;a=!0}else{if(!S)throw new Z;f=!0}else if(p===-1)if(C){if(S)throw new Z;o=!0}else{if(!S)throw new Z;u=!0}else if(p===0){if(C){if(!S)throw new Z;r<s?(o=!0,f=!0):(a=!0,u=!0)}else if(S)throw new Z}else throw new Z;if(o){if(a)throw new Z;Jt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&Jt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new Z;Jt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Jt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ct.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ct.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ct.OUTSIDE_GSUM=[0,161,961,2015,2715],Ct.INSIDE_GSUM=[0,336,1036,1516],Ct.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ct.INSIDE_ODD_WIDEST=[2,4,6,8],Ct.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ei extends Dt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const r=e?e.get(We.POSSIBLE_FORMATS):null,s=e&&e.get(We.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(ue.EAN_13)||r.includes(ue.UPC_A)||r.includes(ue.EAN_8)||r.includes(ue.UPC_E))&&this.readers.push(new ss(e)),r.includes(ue.CODE_39)&&this.readers.push(new Ht(s)),r.includes(ue.CODE_128)&&this.readers.push(new ce),r.includes(ue.ITF)&&this.readers.push(new lt),r.includes(ue.RSS_14)&&this.readers.push(new Ct),r.includes(ue.RSS_EXPANDED)&&this.readers.push(new K(this.verbose))):(this.readers.push(new ss(e)),this.readers.push(new Ht),this.readers.push(new ss(e)),this.readers.push(new ce),this.readers.push(new lt),this.readers.push(new Ct),this.readers.push(new K(this.verbose)))}decodeRow(e,n,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(e,n,r)}catch{}throw new Z}reset(){this.readers.forEach(e=>e.reset())}}class Ro extends Fe{constructor(e=500,n){super(new ei(n),e,n)}}class rt{constructor(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Xe{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class $e{constructor(e,n,r,s,o,a){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=a;let u=0;const f=a.getECCodewords(),p=a.getECBlocks();for(let C of p)u+=C.getCount()*(C.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if((e&1)!==0||(n&1)!==0)throw new ne;for(let r of $e.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===n)return r;throw new ne}toString(){return""+this.versionNumber}static buildVersions(){return[new $e(1,10,10,8,8,new rt(5,new Xe(1,3))),new $e(2,12,12,10,10,new rt(7,new Xe(1,5))),new $e(3,14,14,12,12,new rt(10,new Xe(1,8))),new $e(4,16,16,14,14,new rt(12,new Xe(1,12))),new $e(5,18,18,16,16,new rt(14,new Xe(1,18))),new $e(6,20,20,18,18,new rt(18,new Xe(1,22))),new $e(7,22,22,20,20,new rt(20,new Xe(1,30))),new $e(8,24,24,22,22,new rt(24,new Xe(1,36))),new $e(9,26,26,24,24,new rt(28,new Xe(1,44))),new $e(10,32,32,14,14,new rt(36,new Xe(1,62))),new $e(11,36,36,16,16,new rt(42,new Xe(1,86))),new $e(12,40,40,18,18,new rt(48,new Xe(1,114))),new $e(13,44,44,20,20,new rt(56,new Xe(1,144))),new $e(14,48,48,22,22,new rt(68,new Xe(1,174))),new $e(15,52,52,24,24,new rt(42,new Xe(2,102))),new $e(16,64,64,14,14,new rt(56,new Xe(2,140))),new $e(17,72,72,16,16,new rt(36,new Xe(4,92))),new $e(18,80,80,18,18,new rt(48,new Xe(4,114))),new $e(19,88,88,20,20,new rt(56,new Xe(4,144))),new $e(20,96,96,22,22,new rt(68,new Xe(4,174))),new $e(21,104,104,24,24,new rt(56,new Xe(6,136))),new $e(22,120,120,18,18,new rt(68,new Xe(6,175))),new $e(23,132,132,20,20,new rt(62,new Xe(8,163))),new $e(24,144,144,22,22,new rt(62,new Xe(8,156),new Xe(2,155))),new $e(25,8,18,6,16,new rt(7,new Xe(1,5))),new $e(26,8,32,6,14,new rt(11,new Xe(1,10))),new $e(27,12,26,10,24,new rt(14,new Xe(1,16))),new $e(28,12,36,10,16,new rt(18,new Xe(1,22))),new $e(29,16,36,14,16,new rt(24,new Xe(1,32))),new $e(30,16,48,14,22,new rt(28,new Xe(1,49)))]}}$e.VERSIONS=$e.buildVersions();class Nn{constructor(e){const n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new ne;this.version=Nn.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ct(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),r=e.getWidth();return $e.getVersionForDimensions(n,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,r=4,s=0;const o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let u=!1,f=!1,p=!1,C=!1;do if(r===o&&s===0&&!u)e[n++]=this.readCorner1(o,a)&255,r-=2,s+=2,u=!0;else if(r===o-2&&s===0&&(a&3)!==0&&!f)e[n++]=this.readCorner2(o,a)&255,r-=2,s+=2,f=!0;else if(r===o+4&&s===2&&(a&7)===0&&!p)e[n++]=this.readCorner3(o,a)&255,r-=2,s+=2,p=!0;else if(r===o-2&&s===0&&(a&7)===4&&!C)e[n++]=this.readCorner4(o,a)&255,r-=2,s+=2,C=!0;else{do r<o&&s>=0&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,a)&255),r-=2,s+=2;while(r>=0&&s<a);r+=1,s+=3;do r>=0&&s<a&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,a)&255),r+=2,s-=2;while(r<o&&s>=0);r+=3,s+=1}while(r<o||s<a);if(n!==this.version.getTotalCodewords())throw new ne;return e}readModule(e,n,r,s){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=s,e+=4-(s+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,r,s){let o=0;return this.readModule(e-2,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-2,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n,r,s)&&(o|=1),o<<=1,this.readModule(e,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e,n,r,s)&&(o|=1),o}readCorner1(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}readCorner2(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner3(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner4(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new D("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=n/s|0,u=r/o|0,f=a*s,p=u*o,C=new ct(p,f);for(let S=0;S<a;++S){const T=S*s;for(let M=0;M<u;++M){const b=M*o;for(let B=0;B<s;++B){const U=S*(s+2)+1+B,W=T+B;for(let ie=0;ie<o;++ie){const oe=M*(o+2)+1+ie;if(e.get(oe,U)){const J=b+ie;C.set(J,W)}}}}}return C}}class zs{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const r=n.getECBlocks();let s=0;const o=r.getECBlocks();for(let B of o)s+=B.getCount();const a=new Array(s);let u=0;for(let B of o)for(let U=0;U<B.getCount();U++){const W=B.getDataCodewords(),ie=r.getECCodewords()+W;a[u++]=new zs(W,new Uint8Array(ie))}const p=a[0].codewords.length-r.getECCodewords(),C=p-1;let S=0;for(let B=0;B<C;B++)for(let U=0;U<u;U++)a[U].codewords[B]=e[S++];const T=n.getVersionNumber()===24,M=T?8:u;for(let B=0;B<M;B++)a[B].codewords[p-1]=e[S++];const b=a[0].codewords.length;for(let B=p;B<b;B++)for(let U=0;U<u;U++){const W=T?(U+8)%u:U,ie=T&&W>7?B-1:B;a[W].codewords[ie]=e[S++]}if(S!==e.length)throw new D;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Hs{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new D(""+e);let n=0,r=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(r>0){const a=8-r,u=e<a?e:a,f=a-u,p=255>>8-u<<f;n=(o[s]&p)>>f,e-=u,r+=u,r===8&&(r=0,s++)}if(e>0){for(;e>=8;)n=n<<8|o[s]&255,s++,e-=8;if(e>0){const a=8-e,u=255>>a<<a;n=n<<e|(o[s]&u)>>a,r+=e}}return this.bitOffset=r,this.byteOffset=s,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Vt;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(Vt||(Vt={}));class Wn{static decode(e){const n=new Hs(e),r=new Ye,s=new Ye,o=new Array;let a=Vt.ASCII_ENCODE;do if(a===Vt.ASCII_ENCODE)a=this.decodeAsciiSegment(n,r,s);else{switch(a){case Vt.C40_ENCODE:this.decodeC40Segment(n,r);break;case Vt.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case Vt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case Vt.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case Vt.BASE256_ENCODE:this.decodeBase256Segment(n,r,o);break;default:throw new ne}a=Vt.ASCII_ENCODE}while(a!==Vt.PAD_ENCODE&&n.available()>0);return s.length()>0&&r.append(s.toString()),new dt(e,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,n,r){let s=!1;do{let o=e.readBits(8);if(o===0)throw new ne;if(o<=128)return s&&(o+=128),n.append(String.fromCharCode(o-1)),Vt.ASCII_ENCODE;if(o===129)return Vt.PAD_ENCODE;if(o<=229){const a=o-130;a<10&&n.append("0"),n.append(""+a)}else switch(o){case 230:return Vt.C40_ENCODE;case 231:return Vt.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return Vt.ANSIX12_ENCODE;case 239:return Vt.TEXT_ENCODE;case 240:return Vt.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new ne;break}}while(e.available()>0);return Vt.ASCII_ENCODE}static decodeC40Segment(e,n){let r=!1;const s=[];let o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),s);for(let u=0;u<3;u++){const f=s[u];switch(o){case 0:if(f<3)o=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[f];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else throw new ne;break;case 1:r?(n.append(String.fromCharCode(f+128)),r=!1):n.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[f];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else switch(f){case 27:n.append("");break;case 30:r=!0;break;default:throw new ne}o=0;break;case 3:r?(n.append(String.fromCharCode(f+224)),r=!1):n.append(String.fromCharCode(f+96)),o=0;break;default:throw new ne}}}while(e.available()>0)}static decodeTextSegment(e,n){let r=!1,s=[],o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),s);for(let u=0;u<3;u++){const f=s[u];switch(o){case 0:if(f<3)o=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[f];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else throw new ne;break;case 1:r?(n.append(String.fromCharCode(f+128)),r=!1):n.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[f];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else switch(f){case 27:n.append("");break;case 30:r=!0;break;default:throw new ne}o=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[f];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p),o=0}else throw new ne;break;default:throw new ne}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const r=[];do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),r);for(let o=0;o<3;o++){const a=r[o];switch(a){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(a<14)n.append(String.fromCharCode(a+44));else if(a<40)n.append(String.fromCharCode(a+51));else throw new ne;break}}}while(e.available()>0)}static parseTwoBytes(e,n,r){let s=(e<<8)+n-1,o=Math.floor(s/1600);r[0]=o,s-=o*1600,o=Math.floor(s/40),r[1]=o,r[2]=s-o*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let s=e.readBits(6);if(s===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(s&32)===0&&(s|=64),n.append(String.fromCharCode(s))}}while(e.available()>0)}static decodeBase256Segment(e,n,r){let s=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),s++);let a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),s++),a<0)throw new ne;const u=new Uint8Array(a);for(let f=0;f<a;f++){if(e.available()<8)throw new ne;u[f]=this.unrandomize255State(e.readBits(8),s++)}r.push(u);try{n.append(Bt.decode(u,Me.ISO88591))}catch(f){throw new jn("Platform does not support required encoding: "+f.message)}}static unrandomize255State(e,n){const r=149*n%255+1,s=e-r;return s>=0?s:s+256}}Wn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Wn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Wn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Wn.TEXT_SHIFT2_SET_CHARS=Wn.C40_SHIFT2_SET_CHARS,Wn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class os{constructor(){this.rsDecoder=new Kr(tt.DATA_MATRIX_FIELD_256)}decode(e){const n=new Nn(e),r=n.getVersion(),s=n.readCodewords(),o=zs.getDataBlocks(s,r);let a=0;for(let p of o)a+=p.getNumDataCodewords();const u=new Uint8Array(a),f=o.length;for(let p=0;p<f;p++){const C=o[p],S=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(S,T);for(let M=0;M<T;M++)u[M*f+p]=S[M]}return Wn.decode(u)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new he}for(let s=0;s<n;s++)e[s]=r[s]}}class Et{constructor(e){this.image=e,this.rectangleDetector=new tr(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new Z;n=this.shiftToModuleCenter(n);const r=n[0],s=n[1],o=n[2],a=n[3];let u=this.transitionsBetween(r,a)+1,f=this.transitionsBetween(o,a)+1;(u&1)===1&&(u+=1),(f&1)===1&&(f+=1),4*u<7*f&&4*f<7*u&&(u=f=Math.max(u,f));let p=Et.sampleGrid(this.image,r,s,o,a,u,f);return new qr(p,[r,s,o,a])}static shiftPoint(e,n,r){let s=(n.getX()-e.getX())/(r+1),o=(n.getY()-e.getY())/(r+1);return new we(e.getX()+s,e.getY()+o)}static moveAway(e,n,r){let s=e.getX(),o=e.getY();return s<n?s-=1:s+=1,o<r?o-=1:o+=1,new we(s,o)}detectSolid1(e){let n=e[0],r=e[1],s=e[3],o=e[2],a=this.transitionsBetween(n,r),u=this.transitionsBetween(r,s),f=this.transitionsBetween(s,o),p=this.transitionsBetween(o,n),C=a,S=[o,n,r,s];return C>u&&(C=u,S[0]=n,S[1]=r,S[2]=s,S[3]=o),C>f&&(C=f,S[0]=r,S[1]=s,S[2]=o,S[3]=n),C>p&&(S[0]=s,S[1]=o,S[2]=n,S[3]=r),S}detectSolid2(e){let n=e[0],r=e[1],s=e[2],o=e[3],a=this.transitionsBetween(n,o),u=Et.shiftPoint(r,s,(a+1)*4),f=Et.shiftPoint(s,r,(a+1)*4),p=this.transitionsBetween(u,n),C=this.transitionsBetween(f,o);return p<C?(e[0]=n,e[1]=r,e[2]=s,e[3]=o):(e[0]=r,e[1]=s,e[2]=o,e[3]=n),e}correctTopRight(e){let n=e[0],r=e[1],s=e[2],o=e[3],a=this.transitionsBetween(n,o),u=this.transitionsBetween(r,o),f=Et.shiftPoint(n,r,(u+1)*4),p=Et.shiftPoint(s,r,(a+1)*4);a=this.transitionsBetween(f,o),u=this.transitionsBetween(p,o);let C=new we(o.getX()+(s.getX()-r.getX())/(a+1),o.getY()+(s.getY()-r.getY())/(a+1)),S=new we(o.getX()+(n.getX()-r.getX())/(u+1),o.getY()+(n.getY()-r.getY())/(u+1));if(!this.isValid(C))return this.isValid(S)?S:null;if(!this.isValid(S))return C;let T=this.transitionsBetween(f,C)+this.transitionsBetween(p,C),M=this.transitionsBetween(f,S)+this.transitionsBetween(p,S);return T>M?C:S}shiftToModuleCenter(e){let n=e[0],r=e[1],s=e[2],o=e[3],a=this.transitionsBetween(n,o)+1,u=this.transitionsBetween(s,o)+1,f=Et.shiftPoint(n,r,u*4),p=Et.shiftPoint(s,r,a*4);a=this.transitionsBetween(f,o)+1,u=this.transitionsBetween(p,o)+1,(a&1)===1&&(a+=1),(u&1)===1&&(u+=1);let C=(n.getX()+r.getX()+s.getX()+o.getX())/4,S=(n.getY()+r.getY()+s.getY()+o.getY())/4;n=Et.moveAway(n,C,S),r=Et.moveAway(r,C,S),s=Et.moveAway(s,C,S),o=Et.moveAway(o,C,S);let T,M;return f=Et.shiftPoint(n,r,u*4),f=Et.shiftPoint(f,o,a*4),T=Et.shiftPoint(r,n,u*4),T=Et.shiftPoint(T,s,a*4),p=Et.shiftPoint(s,o,u*4),p=Et.shiftPoint(p,r,a*4),M=Et.shiftPoint(o,s,u*4),M=Et.shiftPoint(M,n,a*4),[f,T,p,M]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,r,s,o,a,u){return zn.getInstance().sampleGrid(e,a,u,.5,.5,a-.5,.5,a-.5,u-.5,.5,u-.5,n.getX(),n.getY(),o.getX(),o.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(e,n){let r=Math.trunc(e.getX()),s=Math.trunc(e.getY()),o=Math.trunc(n.getX()),a=Math.trunc(n.getY()),u=Math.abs(a-s)>Math.abs(o-r);if(u){let B=r;r=s,s=B,B=o,o=a,a=B}let f=Math.abs(o-r),p=Math.abs(a-s),C=-f/2,S=s<a?1:-1,T=r<o?1:-1,M=0,b=this.image.get(u?s:r,u?r:s);for(let B=r,U=s;B!==o;B+=T){let W=this.image.get(u?U:B,u?B:U);if(W!==b&&(M++,b=W),C+=p,C>0){if(U===a)break;U+=S,C-=f}}return M}}class Gn{constructor(){this.decoder=new os}decode(e,n=null){let r,s;if(n!=null&&n.has(We.PURE_BARCODE)){const p=Gn.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(p),s=Gn.NO_POINTS}else{const p=new Et(e.getBlackMatrix()).detect();r=this.decoder.decode(p.getBits()),s=p.getPoints()}const o=r.getRawBytes(),a=new De(r.getText(),o,8*o.length,s,ue.DATA_MATRIX,te.currentTimeMillis()),u=r.getByteSegments();u!=null&&a.putMetadata(Pe.BYTE_SEGMENTS,u);const f=r.getECLevel();return f!=null&&a.putMetadata(Pe.ERROR_CORRECTION_LEVEL,f),a}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new Z;const s=this.moduleSize(n,e);let o=n[1];const a=r[1];let u=n[0];const p=(r[0]-u+1)/s,C=(a-o+1)/s;if(p<=0||C<=0)throw new Z;const S=s/2;o+=S,u+=S;const T=new ct(p,C);for(let M=0;M<C;M++){const b=o+M*s;for(let B=0;B<p;B++)e.get(u+B*s,b)&&T.set(B,M)}return T}static moduleSize(e,n){const r=n.getWidth();let s=e[0];const o=e[1];for(;s<r&&n.get(s,o);)s++;if(s===r)throw new Z;const a=s-e[0];if(a===0)throw new Z;return a}}Gn.NO_POINTS=[];class Ua extends Fe{constructor(e=500){super(new Gn,e)}}var ti;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(ti||(ti={}));class gt{constructor(e,n,r){this.value=e,this.stringValue=n,this.bits=r,gt.FOR_BITS.set(r,this),gt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return gt.L;case"M":return gt.M;case"Q":return gt.Q;case"H":return gt.H;default:throw new P(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof gt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=gt.FOR_BITS.size)throw new D;return gt.FOR_BITS.get(e)}}gt.FOR_BITS=new Map,gt.FOR_VALUE=new Map,gt.L=new gt(ti.L,"L",1),gt.M=new gt(ti.M,"M",0),gt.Q=new gt(ti.Q,"Q",3),gt.H=new gt(ti.H,"H",2);class $t{constructor(e){this.errorCorrectionLevel=gt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return fe.bitCount(e^n)}static decodeFormatInformation(e,n){const r=$t.doDecodeFormatInformation(e,n);return r!==null?r:$t.doDecodeFormatInformation(e^$t.FORMAT_INFO_MASK_QR,n^$t.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let r=Number.MAX_SAFE_INTEGER,s=0;for(const o of $t.FORMAT_INFO_DECODE_LOOKUP){const a=o[0];if(a===e||a===n)return new $t(o[1]);let u=$t.numBitsDiffering(e,a);u<r&&(s=o[1],r=u),e!==n&&(u=$t.numBitsDiffering(n,a),u<r&&(s=o[1],r=u))}return r<=3?new $t(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof $t))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}$t.FORMAT_INFO_MASK_QR=21522,$t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class z{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const r of n)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _e{constructor(e,n,...r){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=r;let s=0;const o=r[0].getECCodewordsPerBlock(),a=r[0].getECBlocks();for(const u of a)s+=u.getCount()*(u.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new ne;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ne}}static getVersionForNumber(e){if(e<1||e>40)throw new D;return _e.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<_e.VERSION_DECODE_INFO.length;s++){const o=_e.VERSION_DECODE_INFO[s];if(o===e)return _e.getVersionForNumber(s+7);const a=$t.numBitsDiffering(e,o);a<n&&(r=s+7,n=a)}return n<=3?_e.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new ct(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const o=this.alignmentPatternCenters[s]-2;for(let a=0;a<r;a++)s===0&&(a===0||a===r-1)||s===r-1&&a===0||n.setRegion(this.alignmentPatternCenters[a]-2,o,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}_e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_e.VERSIONS=[new _e(1,new Int32Array(0),new z(7,new _(1,19)),new z(10,new _(1,16)),new z(13,new _(1,13)),new z(17,new _(1,9))),new _e(2,Int32Array.from([6,18]),new z(10,new _(1,34)),new z(16,new _(1,28)),new z(22,new _(1,22)),new z(28,new _(1,16))),new _e(3,Int32Array.from([6,22]),new z(15,new _(1,55)),new z(26,new _(1,44)),new z(18,new _(2,17)),new z(22,new _(2,13))),new _e(4,Int32Array.from([6,26]),new z(20,new _(1,80)),new z(18,new _(2,32)),new z(26,new _(2,24)),new z(16,new _(4,9))),new _e(5,Int32Array.from([6,30]),new z(26,new _(1,108)),new z(24,new _(2,43)),new z(18,new _(2,15),new _(2,16)),new z(22,new _(2,11),new _(2,12))),new _e(6,Int32Array.from([6,34]),new z(18,new _(2,68)),new z(16,new _(4,27)),new z(24,new _(4,19)),new z(28,new _(4,15))),new _e(7,Int32Array.from([6,22,38]),new z(20,new _(2,78)),new z(18,new _(4,31)),new z(18,new _(2,14),new _(4,15)),new z(26,new _(4,13),new _(1,14))),new _e(8,Int32Array.from([6,24,42]),new z(24,new _(2,97)),new z(22,new _(2,38),new _(2,39)),new z(22,new _(4,18),new _(2,19)),new z(26,new _(4,14),new _(2,15))),new _e(9,Int32Array.from([6,26,46]),new z(30,new _(2,116)),new z(22,new _(3,36),new _(2,37)),new z(20,new _(4,16),new _(4,17)),new z(24,new _(4,12),new _(4,13))),new _e(10,Int32Array.from([6,28,50]),new z(18,new _(2,68),new _(2,69)),new z(26,new _(4,43),new _(1,44)),new z(24,new _(6,19),new _(2,20)),new z(28,new _(6,15),new _(2,16))),new _e(11,Int32Array.from([6,30,54]),new z(20,new _(4,81)),new z(30,new _(1,50),new _(4,51)),new z(28,new _(4,22),new _(4,23)),new z(24,new _(3,12),new _(8,13))),new _e(12,Int32Array.from([6,32,58]),new z(24,new _(2,92),new _(2,93)),new z(22,new _(6,36),new _(2,37)),new z(26,new _(4,20),new _(6,21)),new z(28,new _(7,14),new _(4,15))),new _e(13,Int32Array.from([6,34,62]),new z(26,new _(4,107)),new z(22,new _(8,37),new _(1,38)),new z(24,new _(8,20),new _(4,21)),new z(22,new _(12,11),new _(4,12))),new _e(14,Int32Array.from([6,26,46,66]),new z(30,new _(3,115),new _(1,116)),new z(24,new _(4,40),new _(5,41)),new z(20,new _(11,16),new _(5,17)),new z(24,new _(11,12),new _(5,13))),new _e(15,Int32Array.from([6,26,48,70]),new z(22,new _(5,87),new _(1,88)),new z(24,new _(5,41),new _(5,42)),new z(30,new _(5,24),new _(7,25)),new z(24,new _(11,12),new _(7,13))),new _e(16,Int32Array.from([6,26,50,74]),new z(24,new _(5,98),new _(1,99)),new z(28,new _(7,45),new _(3,46)),new z(24,new _(15,19),new _(2,20)),new z(30,new _(3,15),new _(13,16))),new _e(17,Int32Array.from([6,30,54,78]),new z(28,new _(1,107),new _(5,108)),new z(28,new _(10,46),new _(1,47)),new z(28,new _(1,22),new _(15,23)),new z(28,new _(2,14),new _(17,15))),new _e(18,Int32Array.from([6,30,56,82]),new z(30,new _(5,120),new _(1,121)),new z(26,new _(9,43),new _(4,44)),new z(28,new _(17,22),new _(1,23)),new z(28,new _(2,14),new _(19,15))),new _e(19,Int32Array.from([6,30,58,86]),new z(28,new _(3,113),new _(4,114)),new z(26,new _(3,44),new _(11,45)),new z(26,new _(17,21),new _(4,22)),new z(26,new _(9,13),new _(16,14))),new _e(20,Int32Array.from([6,34,62,90]),new z(28,new _(3,107),new _(5,108)),new z(26,new _(3,41),new _(13,42)),new z(30,new _(15,24),new _(5,25)),new z(28,new _(15,15),new _(10,16))),new _e(21,Int32Array.from([6,28,50,72,94]),new z(28,new _(4,116),new _(4,117)),new z(26,new _(17,42)),new z(28,new _(17,22),new _(6,23)),new z(30,new _(19,16),new _(6,17))),new _e(22,Int32Array.from([6,26,50,74,98]),new z(28,new _(2,111),new _(7,112)),new z(28,new _(17,46)),new z(30,new _(7,24),new _(16,25)),new z(24,new _(34,13))),new _e(23,Int32Array.from([6,30,54,78,102]),new z(30,new _(4,121),new _(5,122)),new z(28,new _(4,47),new _(14,48)),new z(30,new _(11,24),new _(14,25)),new z(30,new _(16,15),new _(14,16))),new _e(24,Int32Array.from([6,28,54,80,106]),new z(30,new _(6,117),new _(4,118)),new z(28,new _(6,45),new _(14,46)),new z(30,new _(11,24),new _(16,25)),new z(30,new _(30,16),new _(2,17))),new _e(25,Int32Array.from([6,32,58,84,110]),new z(26,new _(8,106),new _(4,107)),new z(28,new _(8,47),new _(13,48)),new z(30,new _(7,24),new _(22,25)),new z(30,new _(22,15),new _(13,16))),new _e(26,Int32Array.from([6,30,58,86,114]),new z(28,new _(10,114),new _(2,115)),new z(28,new _(19,46),new _(4,47)),new z(28,new _(28,22),new _(6,23)),new z(30,new _(33,16),new _(4,17))),new _e(27,Int32Array.from([6,34,62,90,118]),new z(30,new _(8,122),new _(4,123)),new z(28,new _(22,45),new _(3,46)),new z(30,new _(8,23),new _(26,24)),new z(30,new _(12,15),new _(28,16))),new _e(28,Int32Array.from([6,26,50,74,98,122]),new z(30,new _(3,117),new _(10,118)),new z(28,new _(3,45),new _(23,46)),new z(30,new _(4,24),new _(31,25)),new z(30,new _(11,15),new _(31,16))),new _e(29,Int32Array.from([6,30,54,78,102,126]),new z(30,new _(7,116),new _(7,117)),new z(28,new _(21,45),new _(7,46)),new z(30,new _(1,23),new _(37,24)),new z(30,new _(19,15),new _(26,16))),new _e(30,Int32Array.from([6,26,52,78,104,130]),new z(30,new _(5,115),new _(10,116)),new z(28,new _(19,47),new _(10,48)),new z(30,new _(15,24),new _(25,25)),new z(30,new _(23,15),new _(25,16))),new _e(31,Int32Array.from([6,30,56,82,108,134]),new z(30,new _(13,115),new _(3,116)),new z(28,new _(2,46),new _(29,47)),new z(30,new _(42,24),new _(1,25)),new z(30,new _(23,15),new _(28,16))),new _e(32,Int32Array.from([6,34,60,86,112,138]),new z(30,new _(17,115)),new z(28,new _(10,46),new _(23,47)),new z(30,new _(10,24),new _(35,25)),new z(30,new _(19,15),new _(35,16))),new _e(33,Int32Array.from([6,30,58,86,114,142]),new z(30,new _(17,115),new _(1,116)),new z(28,new _(14,46),new _(21,47)),new z(30,new _(29,24),new _(19,25)),new z(30,new _(11,15),new _(46,16))),new _e(34,Int32Array.from([6,34,62,90,118,146]),new z(30,new _(13,115),new _(6,116)),new z(28,new _(14,46),new _(23,47)),new z(30,new _(44,24),new _(7,25)),new z(30,new _(59,16),new _(1,17))),new _e(35,Int32Array.from([6,30,54,78,102,126,150]),new z(30,new _(12,121),new _(7,122)),new z(28,new _(12,47),new _(26,48)),new z(30,new _(39,24),new _(14,25)),new z(30,new _(22,15),new _(41,16))),new _e(36,Int32Array.from([6,24,50,76,102,128,154]),new z(30,new _(6,121),new _(14,122)),new z(28,new _(6,47),new _(34,48)),new z(30,new _(46,24),new _(10,25)),new z(30,new _(2,15),new _(64,16))),new _e(37,Int32Array.from([6,28,54,80,106,132,158]),new z(30,new _(17,122),new _(4,123)),new z(28,new _(29,46),new _(14,47)),new z(30,new _(49,24),new _(10,25)),new z(30,new _(24,15),new _(46,16))),new _e(38,Int32Array.from([6,32,58,84,110,136,162]),new z(30,new _(4,122),new _(18,123)),new z(28,new _(13,46),new _(32,47)),new z(30,new _(48,24),new _(14,25)),new z(30,new _(42,15),new _(32,16))),new _e(39,Int32Array.from([6,26,54,82,110,138,166]),new z(30,new _(20,117),new _(4,118)),new z(28,new _(40,47),new _(7,48)),new z(30,new _(43,24),new _(22,25)),new z(30,new _(10,15),new _(67,16))),new _e(40,Int32Array.from([6,30,58,86,114,142,170]),new z(30,new _(19,118),new _(6,119)),new z(28,new _(18,47),new _(31,48)),new z(30,new _(34,24),new _(34,25)),new z(30,new _(20,15),new _(61,16)))];var Pt;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(Pt||(Pt={}));class Ze{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let r=0;r<n;r++)for(let s=0;s<n;s++)this.isMasked(r,s)&&e.flip(s,r)}}Ze.values=new Map([[Pt.DATA_MASK_000,new Ze(Pt.DATA_MASK_000,(A,e)=>(A+e&1)===0)],[Pt.DATA_MASK_001,new Ze(Pt.DATA_MASK_001,(A,e)=>(A&1)===0)],[Pt.DATA_MASK_010,new Ze(Pt.DATA_MASK_010,(A,e)=>e%3===0)],[Pt.DATA_MASK_011,new Ze(Pt.DATA_MASK_011,(A,e)=>(A+e)%3===0)],[Pt.DATA_MASK_100,new Ze(Pt.DATA_MASK_100,(A,e)=>(Math.floor(A/2)+Math.floor(e/3)&1)===0)],[Pt.DATA_MASK_101,new Ze(Pt.DATA_MASK_101,(A,e)=>A*e%6===0)],[Pt.DATA_MASK_110,new Ze(Pt.DATA_MASK_110,(A,e)=>A*e%6<3)],[Pt.DATA_MASK_111,new Ze(Pt.DATA_MASK_111,(A,e)=>(A+e+A*e%3&1)===0)]]);class Do{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new ne;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const n=this.bitMatrix.getHeight();let r=0;const s=n-7;for(let o=n-1;o>=s;o--)r=this.copyBit(8,o,r);for(let o=n-8;o<n;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=$t.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ne}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return _e.getVersionForNumber(n);let r=0;const s=e-11;for(let a=5;a>=0;a--)for(let u=e-9;u>=s;u--)r=this.copyBit(u,a,r);let o=_e.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(let a=5;a>=0;a--)for(let u=e-9;u>=s;u--)r=this.copyBit(a,u,r);if(o=_e.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new ne}copyBit(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),r=Ze.values.get(e.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const o=n.buildFunctionPattern();let a=!0;const u=new Uint8Array(n.getTotalCodewords());let f=0,p=0,C=0;for(let S=s-1;S>0;S-=2){S===6&&S--;for(let T=0;T<s;T++){const M=a?s-1-T:T;for(let b=0;b<2;b++)o.get(S-b,M)||(C++,p<<=1,this.bitMatrix.get(S-b,M)&&(p|=1),C===8&&(u[f++]=p,C=0,p=0))}a=!a}if(f!==n.getTotalCodewords())throw new ne;return u}remask(){if(this.parsedFormatInfo===null)return;const e=Ze.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,r=e.getWidth();n<r;n++)for(let s=n+1,o=e.getHeight();s<o;s++)e.get(n,s)!==e.get(s,n)&&(e.flip(s,n),e.flip(n,s))}}class as{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,r){if(e.length!==n.getTotalCodewords())throw new D;const s=n.getECBlocksForLevel(r);let o=0;const a=s.getECBlocks();for(const b of a)o+=b.getCount();const u=new Array(o);let f=0;for(const b of a)for(let B=0;B<b.getCount();B++){const U=b.getDataCodewords(),W=s.getECCodewordsPerBlock()+U;u[f++]=new as(U,new Uint8Array(W))}const p=u[0].codewords.length;let C=u.length-1;for(;C>=0&&u[C].codewords.length!==p;)C--;C++;const S=p-s.getECCodewordsPerBlock();let T=0;for(let b=0;b<S;b++)for(let B=0;B<f;B++)u[B].codewords[b]=e[T++];for(let b=C;b<f;b++)u[b].codewords[S]=e[T++];const M=u[0].codewords.length;for(let b=S;b<M;b++)for(let B=0;B<f;B++){const U=B<C?b:b+1;u[B].codewords[U]=e[T++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var En;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(En||(En={}));class Oe{constructor(e,n,r,s){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=s,Oe.FOR_BITS.set(s,this),Oe.FOR_VALUE.set(e,this)}static forBits(e){const n=Oe.FOR_BITS.get(e);if(n===void 0)throw new D;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Oe))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}Oe.FOR_BITS=new Map,Oe.FOR_VALUE=new Map,Oe.TERMINATOR=new Oe(En.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Oe.NUMERIC=new Oe(En.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Oe.ALPHANUMERIC=new Oe(En.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Oe.STRUCTURED_APPEND=new Oe(En.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Oe.BYTE=new Oe(En.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Oe.ECI=new Oe(En.ECI,"ECI",Int32Array.from([0,0,0]),7),Oe.KANJI=new Oe(En.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Oe.FNC1_FIRST_POSITION=new Oe(En.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Oe.FNC1_SECOND_POSITION=new Oe(En.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Oe.HANZI=new Oe(En.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class It{static decode(e,n,r,s){const o=new Hs(e);let a=new Ye;const u=new Array;let f=-1,p=-1;try{let C=null,S=!1,T;do{if(o.available()<4)T=Oe.TERMINATOR;else{const M=o.readBits(4);T=Oe.forBits(M)}switch(T){case Oe.TERMINATOR:break;case Oe.FNC1_FIRST_POSITION:case Oe.FNC1_SECOND_POSITION:S=!0;break;case Oe.STRUCTURED_APPEND:if(o.available()<16)throw new ne;f=o.readBits(8),p=o.readBits(8);break;case Oe.ECI:const M=It.parseECIValue(o);if(C=se.getCharacterSetECIByValue(M),C===null)throw new ne;break;case Oe.HANZI:const b=o.readBits(4),B=o.readBits(T.getCharacterCountBits(n));b===It.GB2312_SUBSET&&It.decodeHanziSegment(o,a,B);break;default:const U=o.readBits(T.getCharacterCountBits(n));switch(T){case Oe.NUMERIC:It.decodeNumericSegment(o,a,U);break;case Oe.ALPHANUMERIC:It.decodeAlphanumericSegment(o,a,U,S);break;case Oe.BYTE:It.decodeByteSegment(o,a,U,C,u,s);break;case Oe.KANJI:It.decodeKanjiSegment(o,a,U);break;default:throw new ne}break}}while(T!==Oe.TERMINATOR)}catch{throw new ne}return new dt(e,a.toString(),u.length===0?null:u,r===null?null:r.toString(),f,p)}static decodeHanziSegment(e,n,r){if(r*13>e.available())throw new ne;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const a=e.readBits(13);let u=a/96<<8&4294967295|a%96;u<959?u+=41377:u+=42657,s[o]=u>>8&255,s[o+1]=u&255,o+=2,r--}try{n.append(Bt.decode(s,Me.GB2312))}catch(a){throw new ne(a)}}static decodeKanjiSegment(e,n,r){if(r*13>e.available())throw new ne;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const a=e.readBits(13);let u=a/192<<8&4294967295|a%192;u<7936?u+=33088:u+=49472,s[o]=u>>8,s[o+1]=u,o+=2,r--}try{n.append(Bt.decode(s,Me.SHIFT_JIS))}catch(a){throw new ne(a)}}static decodeByteSegment(e,n,r,s,o,a){if(8*r>e.available())throw new ne;const u=new Uint8Array(r);for(let p=0;p<r;p++)u[p]=e.readBits(8);let f;s===null?f=Me.guessEncoding(u,a):f=s.getName();try{n.append(Bt.decode(u,f))}catch(p){throw new ne(p)}o.push(u)}static toAlphaNumericChar(e){if(e>=It.ALPHANUMERIC_CHARS.length)throw new ne;return It.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,r,s){const o=n.length();for(;r>1;){if(e.available()<11)throw new ne;const a=e.readBits(11);n.append(It.toAlphaNumericChar(Math.floor(a/45))),n.append(It.toAlphaNumericChar(a%45)),r-=2}if(r===1){if(e.available()<6)throw new ne;n.append(It.toAlphaNumericChar(e.readBits(6)))}if(s)for(let a=o;a<n.length();a++)n.charAt(a)==="%"&&(a<n.length()-1&&n.charAt(a+1)==="%"?n.deleteCharAt(a+1):n.setCharAt(a,""))}static decodeNumericSegment(e,n,r){for(;r>=3;){if(e.available()<10)throw new ne;const s=e.readBits(10);if(s>=1e3)throw new ne;n.append(It.toAlphaNumericChar(Math.floor(s/100))),n.append(It.toAlphaNumericChar(Math.floor(s/10)%10)),n.append(It.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(e.available()<7)throw new ne;const s=e.readBits(7);if(s>=100)throw new ne;n.append(It.toAlphaNumericChar(Math.floor(s/10))),n.append(It.toAlphaNumericChar(s%10))}else if(r===1){if(e.available()<4)throw new ne;const s=e.readBits(4);if(s>=10)throw new ne;n.append(It.toAlphaNumericChar(s))}}static parseECIValue(e){const n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){const r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){const r=e.readBits(16);return(n&31)<<16&4294967295|r}throw new ne}}It.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",It.GB2312_SUBSET=1;class Vs{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Ws{constructor(){this.rsDecoder=new Kr(tt.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(ct.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const r=new Do(e);let s=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){s=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,n);return o.setOther(new Vs(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(e,n){const r=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),a=as.getDataBlocks(o,r,s);let u=0;for(const C of a)u+=C.getNumDataCodewords();const f=new Uint8Array(u);let p=0;for(const C of a){const S=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(S,T);for(let M=0;M<T;M++)f[p++]=S[M]}return It.decode(f,r,s,n)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new he}for(let s=0;s<n;s++)e[s]=r[s]}}class ni extends we{constructor(e,n,r){super(e,n),this.estimatedModuleSize=r}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=(this.getX()+n)/2,o=(this.getY()+e)/2,a=(this.estimatedModuleSize+r)/2;return new ni(s,o,a)}}class Yn{constructor(e,n,r,s,o,a,u){this.image=e,this.startX=n,this.startY=r,this.width=s,this.height=o,this.moduleSize=a,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,r=this.width,s=e+r,o=this.startY+n/2,a=new Int32Array(3),u=this.image;for(let f=0;f<n;f++){const p=o+((f&1)===0?Math.floor((f+1)/2):-Math.floor((f+1)/2));a[0]=0,a[1]=0,a[2]=0;let C=e;for(;C<s&&!u.get(C,p);)C++;let S=0;for(;C<s;){if(u.get(C,p))if(S===1)a[1]++;else if(S===2){if(this.foundPatternCross(a)){const T=this.handlePossibleCenter(a,p,C);if(T!==null)return T}a[0]=a[2],a[1]=1,a[2]=0,S=1}else a[++S]++;else S===1&&S++,a[S]++;C++}if(this.foundPatternCross(a)){const T=this.handlePossibleCenter(a,p,s);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Z}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,r=n/2;for(let s=0;s<3;s++)if(Math.abs(n-e[s])>=r)return!1;return!0}crossCheckVertical(e,n,r,s){const o=this.image,a=o.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let f=e;for(;f>=0&&o.get(n,f)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&!o.get(n,f)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<a&&o.get(n,f)&&u[1]<=r;)u[1]++,f++;if(f===a||u[1]>r)return NaN;for(;f<a&&!o.get(n,f)&&u[2]<=r;)u[2]++,f++;if(u[2]>r)return NaN;const p=u[0]+u[1]+u[2];return 5*Math.abs(p-s)>=2*s?NaN:this.foundPatternCross(u)?Yn.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,r){const s=e[0]+e[1]+e[2],o=Yn.centerFromEnd(e,r),a=this.crossCheckVertical(n,o,2*e[1],s);if(!isNaN(a)){const u=(e[0]+e[1]+e[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(u,a,o))return p.combineEstimate(a,o,u);const f=new ni(o,a,u);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null}}class ir extends we{constructor(e,n,r,s){super(e,n),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=this.count+1,o=(this.count*this.getX()+n)/s,a=(this.count*this.getY()+e)/s,u=(this.count*this.estimatedModuleSize+r)/s;return new ir(o,a,u,s)}}class Nr{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ot{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(We.TRY_HARDER)!==void 0,r=e!=null&&e.get(We.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),a=s.getWidth();let u=Math.floor(3*o/(4*Ot.MAX_MODULES));(u<Ot.MIN_SKIP||n)&&(u=Ot.MIN_SKIP);let f=!1;const p=new Int32Array(5);for(let S=u-1;S<o&&!f;S+=u){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let T=0;for(let M=0;M<a;M++)if(s.get(M,S))(T&1)===1&&T++,p[T]++;else if((T&1)===0)if(T===4)if(Ot.foundPatternCross(p)){if(this.handlePossibleCenter(p,S,M,r)===!0)if(u=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{const B=this.findRowSkip();B>p[2]&&(S+=B-p[2]-u,M=a-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,T=3;continue}T=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,T=3;else p[++T]++;else p[T]++;Ot.foundPatternCross(p)&&this.handlePossibleCenter(p,S,a,r)===!0&&(u=p[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return we.orderBestPatterns(C),new Nr(C)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let o=0;o<5;o++){const a=e[o];if(a===0)return!1;n+=a}if(n<7)return!1;const r=n/7,s=r/2;return Math.abs(r-e[0])<s&&Math.abs(r-e[1])<s&&Math.abs(3*r-e[2])<3*s&&Math.abs(r-e[3])<s&&Math.abs(r-e[4])<s}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,r,s){const o=this.getCrossCheckStateCount();let a=0;const u=this.image;for(;e>=a&&n>=a&&u.get(n-a,e-a);)o[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!u.get(n-a,e-a)&&o[1]<=r;)o[1]++,a++;if(e<a||n<a||o[1]>r)return!1;for(;e>=a&&n>=a&&u.get(n-a,e-a)&&o[0]<=r;)o[0]++,a++;if(o[0]>r)return!1;const f=u.getHeight(),p=u.getWidth();for(a=1;e+a<f&&n+a<p&&u.get(n+a,e+a);)o[2]++,a++;if(e+a>=f||n+a>=p)return!1;for(;e+a<f&&n+a<p&&!u.get(n+a,e+a)&&o[3]<r;)o[3]++,a++;if(e+a>=f||n+a>=p||o[3]>=r)return!1;for(;e+a<f&&n+a<p&&u.get(n+a,e+a)&&o[4]<r;)o[4]++,a++;if(o[4]>=r)return!1;const C=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(C-s)<2*s&&Ot.foundPatternCross(o)}crossCheckVertical(e,n,r,s){const o=this.image,a=o.getHeight(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&o.get(n,f);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(n,f)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&o.get(n,f)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<a&&o.get(n,f);)u[2]++,f++;if(f===a)return NaN;for(;f<a&&!o.get(n,f)&&u[3]<r;)u[3]++,f++;if(f===a||u[3]>=r)return NaN;for(;f<a&&o.get(n,f)&&u[4]<r;)u[4]++,f++;if(u[4]>=r)return NaN;const p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-s)>=2*s?NaN:Ot.foundPatternCross(u)?Ot.centerFromEnd(u,f):NaN}crossCheckHorizontal(e,n,r,s){const o=this.image,a=o.getWidth(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&o.get(f,n);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(f,n)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&o.get(f,n)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<a&&o.get(f,n);)u[2]++,f++;if(f===a)return NaN;for(;f<a&&!o.get(f,n)&&u[3]<r;)u[3]++,f++;if(f===a||u[3]>=r)return NaN;for(;f<a&&o.get(f,n)&&u[4]<r;)u[4]++,f++;if(u[4]>=r)return NaN;const p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-s)>=s?NaN:Ot.foundPatternCross(u)?Ot.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,r,s){const o=e[0]+e[1]+e[2]+e[3]+e[4];let a=Ot.centerFromEnd(e,r),u=this.crossCheckVertical(n,Math.floor(a),e[2],o);if(!isNaN(u)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(u),e[2],o),!isNaN(a)&&(!s||this.crossCheckDiagonal(Math.floor(u),Math.floor(a),e[2],o)))){const f=o/7;let p=!1;const C=this.possibleCenters;for(let S=0,T=C.length;S<T;S++){const M=C[S];if(M.aboutEquals(f,u,a)){C[S]=M.combineEstimate(u,a,f),p=!0;break}}if(!p){const S=new ir(a,u,f);C.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const r of this.possibleCenters)if(r.getCount()>=Ot.CENTER_QUORUM)if(n==null)n=r;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-r.getX())-Math.abs(n.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const r=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=Ot.CENTER_QUORUM&&(e++,n+=a.getEstimatedModuleSize());if(e<3)return!1;const s=n/r;let o=0;for(const a of this.possibleCenters)o+=Math.abs(a.getEstimatedModuleSize()-s);return o<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new Z;const n=this.possibleCenters;let r;if(e>3){let s=0,o=0;for(const f of this.possibleCenters){const p=f.getEstimatedModuleSize();s+=p,o+=p*p}r=s/e;let a=Math.sqrt(o/e-r*r);n.sort((f,p)=>{const C=Math.abs(p.getEstimatedModuleSize()-r),S=Math.abs(f.getEstimatedModuleSize()-r);return C<S?-1:C>S?1:0});const u=Math.max(.2*r,a);for(let f=0;f<n.length&&n.length>3;f++){const p=n[f];Math.abs(p.getEstimatedModuleSize()-r)>u&&(n.splice(f,1),f--)}}if(n.length>3){let s=0;for(const o of n)s+=o.getEstimatedModuleSize();r=s/n.length,n.sort((o,a)=>{if(a.getCount()===o.getCount()){const u=Math.abs(a.getEstimatedModuleSize()-r),f=Math.abs(o.getEstimatedModuleSize()-r);return u<f?1:u>f?-1:0}else return a.getCount()-o.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}Ot.CENTER_QUORUM=2,Ot.MIN_SKIP=3,Ot.MAX_MODULES=57;class hr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(We.NEED_RESULT_POINT_CALLBACK);const r=new Ot(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const n=e.getTopLeft(),r=e.getTopRight(),s=e.getBottomLeft(),o=this.calculateModuleSize(n,r,s);if(o<1)throw new Z("No pattern found in proccess finder.");const a=hr.computeDimension(n,r,s,o),u=_e.getProvisionalVersionForDimension(a),f=u.getDimensionForVersion()-7;let p=null;if(u.getAlignmentPatternCenters().length>0){const M=r.getX()-n.getX()+s.getX(),b=r.getY()-n.getY()+s.getY(),B=1-3/f,U=Math.floor(n.getX()+B*(M-n.getX())),W=Math.floor(n.getY()+B*(b-n.getY()));for(let ie=4;ie<=16;ie<<=1)try{p=this.findAlignmentInRegion(o,U,W,ie);break}catch(oe){if(!(oe instanceof Z))throw oe}}const C=hr.createTransform(n,r,s,p,a),S=hr.sampleGrid(this.image,C,a);let T;return p===null?T=[s,n,r]:T=[s,n,r,p],new qr(S,T)}static createTransform(e,n,r,s,o){const a=o-3.5;let u,f,p,C;return s!==null?(u=s.getX(),f=s.getY(),p=a-3,C=p):(u=n.getX()-e.getX()+r.getX(),f=n.getY()-e.getY()+r.getY(),p=a,C=a),On.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,p,C,3.5,a,e.getX(),e.getY(),n.getX(),n.getY(),u,f,r.getX(),r.getY())}static sampleGrid(e,n,r){return zn.getInstance().sampleGridWithTransform(e,r,r,n)}static computeDimension(e,n,r,s){const o=Je.round(we.distance(e,n)/s),a=Je.round(we.distance(e,r)/s);let u=Math.floor((o+a)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new Z("Dimensions could be not found.")}return u}calculateModuleSize(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,n){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,r,s){let o=this.sizeOfBlackWhiteBlackRun(e,n,r,s),a=1,u=e-(r-e);u<0?(a=e/(e-u),u=0):u>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);let f=Math.floor(n-(s-n)*a);return a=1,f<0?(a=n/(n-f),f=0):f>=this.image.getHeight()&&(a=(this.image.getHeight()-1-n)/(f-n),f=this.image.getHeight()-1),u=Math.floor(e+(u-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,n,u,f),o-1}sizeOfBlackWhiteBlackRun(e,n,r,s){const o=Math.abs(s-n)>Math.abs(r-e);if(o){let M=e;e=n,n=M,M=r,r=s,s=M}const a=Math.abs(r-e),u=Math.abs(s-n);let f=-a/2;const p=e<r?1:-1,C=n<s?1:-1;let S=0;const T=r+p;for(let M=e,b=n;M!==T;M+=p){const B=o?b:M,U=o?M:b;if(S===1===this.image.get(B,U)){if(S===2)return Je.distance(M,b,e,n);S++}if(f+=u,f>0){if(b===s)break;b+=C,f-=a}}return S===2?Je.distance(r+p,s,e,n):NaN}findAlignmentInRegion(e,n,r,s){const o=Math.floor(s*e),a=Math.max(0,n-o),u=Math.min(this.image.getWidth()-1,n+o);if(u-a<e*3)throw new Z("Alignment top exceeds estimated module size.");const f=Math.max(0,r-o),p=Math.min(this.image.getHeight()-1,r+o);if(p-f<e*3)throw new Z("Alignment bottom exceeds estimated module size.");return new Yn(this.image,a,f,u-a,p-f,e,this.resultPointCallback).find()}}class hn{constructor(){this.decoder=new Ws}getDecoder(){return this.decoder}decode(e,n){let r,s;if(n!=null&&n.get(We.PURE_BARCODE)!==void 0){const f=hn.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(f,n),s=hn.NO_POINTS}else{const f=new hr(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(f.getBits(),n),s=f.getPoints()}r.getOther()instanceof Vs&&r.getOther().applyMirroredCorrection(s);const o=new De(r.getText(),r.getRawBytes(),void 0,s,ue.QR_CODE,void 0),a=r.getByteSegments();a!==null&&o.putMetadata(Pe.BYTE_SEGMENTS,a);const u=r.getECLevel();return u!==null&&o.putMetadata(Pe.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(o.putMetadata(Pe.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Pe.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new Z;const s=this.moduleSize(n,e);let o=n[1],a=r[1],u=n[0],f=r[0];if(u>=f||o>=a)throw new Z;if(a-o!==f-u&&(f=u+(a-o),f>=e.getWidth()))throw new Z;const p=Math.round((f-u+1)/s),C=Math.round((a-o+1)/s);if(p<=0||C<=0)throw new Z;if(C!==p)throw new Z;const S=Math.floor(s/2);o+=S,u+=S;const T=u+Math.floor((p-1)*s)-f;if(T>0){if(T>S)throw new Z;u-=T}const M=o+Math.floor((C-1)*s)-a;if(M>0){if(M>S)throw new Z;o-=M}const b=new ct(p,C);for(let B=0;B<C;B++){const U=o+Math.floor(B*s);for(let W=0;W<p;W++)e.get(u+Math.floor(W*s),U)&&b.set(W,B)}return b}static moduleSize(e,n){const r=n.getHeight(),s=n.getWidth();let o=e[0],a=e[1],u=!0,f=0;for(;o<s&&a<r;){if(u!==n.get(o,a)){if(++f===5)break;u=!u}o++,a++}if(o===s||a===r)throw new Z;return(o-e[0])/7}}hn.NO_POINTS=new Array;class Be{PDF417Common(){}static getBitCountSum(e){return Je.sum(e)}static toIntArray(e){if(e==null||!e.length)return Be.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let r=0;for(const s of e)n[r++]=s;return n}static getCodeword(e){const n=Te.binarySearch(Be.SYMBOL_TABLE,e&262143);return n<0?-1:(Be.CODEWORD_TABLE[n]-1)%Be.NUMBER_OF_CODEWORDS}}Be.NUMBER_OF_CODEWORDS=929,Be.MAX_CODEWORDS_IN_BARCODE=Be.NUMBER_OF_CODEWORDS-1,Be.MIN_ROWS_IN_BARCODE=3,Be.MAX_ROWS_IN_BARCODE=90,Be.MODULES_IN_CODEWORD=17,Be.MODULES_IN_STOP_PATTERN=18,Be.BARS_IN_MODULE=8,Be.EMPTY_INT_ARRAY=new Int32Array([]),Be.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Be.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class bo{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class je{static detectMultiple(e,n,r){let s=e.getBlackMatrix(),o=je.detect(r,s);return o.length||(s=s.clone(),s.rotate180(),o=je.detect(r,s)),new bo(s,o)}static detect(e,n){const r=new Array;let s=0,o=0,a=!1;for(;s<n.getHeight();){const u=je.findVertices(n,s,o);if(u[0]==null&&u[3]==null){if(!a)break;a=!1,o=0;for(const f of r)f[1]!=null&&(s=Math.trunc(Math.max(s,f[1].getY()))),f[3]!=null&&(s=Math.max(s,Math.trunc(f[3].getY())));s+=je.ROW_STEP;continue}if(a=!0,r.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return r}static findVertices(e,n,r){const s=e.getHeight(),o=e.getWidth(),a=new Array(8);return je.copyToResult(a,je.findRowsWithPattern(e,s,o,n,r,je.START_PATTERN),je.INDEXES_START_PATTERN),a[4]!=null&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),je.copyToResult(a,je.findRowsWithPattern(e,s,o,n,r,je.STOP_PATTERN),je.INDEXES_STOP_PATTERN),a}static copyToResult(e,n,r){for(let s=0;s<r.length;s++)e[r[s]]=n[s]}static findRowsWithPattern(e,n,r,s,o,a){const u=new Array(4);let f=!1;const p=new Int32Array(a.length);for(;s<n;s+=je.ROW_STEP){let S=je.findGuardPattern(e,o,s,r,!1,a,p);if(S!=null){for(;s>0;){const T=je.findGuardPattern(e,o,--s,r,!1,a,p);if(T!=null)S=T;else{s++;break}}u[0]=new we(S[0],s),u[1]=new we(S[1],s),f=!0;break}}let C=s+1;if(f){let S=0,T=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;C<n;C++){const M=je.findGuardPattern(e,T[0],C,r,!1,a,p);if(M!=null&&Math.abs(T[0]-M[0])<je.MAX_PATTERN_DRIFT&&Math.abs(T[1]-M[1])<je.MAX_PATTERN_DRIFT)T=M,S=0;else{if(S>je.SKIPPED_ROW_COUNT_MAX)break;S++}}C-=S+1,u[2]=new we(T[0],C),u[3]=new we(T[1],C)}return C-s<je.BARCODE_MIN_HEIGHT&&Te.fill(u,null),u}static findGuardPattern(e,n,r,s,o,a,u){Te.fillWithin(u,0,u.length,0);let f=n,p=0;for(;e.get(f,r)&&f>0&&p++<je.MAX_PIXEL_DRIFT;)f--;let C=f,S=0,T=a.length;for(let M=o;C<s;C++)if(e.get(C,r)!==M)u[S]++;else{if(S===T-1){if(je.patternMatchVariance(u,a,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return new Int32Array([f,C]);f+=u[0]+u[1],te.arraycopy(u,2,u,0,S-1),u[S-1]=0,u[S]=0,S--}else S++;u[S]=1,M=!M}return S===T-1&&je.patternMatchVariance(u,a,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE?new Int32Array([f,C-1]):null}static patternMatchVariance(e,n,r){let s=e.length,o=0,a=0;for(let p=0;p<s;p++)o+=e[p],a+=n[p];if(o<a)return 1/0;let u=o/a;r*=u;let f=0;for(let p=0;p<s;p++){let C=e[p],S=n[p]*u,T=C>S?C-S:S-C;if(T>r)return 1/0;f+=T}return f/o}}je.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),je.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),je.MAX_AVG_VARIANCE=.42,je.MAX_INDIVIDUAL_VARIANCE=.8,je.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),je.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),je.MAX_PIXEL_DRIFT=3,je.MAX_PATTERN_DRIFT=5,je.SKIPPED_ROW_COUNT_MAX=25,je.ROW_STEP=5,je.BARCODE_MIN_HEIGHT=10;class en{constructor(e,n){if(n.length===0)throw new D;this.field=e;let r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),te.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let n=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)n=this.field.add(this.field.multiply(e,n),this.coefficients[s]);return n}add(e){if(!this.field.equals(e.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){let a=n;n=r,r=a}let s=new Int32Array(r.length),o=r.length-n.length;te.arraycopy(r,0,s,0,o);for(let a=o;a<r.length;a++)s[a]=this.field.add(n[a-o],r[a]);return new en(this.field,s)}subtract(e){if(!this.field.equals(e.field))throw new D("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof en?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new en(this.field,new Int32Array([0]));let n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,a=new Int32Array(r+o-1);for(let u=0;u<r;u++){let f=n[u];for(let p=0;p<o;p++)a[u+p]=this.field.add(a[u+p],this.field.multiply(f,s[p]))}return new en(this.field,a)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new en(this.field,n)}multiplyScalar(e){if(e===0)return new en(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,r=new Int32Array(n);for(let s=0;s<n;s++)r[s]=this.field.multiply(this.coefficients[s],e);return new en(this.field,r)}multiplyByMonomial(e,n){if(e<0)throw new D;if(n===0)return new en(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+e);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],n);return new en(this.field,s)}toString(){let e=new Ye;for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class Lo{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new D;return this.logTable[e]}inverse(e){if(e===0)throw new Oi;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class ri extends Lo{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let s=0;s<e;s++)this.expTable[s]=r,r=r*n%e;for(let s=0;s<e-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new en(this,new Int32Array([0])),this.one=new en(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new D;if(n===0)return this.zero;let r=new Int32Array(e+1);return r[0]=n,new en(this,r)}}ri.PDF417_GF=new ri(Be.NUMBER_OF_CODEWORDS,3);class Gs{constructor(){this.field=ri.PDF417_GF}decode(e,n,r){let s=new en(this.field,e),o=new Int32Array(n),a=!1;for(let b=n;b>0;b--){let B=s.evaluateAt(this.field.exp(b));o[n-b]=B,B!==0&&(a=!0)}if(!a)return 0;let u=this.field.getOne();if(r!=null)for(const b of r){let B=this.field.exp(e.length-1-b),U=new en(this.field,new Int32Array([this.field.subtract(0,B),1]));u=u.multiply(U)}let f=new en(this.field,o),p=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),f,n),C=p[0],S=p[1],T=this.findErrorLocations(C),M=this.findErrorMagnitudes(S,C,T);for(let b=0;b<T.length;b++){let B=e.length-1-this.field.log(T[b]);if(B<0)throw he.getChecksumInstance();e[B]=this.field.subtract(e[B],M[b])}return T.length}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){let T=e;e=n,n=T}let s=e,o=n,a=this.field.getZero(),u=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let T=s,M=a;if(s=o,a=u,s.isZero())throw he.getChecksumInstance();o=T;let b=this.field.getZero(),B=s.getCoefficient(s.getDegree()),U=this.field.inverse(B);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let W=o.getDegree()-s.getDegree(),ie=this.field.multiply(o.getCoefficient(o.getDegree()),U);b=b.add(this.field.buildMonomial(W,ie)),o=o.subtract(s.multiplyByMonomial(W,ie))}u=b.multiply(a).subtract(M).negative()}let f=u.getCoefficient(0);if(f===0)throw he.getChecksumInstance();let p=this.field.inverse(f),C=u.multiply(p),S=o.multiply(p);return[C,S]}findErrorLocations(e){let n=e.getDegree(),r=new Int32Array(n),s=0;for(let o=1;o<this.field.getSize()&&s<n;o++)e.evaluateAt(o)===0&&(r[s]=this.field.inverse(o),s++);if(s!==n)throw he.getChecksumInstance();return r}findErrorMagnitudes(e,n,r){let s=n.getDegree(),o=new Int32Array(s);for(let p=1;p<=s;p++)o[s-p]=this.field.multiply(p,n.getCoefficient(p));let a=new en(this.field,o),u=r.length,f=new Int32Array(u);for(let p=0;p<u;p++){let C=this.field.inverse(r[p]),S=this.field.subtract(0,e.evaluateAt(C)),T=this.field.inverse(a.evaluateAt(C));f[p]=this.field.multiply(S,T)}return f}}class Br{constructor(e,n,r,s,o){e instanceof Br?this.constructor_2(e):this.constructor_1(e,n,r,s,o)}constructor_1(e,n,r,s,o){const a=n==null||r==null,u=s==null||o==null;if(a&&u)throw new Z;a?(n=new we(0,s.getY()),r=new we(0,o.getY())):u&&(s=new we(e.getWidth()-1,n.getY()),o=new we(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(n.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Br(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,r){let s=this.topLeft,o=this.bottomLeft,a=this.topRight,u=this.bottomRight;if(e>0){let f=r?this.topLeft:this.topRight,p=Math.trunc(f.getY()-e);p<0&&(p=0);let C=new we(f.getX(),p);r?s=C:a=C}if(n>0){let f=r?this.bottomLeft:this.bottomRight,p=Math.trunc(f.getY()+n);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let C=new we(f.getX(),p);r?o=C:u=C}return new Br(this.image,s,o,a,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ki{constructor(e,n,r,s){this.columnCount=e,this.errorCorrectionLevel=s,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class gr{constructor(){this.buffer=""}static form(e,n){let r=-1;function s(a,u,f,p,C,S){if(a==="%%")return"%";if(n[++r]===void 0)return;a=p?parseInt(p.substr(1)):void 0;let T=C?parseInt(C.substr(1)):void 0,M;switch(S){case"s":M=n[r];break;case"c":M=n[r][0];break;case"f":M=parseFloat(n[r]).toFixed(a);break;case"p":M=parseFloat(n[r]).toPrecision(a);break;case"e":M=parseFloat(n[r]).toExponential(a);break;case"x":M=parseInt(n[r]).toString(T||16);break;case"d":M=parseFloat(parseInt(n[r],T||10).toPrecision(a)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(T);let b=parseInt(f),B=f&&f[0]+""=="0"?"0":" ";for(;M.length<b;)M=u!==void 0?M+B:B+M;return M}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}format(e,...n){this.buffer+=gr.form(e,n)}toString(){return this.buffer}}class sr{constructor(e){this.boundingBox=new Br(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let r=1;r<sr.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(e)-r;if(s>=0&&(n=this.codewords[s],n!=null)||(s=this.imageRowToCodewordIndex(e)+r,s<this.codewords.length&&(n=this.codewords[s],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new gr;let n=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,r.getRowNumber(),r.getValue())}return e.toString()}}sr.MAX_NEARBY_DISTANCE=5;class _r{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[r,s]of this.values.entries()){const o={getKey:()=>r,getValue:()=>s};o.getValue()>e?(e=o.getValue(),n=[],n.push(o.getKey())):o.getValue()===e&&n.push(o.getKey())}return Be.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class ko extends sr{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,p=1,C=0;for(let S=a;S<u;S++){if(n[S]==null)continue;let T=n[S],M=T.getRowNumber()-f;if(M===0)C++;else if(M===1)p=Math.max(p,C),C=1,f=T.getRowNumber();else if(M<0||T.getRowNumber()>=e.getRowCount()||M>S)n[S]=null;else{let b;p>2?b=(p-2)*M:b=M;let B=b>=S;for(let U=1;U<=b&&!B;U++)B=n[S-U]!=null;B?n[S]=null:(f=T.getRowNumber(),C=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=n.length)continue;n[s]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.getCodewords(),f=-1;for(let p=o;p<a;p++){if(u[p]==null)continue;let C=u[p];C.setRowNumberAsRowIndicatorColumn();let S=C.getRowNumber()-f;S===0||(S===1?f=C.getRowNumber():C.getRowNumber()>=e.getRowCount()?u[p]=null:f=C.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new _r,r=new _r,s=new _r,o=new _r;for(let u of e){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let f=u.getValue()%30,p=u.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:r.setValue(f*3+1);break;case 1:o.setValue(f/3),s.setValue(f%3);break;case 2:n.setValue(f+1);break}}if(n.getValue().length===0||r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||n.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<Be.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>Be.MAX_ROWS_IN_BARCODE)return null;let a=new ki(n.getValue()[0],r.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,n){for(let r=0;r<e.length;r++){let s=e[r];if(e[r]==null)continue;let o=s.getValue()%30,a=s.getRowNumber();if(a>n.getRowCount()){e[r]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(e[r]=null);break;case 2:o+1!==n.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Bi{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Be.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let r=this.detectionResultColumns[n].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(n,s,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){let u=this.detectionResultColumns[a].getCodewords()[r];u!=null&&(o=Bi.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){let u=this.detectionResultColumns[a].getCodewords()[r];u!=null&&(o=Bi.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,r){if(!this.detectionResultColumns[e-1])return;let s=r[n],o=this.detectionResultColumns[e-1].getCodewords(),a=o;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let u=new Array(14);u[2]=o[n],u[3]=a[n],n>0&&(u[0]=r[n-1],u[4]=o[n-1],u[5]=a[n-1]),n>1&&(u[8]=r[n-2],u[10]=o[n-2],u[11]=a[n-2]),n<r.length-1&&(u[1]=r[n+1],u[6]=o[n+1],u[7]=a[n+1]),n<r.length-2&&(u[9]=r[n+2],u[12]=o[n+2],u[13]=a[n+2]);for(let f of u)if(Bi.adjustRowNumber(s,f))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new gr;for(let r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){n.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[r];if(o==null){n.format("    |   ");continue}n.format(" %3d|%3d",o.getRowNumber(),o.getValue())}n.format("%n")}return n.toString()}}class Pr{constructor(e,n,r,s){this.rowNumber=Pr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Pr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Pr.BARCODE_ROW_UNKNOWN=-1;class tn{static initialize(){for(let e=0;e<Be.SYMBOL_TABLE.length;e++){let n=Be.SYMBOL_TABLE[e],r=n&1;for(let s=0;s<Be.BARS_IN_MODULE;s++){let o=0;for(;(n&1)===r;)o+=1,n>>=1;r=n&1,tn.RATIOS_TABLE[e]||(tn.RATIOS_TABLE[e]=new Array(Be.BARS_IN_MODULE)),tn.RATIOS_TABLE[e][Be.BARS_IN_MODULE-s-1]=Math.fround(o/Be.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=tn.getDecodedCodewordValue(tn.sampleBitCounts(e));return n!==-1?n:tn.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=Je.sum(e),r=new Int32Array(Be.BARS_IN_MODULE),s=0,o=0;for(let a=0;a<Be.MODULES_IN_CODEWORD;a++){let u=n/(2*Be.MODULES_IN_CODEWORD)+a*n/Be.MODULES_IN_CODEWORD;o+e[s]<=u&&(o+=e[s],s++),r[s]++}return r}static getDecodedCodewordValue(e){let n=tn.getBitValue(e);return Be.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let r=0;r<e.length;r++)for(let s=0;s<e[r];s++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=Je.sum(e),r=new Array(Be.BARS_IN_MODULE);if(n>1)for(let a=0;a<r.length;a++)r[a]=Math.fround(e[a]/n);let s=Ir.MAX_VALUE,o=-1;this.bSymbolTableReady||tn.initialize();for(let a=0;a<tn.RATIOS_TABLE.length;a++){let u=0,f=tn.RATIOS_TABLE[a];for(let p=0;p<Be.BARS_IN_MODULE;p++){let C=Math.fround(f[p]-r[p]);if(u+=Math.fround(C*C),u>=s)break}u<s&&(s=u,o=Be.SYMBOL_TABLE[a])}return o}}tn.bSymbolTableReady=!1,tn.RATIOS_TABLE=new Array(Be.SYMBOL_TABLE.length).map(A=>new Array(Be.BARS_IN_MODULE));class ls{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Ys{static parseLong(e,n=void 0){return parseInt(e,n)}}class pr extends I{}pr.kind="NullPointerException";class Xs{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,r){if(e==null)throw new pr;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new ee;if(r===0)return;for(let s=0;s<r;s++)this.write(e[n+s])}flush(){}close(){}}class us extends I{}class Bo extends Xs{constructor(e=32){if(super(),this.count=0,e<0)throw new D("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new us;r=fe.MAX_VALUE}this.buf=Te.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,r){if(n<0||n>e.length||r<0||n+r-e.length>0)throw new ee;this.ensureCapacity(this.count+r),te.arraycopy(e,n,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Te.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var st;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(st||(st={}));function Pi(){if(typeof window<"u")return window.BigInt||null;if(typeof ba<"u")return ba.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Fi;function Ft(A){if(typeof Fi>"u"&&(Fi=Pi()),Fi===null)throw new Error("BigInt is not supported!");return Fi(A)}function ii(){let A=[];A[0]=Ft(1);let e=Ft(900);A[1]=e;for(let n=2;n<16;n++)A[n]=A[n-1]*e;return A}class G{static decode(e,n){let r=new Ye(""),s=se.ISO8859_1;r.enableDecoding(s);let o=1,a=e[o++],u=new ls;for(;o<e[0];){switch(a){case G.TEXT_COMPACTION_MODE_LATCH:o=G.textCompaction(e,o,r);break;case G.BYTE_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:o=G.byteCompaction(a,e,s,o,r);break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case G.NUMERIC_COMPACTION_MODE_LATCH:o=G.numericCompaction(e,o,r);break;case G.ECI_CHARSET:se.getCharacterSetECIByValue(e[o++]);break;case G.ECI_GENERAL_PURPOSE:o+=2;break;case G.ECI_USER_DEFINED:o++;break;case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=G.decodeMacroBlock(e,o,u);break;case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:throw new ne;default:o--,o=G.textCompaction(e,o,r);break}if(o<e.length)a=e[o++];else throw ne.getFormatInstance()}if(r.length()===0)throw ne.getFormatInstance();let f=new dt(null,r.toString(),null,n);return f.setOther(u),f}static decodeMacroBlock(e,n,r){if(n+G.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ne.getFormatInstance();let s=new Int32Array(G.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<G.NUMBER_OF_SEQUENCE_CODEWORDS;u++,n++)s[u]=e[n];r.setSegmentIndex(fe.parseInt(G.decodeBase900toBase10(s,G.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Ye;n=G.textCompaction(e,n,o),r.setFileId(o.toString());let a=-1;for(e[n]===G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=n+1);n<e[0];)switch(e[n]){case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case G.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Ye;n=G.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case G.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let f=new Ye;n=G.textCompaction(e,n+1,f),r.setSender(f.toString());break;case G.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new Ye;n=G.textCompaction(e,n+1,p),r.setAddressee(p.toString());break;case G.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Ye;n=G.numericCompaction(e,n+1,C),r.setSegmentCount(fe.parseInt(C.toString()));break;case G.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let S=new Ye;n=G.numericCompaction(e,n+1,S),r.setTimestamp(Ys.parseLong(S.toString()));break;case G.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Ye;n=G.numericCompaction(e,n+1,T),r.setChecksum(fe.parseInt(T.toString()));break;case G.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let M=new Ye;n=G.numericCompaction(e,n+1,M),r.setFileSize(Ys.parseLong(M.toString()));break;default:throw ne.getFormatInstance()}break;case G.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw ne.getFormatInstance()}if(a!==-1){let u=n-a;r.isLastSegment()&&u--,r.setOptionalData(Te.copyOfRange(e,a,a+u))}return n}static textCompaction(e,n,r){let s=new Int32Array((e[0]-n)*2),o=new Int32Array((e[0]-n)*2),a=0,u=!1;for(;n<e[0]&&!u;){let f=e[n++];if(f<G.TEXT_COMPACTION_MODE_LATCH)s[a]=f/30,s[a+1]=f%30,a+=2;else switch(f){case G.TEXT_COMPACTION_MODE_LATCH:s[a++]=G.TEXT_COMPACTION_MODE_LATCH;break;case G.BYTE_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.NUMERIC_COMPACTION_MODE_LATCH:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:n--,u=!0;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[a]=G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[n++],o[a]=f,a++;break}}return G.decodeTextCompaction(s,o,a,r),n}static decodeTextCompaction(e,n,r,s){let o=st.ALPHA,a=st.ALPHA,u=0;for(;u<r;){let f=e[u],p="";switch(o){case st.ALPHA:if(f<26)p=String.fromCharCode(65+f);else switch(f){case 26:p=" ";break;case G.LL:o=st.LOWER;break;case G.ML:o=st.MIXED;break;case G.PS:a=o,o=st.PUNCT_SHIFT;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case G.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.LOWER:if(f<26)p=String.fromCharCode(97+f);else switch(f){case 26:p=" ";break;case G.AS:a=o,o=st.ALPHA_SHIFT;break;case G.ML:o=st.MIXED;break;case G.PS:a=o,o=st.PUNCT_SHIFT;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case G.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.MIXED:if(f<G.PL)p=G.MIXED_CHARS[f];else switch(f){case G.PL:o=st.PUNCT;break;case 26:p=" ";break;case G.LL:o=st.LOWER;break;case G.AL:o=st.ALPHA;break;case G.PS:a=o,o=st.PUNCT_SHIFT;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case G.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.PUNCT:if(f<G.PAL)p=G.PUNCT_CHARS[f];else switch(f){case G.PAL:o=st.ALPHA;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case G.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.ALPHA_SHIFT:if(o=a,f<26)p=String.fromCharCode(65+f);else switch(f){case 26:p=" ";break;case G.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break;case st.PUNCT_SHIFT:if(o=a,f<G.PAL)p=G.PUNCT_CHARS[f];else switch(f){case G.PAL:o=st.ALPHA;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case G.TEXT_COMPACTION_MODE_LATCH:o=st.ALPHA;break}break}p!==""&&s.append(p),u++}}static byteCompaction(e,n,r,s,o){let a=new Bo,u=0,f=0,p=!1;switch(e){case G.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),S=n[s++];for(;s<n[0]&&!p;)switch(C[u++]=S,f=900*f+S,S=n[s++],S){case G.TEXT_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH:case G.NUMERIC_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:s--,p=!0;break;default:if(u%5===0&&u>0){for(let T=0;T<6;++T)a.write(Number(Ft(f)>>Ft(8*(5-T))));f=0,u=0}break}s===n[0]&&S<G.TEXT_COMPACTION_MODE_LATCH&&(C[u++]=S);for(let T=0;T<u;T++)a.write(C[T]);break;case G.BYTE_COMPACTION_MODE_LATCH_6:for(;s<n[0]&&!p;){let T=n[s++];if(T<G.TEXT_COMPACTION_MODE_LATCH)u++,f=900*f+T;else switch(T){case G.TEXT_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH:case G.NUMERIC_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:s--,p=!0;break}if(u%5===0&&u>0){for(let M=0;M<6;++M)a.write(Number(Ft(f)>>Ft(8*(5-M))));f=0,u=0}}break}return o.append(Bt.decode(a.toByteArray(),r)),s}static numericCompaction(e,n,r){let s=0,o=!1,a=new Int32Array(G.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!o;){let u=e[n++];if(n===e[0]&&(o=!0),u<G.TEXT_COMPACTION_MODE_LATCH)a[s]=u,s++;else switch(u){case G.TEXT_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:n--,o=!0;break}(s%G.MAX_NUMERIC_CODEWORDS===0||u===G.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(r.append(G.decodeBase900toBase10(a,s)),s=0)}return n}static decodeBase900toBase10(e,n){let r=Ft(0);for(let o=0;o<n;o++)r+=G.EXP900[n-o-1]*Ft(e[o]);let s=r.toString();if(s.charAt(0)!=="1")throw new ne;return s.substring(1)}}G.TEXT_COMPACTION_MODE_LATCH=900,G.BYTE_COMPACTION_MODE_LATCH=901,G.NUMERIC_COMPACTION_MODE_LATCH=902,G.BYTE_COMPACTION_MODE_LATCH_6=924,G.ECI_USER_DEFINED=925,G.ECI_GENERAL_PURPOSE=926,G.ECI_CHARSET=927,G.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,G.MACRO_PDF417_TERMINATOR=922,G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,G.MAX_NUMERIC_CODEWORDS=15,G.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,G.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,G.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,G.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,G.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,G.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,G.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,G.PL=25,G.LL=27,G.AS=27,G.ML=28,G.AL=28,G.PS=29,G.PAL=29,G.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,G.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",G.EXP900=Pi()?ii():[],G.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ve{constructor(){}static decode(e,n,r,s,o,a,u){let f=new Br(e,n,r,s,o),p=null,C=null,S;for(let b=!0;;b=!1){if(n!=null&&(p=Ve.getRowIndicatorColumn(e,f,n,!0,a,u)),s!=null&&(C=Ve.getRowIndicatorColumn(e,f,s,!1,a,u)),S=Ve.merge(p,C),S==null)throw Z.getNotFoundInstance();let B=S.getBoundingBox();if(b&&B!=null&&(B.getMinY()<f.getMinY()||B.getMaxY()>f.getMaxY()))f=B;else break}S.setBoundingBox(f);let T=S.getBarcodeColumnCount()+1;S.setDetectionResultColumn(0,p),S.setDetectionResultColumn(T,C);let M=p!=null;for(let b=1;b<=T;b++){let B=M?b:T-b;if(S.getDetectionResultColumn(B)!==void 0)continue;let U;B===0||B===T?U=new ko(f,B===0):U=new sr(f),S.setDetectionResultColumn(B,U);let W=-1,ie=W;for(let oe=f.getMinY();oe<=f.getMaxY();oe++){if(W=Ve.getStartColumn(S,B,oe,M),W<0||W>f.getMaxX()){if(ie===-1)continue;W=ie}let J=Ve.detectCodeword(e,f.getMinX(),f.getMaxX(),M,W,oe,a,u);J!=null&&(U.setCodeword(oe,J),ie=W,a=Math.min(a,J.getWidth()),u=Math.max(u,J.getWidth()))}}return Ve.createDecoderResult(S)}static merge(e,n){if(e==null&&n==null)return null;let r=Ve.getBarcodeMetadata(e,n);if(r==null)return null;let s=Br.merge(Ve.adjustBoundingBox(e),Ve.adjustBoundingBox(n));return new Bi(r,s)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let r=Ve.getMax(n),s=0;for(let u of n)if(s+=r-u,u>0)break;let o=e.getCodewords();for(let u=0;s>0&&o[u]==null;u++)s--;let a=0;for(let u=n.length-1;u>=0&&(a+=r-n[u],!(n[u]>0));u--);for(let u=o.length-1;a>0&&o[u]==null;u--)a--;return e.getBoundingBox().addMissingRows(s,a,e.isLeft())}static getMax(e){let n=-1;for(let r of e)n=Math.max(n,r);return n}static getBarcodeMetadata(e,n){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let s;return n==null||(s=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(e,n,r,s,o,a){let u=new ko(n,s);for(let f=0;f<2;f++){let p=f===0?1:-1,C=Math.trunc(Math.trunc(r.getX()));for(let S=Math.trunc(Math.trunc(r.getY()));S<=n.getMaxY()&&S>=n.getMinY();S+=p){let T=Ve.detectCodeword(e,0,e.getWidth(),s,C,S,o,a);T!=null&&(u.setCodeword(S,T),s?C=T.getStartX():C=T.getEndX())}}return u}static adjustCodewordCount(e,n){let r=n[0][1],s=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Ve.getNumberOfECCodeWords(e.getBarcodeECLevel());if(s.length===0){if(o<1||o>Be.MAX_CODEWORDS_IN_BARCODE)throw Z.getNotFoundInstance();r.setValue(o)}else s[0]!==o&&r.setValue(o)}static createDecoderResult(e){let n=Ve.createBarcodeMatrix(e);Ve.adjustCodewordCount(e,n);let r=new Array,s=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array;for(let f=0;f<e.getBarcodeRowCount();f++)for(let p=0;p<e.getBarcodeColumnCount();p++){let C=n[f][p+1].getValue(),S=f*e.getBarcodeColumnCount()+p;C.length===0?r.push(S):C.length===1?s[S]=C[0]:(a.push(S),o.push(C))}let u=new Array(o.length);for(let f=0;f<u.length;f++)u[f]=o[f];return Ve.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),s,Be.toIntArray(r),Be.toIntArray(a),u)}static createDecoderResultFromAmbiguousValues(e,n,r,s,o){let a=new Int32Array(s.length),u=100;for(;u-- >0;){for(let f=0;f<a.length;f++)n[s[f]]=o[f][a[f]];try{return Ve.decodeCodewords(n,e,r)}catch(f){if(!(f instanceof he))throw f}if(a.length===0)throw he.getChecksumInstance();for(let f=0;f<a.length;f++)if(a[f]<o[f].length-1){a[f]++;break}else if(a[f]=0,f===a.length-1)throw he.getChecksumInstance()}throw he.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let s=0;s<n.length;s++)for(let o=0;o<n[s].length;o++)n[s][o]=new _r;let r=0;for(let s of e.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=0){if(a>=n.length)continue;n[a][r].setValue(o.getValue())}}}r++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,r,s){let o=s?1:-1,a=null;if(Ve.isValidBarcodeColumn(e,n-o)&&(a=e.getDetectionResultColumn(n-o).getCodeword(r)),a!=null)return s?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(n).getCodewordNearby(r),a!=null)return s?a.getStartX():a.getEndX();if(Ve.isValidBarcodeColumn(e,n-o)&&(a=e.getDetectionResultColumn(n-o).getCodewordNearby(r)),a!=null)return s?a.getEndX():a.getStartX();let u=0;for(;Ve.isValidBarcodeColumn(e,n-o);){n-=o;for(let f of e.getDetectionResultColumn(n).getCodewords())if(f!=null)return(s?f.getEndX():f.getStartX())+o*u*(f.getEndX()-f.getStartX());u++}return s?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,r,s,o,a,u,f){o=Ve.adjustCodewordStartColumn(e,n,r,s,o,a);let p=Ve.getModuleBitCount(e,n,r,s,o,a);if(p==null)return null;let C,S=Je.sum(p);if(s)C=o+S;else{for(let b=0;b<p.length/2;b++){let B=p[b];p[b]=p[p.length-1-b],p[p.length-1-b]=B}C=o,o=C-S}if(!Ve.checkCodewordSkew(S,u,f))return null;let T=tn.getDecodedValue(p),M=Be.getCodeword(T);return M===-1?null:new Pr(o,C,Ve.getCodewordBucketNumber(T),M)}static getModuleBitCount(e,n,r,s,o,a){let u=o,f=new Int32Array(8),p=0,C=s?1:-1,S=s;for(;(s?u<r:u>=n)&&p<f.length;)e.get(u,a)===S?(f[p]++,u+=C):(p++,S=!S);return p===f.length||u===(s?r:n)&&p===f.length-1?f:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,r,s,o,a){let u=o,f=s?-1:1;for(let p=0;p<2;p++){for(;(s?u>=n:u<r)&&s===e.get(u,a);){if(Math.abs(o-u)>Ve.CODEWORD_SKEW_SIZE)return o;u+=f}f=-f,s=!s}return u}static checkCodewordSkew(e,n,r){return n-Ve.CODEWORD_SKEW_SIZE<=e&&e<=r+Ve.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,r){if(e.length===0)throw ne.getFormatInstance();let s=1<<n+1,o=Ve.correctErrors(e,r,s);Ve.verifyCodewordCount(e,s);let a=G.decode(e,""+n);return a.setErrorsCorrected(o),a.setErasures(r.length),a}static correctErrors(e,n,r){if(n!=null&&n.length>r/2+Ve.MAX_ERRORS||r<0||r>Ve.MAX_EC_CODEWORDS)throw he.getChecksumInstance();return Ve.errorCorrection.decode(e,r,n)}static verifyCodewordCount(e,n){if(e.length<4)throw ne.getFormatInstance();let r=e[0];if(r>e.length)throw ne.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw ne.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),r=0,s=n.length-1;for(;!((e&1)!==r&&(r=e&1,s--,s<0));)n[s]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Ve.getCodewordBucketNumber(Ve.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new gr;for(let r=0;r<e.length;r++){n.format("Row %2d: ",r);for(let s=0;s<e[r].length;s++){let o=e[r][s];o.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}n.format("%n")}return n.toString()}}Ve.CODEWORD_SKEW_SIZE=2,Ve.MAX_ERRORS=3,Ve.MAX_EC_CODEWORDS=512,Ve.errorCorrection=new Gs;class nn{decode(e,n=null){let r=nn.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw Z.getNotFoundInstance();return r[0]}decodeMultiple(e,n=null){try{return nn.decode(e,n,!0)}catch(r){throw r instanceof ne||r instanceof he?Z.getNotFoundInstance():r}}static decode(e,n,r){const s=new Array,o=je.detectMultiple(e,n,r);for(const a of o.getPoints()){const u=Ve.decode(o.getBits(),a[4],a[5],a[6],a[7],nn.getMinCodewordWidth(a),nn.getMaxCodewordWidth(a)),f=new De(u.getText(),u.getRawBytes(),void 0,a,ue.PDF_417);f.putMetadata(Pe.ERROR_CORRECTION_LEVEL,u.getECLevel());const p=u.getOther();p!=null&&f.putMetadata(Pe.PDF417_EXTRA_METADATA,p),s.push(f)}return s.map(a=>a)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?fe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(nn.getMaxWidth(e[0],e[4]),nn.getMaxWidth(e[6],e[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.max(nn.getMaxWidth(e[1],e[5]),nn.getMaxWidth(e[7],e[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(nn.getMinWidth(e[0],e[4]),nn.getMinWidth(e[6],e[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.min(nn.getMinWidth(e[1],e[5]),nn.getMinWidth(e[7],e[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}reset(){}}class si extends I{}si.kind="ReaderException";class cs{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!w(e)&&e.get(We.TRY_HARDER)===!0,r=w(e)?null:e.get(We.POSSIBLE_FORMATS),s=new Array;if(!w(r)){const o=r.some(a=>a===ue.UPC_A||a===ue.UPC_E||a===ue.EAN_13||a===ue.EAN_8||a===ue.CODABAR||a===ue.CODE_39||a===ue.CODE_93||a===ue.CODE_128||a===ue.ITF||a===ue.RSS_14||a===ue.RSS_EXPANDED);o&&!n&&s.push(new ei(e,this.verbose)),r.includes(ue.QR_CODE)&&s.push(new hn),r.includes(ue.DATA_MATRIX)&&s.push(new Gn),r.includes(ue.AZTEC)&&s.push(new vr),r.includes(ue.PDF_417)&&s.push(new nn),o&&n&&s.push(new ei(e,this.verbose))}s.length===0&&(n||s.push(new ei(e,this.verbose)),s.push(new hn),s.push(new Gn),s.push(new vr),s.push(new nn),n&&s.push(new ei(e,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new si("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(r){if(r instanceof si)continue}throw new Z("No MultiFormat Readers were able to detect the code.")}}class Ui extends Fe{constructor(e=null,n=500){const r=new cs;r.setHints(e),super(r,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class fs extends Fe{constructor(e=500){super(new nn,e)}}class Po extends Fe{constructor(e=500){super(new hn,e)}}var Zs;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(Zs||(Zs={}));var Wt=Zs;class Qs{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new qt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let r=n[n.length-1];const s=this.field;for(let o=n.length;o<=e;o++){const a=r.multiply(new qt(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));n.push(a),r=a}}return n[e]}encode(e,n){if(n===0)throw new D("No error correction bytes");const r=e.length-n;if(r<=0)throw new D("No data bytes provided");const s=this.buildGenerator(n),o=new Int32Array(r);te.arraycopy(e,0,o,0,r);let a=new qt(this.field,o);a=a.multiplyByMonomial(n,1);const f=a.divide(s)[1].getCoefficients(),p=n-f.length;for(let C=0;C<p;C++)e[r+C]=0;te.arraycopy(f,0,e,r+p,f.length)}}class vt{constructor(){}static applyMaskPenaltyRule1(e){return vt.applyMaskPenaltyRule1Internal(e,!0)+vt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let a=0;a<o-1;a++){const u=r[a];for(let f=0;f<s-1;f++){const p=u[f];p===u[f+1]&&p===r[a+1][f]&&p===r[a+1][f+1]&&n++}}return vt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let a=0;a<o;a++)for(let u=0;u<s;u++){const f=r[a];u+6<s&&f[u]===1&&f[u+1]===0&&f[u+2]===1&&f[u+3]===1&&f[u+4]===1&&f[u+5]===0&&f[u+6]===1&&(vt.isWhiteHorizontal(f,u-4,u)||vt.isWhiteHorizontal(f,u+7,u+11))&&n++,a+6<o&&r[a][u]===1&&r[a+1][u]===0&&r[a+2][u]===1&&r[a+3][u]===1&&r[a+4][u]===1&&r[a+5][u]===0&&r[a+6][u]===1&&(vt.isWhiteVertical(r,u,a-4,a)||vt.isWhiteVertical(r,u,a+7,a+11))&&n++}return n*vt.N3}static isWhiteHorizontal(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let s=n;s<r;s++)if(e[s]===1)return!1;return!0}static isWhiteVertical(e,n,r,s){r=Math.max(r,0),s=Math.min(s,e.length);for(let o=r;o<s;o++)if(e[o][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let f=0;f<o;f++){const p=r[f];for(let C=0;C<s;C++)p[C]===1&&n++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-a)*10/a)*vt.N4}static getDataMaskBit(e,n,r){let s,o;switch(e){case 0:s=r+n&1;break;case 1:s=r&1;break;case 2:s=n%3;break;case 3:s=(r+n)%3;break;case 4:s=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:o=r*n,s=(o&1)+o%3;break;case 6:o=r*n,s=(o&1)+o%3&1;break;case 7:o=r*n,s=o%3+(r+n&1)&1;break;default:throw new D("Invalid mask pattern: "+e)}return s===0}static applyMaskPenaltyRule1Internal(e,n){let r=0;const s=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),a=e.getArray();for(let u=0;u<s;u++){let f=0,p=-1;for(let C=0;C<o;C++){const S=n?a[u][C]:a[C][u];S===p?f++:(f>=5&&(r+=vt.N1+(f-5)),f=1,p=S)}f>=5&&(r+=vt.N1+(f-5))}return r}}vt.N1=3,vt.N2=3,vt.N3=40,vt.N4=10;class ds{constructor(e,n){this.width=e,this.height=n;const r=new Array(n);for(let s=0;s!==n;s++)r[s]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,r){this.bytes[n][e]=r}setBoolean(e,n,r){this.bytes[n][e]=r?1:0}clear(e){for(const n of this.bytes)Te.fill(n,e)}equals(e){if(!(e instanceof ds))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r],a=n.bytes[r];for(let u=0,f=this.width;u<f;++u)if(o[u]!==a[u])return!1}return!0}toString(){const e=new Ye;for(let n=0,r=this.height;n<r;++n){const s=this.bytes[n];for(let o=0,a=this.width;o<a;++o)switch(s[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Fr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Ye;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Fr.NUM_MASK_PATTERNS}}Fr.NUM_MASK_PATTERNS=8;class xt extends I{}xt.kind="WriterException";class be{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,r,s,o){be.clearMatrix(o),be.embedBasicPatterns(r,o),be.embedTypeInfo(n,s,o),be.maybeEmbedVersionInfo(r,o),be.embedDataBits(e,s,o)}static embedBasicPatterns(e,n){be.embedPositionDetectionPatternsAndSeparators(n),be.embedDarkDotAtLeftBottomCorner(n),be.maybeEmbedPositionAdjustmentPatterns(e,n),be.embedTimingPatterns(n)}static embedTypeInfo(e,n,r){const s=new ve;be.makeTypeInfoBits(e,n,s);for(let o=0,a=s.getSize();o<a;++o){const u=s.get(s.getSize()-1-o),f=be.TYPE_INFO_COORDINATES[o],p=f[0],C=f[1];if(r.setBoolean(p,C,u),o<8){const S=r.getWidth()-o-1;r.setBoolean(S,8,u)}else{const T=r.getHeight()-7+(o-8);r.setBoolean(8,T,u)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const r=new ve;be.makeVersionInfoBits(e,r);let s=17;for(let o=0;o<6;++o)for(let a=0;a<3;++a){const u=r.get(s);s--,n.setBoolean(o,n.getHeight()-11+a,u),n.setBoolean(n.getHeight()-11+a,o,u)}}static embedDataBits(e,n,r){let s=0,o=-1,a=r.getWidth()-1,u=r.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);u>=0&&u<r.getHeight();){for(let f=0;f<2;++f){const p=a-f;if(!be.isEmpty(r.get(p,u)))continue;let C;s<e.getSize()?(C=e.get(s),++s):C=!1,n!==255&&vt.getDataMaskBit(n,p,u)&&(C=!C),r.setBoolean(p,u,C)}u+=o}o=-o,u+=o,a-=2}if(s!==e.getSize())throw new xt("Not all bits consumed: "+s+"/"+e.getSize())}static findMSBSet(e){return 32-fe.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new D("0 polynomial");const r=be.findMSBSet(n);for(e<<=r-1;be.findMSBSet(e)>=r;)e^=n<<be.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,n,r){if(!Fr.isValidMaskPattern(n))throw new xt("Invalid mask pattern");const s=e.getBits()<<3|n;r.appendBits(s,5);const o=be.calculateBCHCode(s,be.TYPE_INFO_POLY);r.appendBits(o,10);const a=new ve;if(a.appendBits(be.TYPE_INFO_MASK_PATTERN,15),r.xor(a),r.getSize()!==15)throw new xt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const r=be.calculateBCHCode(e.getVersionNumber(),be.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new xt("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const r=(n+1)%2;be.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),be.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new xt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,r){for(let s=0;s<8;++s){if(!be.isEmpty(r.get(e+s,n)))throw new xt;r.setNumber(e+s,n,0)}}static embedVerticalSeparationPattern(e,n,r){for(let s=0;s<7;++s){if(!be.isEmpty(r.get(e,n+s)))throw new xt;r.setNumber(e,n+s,0)}}static embedPositionAdjustmentPattern(e,n,r){for(let s=0;s<5;++s){const o=be.POSITION_ADJUSTMENT_PATTERN[s];for(let a=0;a<5;++a)r.setNumber(e+a,n+s,o[a])}}static embedPositionDetectionPattern(e,n,r){for(let s=0;s<7;++s){const o=be.POSITION_DETECTION_PATTERN[s];for(let a=0;a<7;++a)r.setNumber(e+a,n+s,o[a])}}static embedPositionDetectionPatternsAndSeparators(e){const n=be.POSITION_DETECTION_PATTERN[0].length;be.embedPositionDetectionPattern(0,0,e),be.embedPositionDetectionPattern(e.getWidth()-n,0,e),be.embedPositionDetectionPattern(0,e.getWidth()-n,e);const r=8;be.embedHorizontalSeparationPattern(0,r-1,e),be.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),be.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const s=7;be.embedVerticalSeparationPattern(s,0,e),be.embedVerticalSeparationPattern(e.getHeight()-s-1,0,e),be.embedVerticalSeparationPattern(s,e.getHeight()-s,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,s=be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,a=s.length;o!==a;o++){const u=s[o];if(u>=0)for(let f=0;f!==a;f++){const p=s[f];p>=0&&be.isEmpty(n.get(p,u))&&be.embedPositionAdjustmentPattern(p-2,u-2,n)}}}}be.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),be.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),be.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),be.VERSION_INFO_POLY=7973,be.TYPE_INFO_POLY=1335,be.TYPE_INFO_MASK_PATTERN=21522;class ja{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class wt{constructor(){}static calculateMaskPenalty(e){return vt.applyMaskPenaltyRule1(e)+vt.applyMaskPenaltyRule2(e)+vt.applyMaskPenaltyRule3(e)+vt.applyMaskPenaltyRule4(e)}static encode(e,n,r=null){let s=wt.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(Wt.CHARACTER_SET)!==void 0;o&&(s=r.get(Wt.CHARACTER_SET).toString());const a=this.chooseMode(e,s),u=new ve;if(a===Oe.BYTE&&(o||wt.DEFAULT_BYTE_MODE_ENCODING!==s)){const oe=se.getCharacterSetECIByName(s);oe!==void 0&&this.appendECI(oe,u)}this.appendModeInfo(a,u);const f=new ve;this.appendBytes(e,a,f,s);let p;if(r!==null&&r.get(Wt.QR_VERSION)!==void 0){const oe=Number.parseInt(r.get(Wt.QR_VERSION).toString(),10);p=_e.getVersionForNumber(oe);const J=this.calculateBitsNeeded(a,u,f,p);if(!this.willFit(J,p,n))throw new xt("Data too big for requested version")}else p=this.recommendVersion(n,a,u,f);const C=new ve;C.appendBitArray(u);const S=a===Oe.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(S,p,a,C),C.appendBitArray(f);const T=p.getECBlocksForLevel(n),M=p.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(M,C);const b=this.interleaveWithECBytes(C,p.getTotalCodewords(),M,T.getNumBlocks()),B=new Fr;B.setECLevel(n),B.setMode(a),B.setVersion(p);const U=p.getDimensionForVersion(),W=new ds(U,U),ie=this.chooseMaskPattern(b,n,p,W);return B.setMaskPattern(ie),be.buildMatrix(b,n,p,ie,W),B.setMatrix(W),B}static recommendVersion(e,n,r,s){const o=this.calculateBitsNeeded(n,r,s,_e.getVersionForNumber(1)),a=this.chooseVersion(o,e),u=this.calculateBitsNeeded(n,r,s,a);return this.chooseVersion(u,e)}static calculateBitsNeeded(e,n,r,s){return n.getSize()+e.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(e){return e<wt.ALPHANUMERIC_TABLE.length?wt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(se.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Oe.KANJI;let r=!1,s=!1;for(let o=0,a=e.length;o<a;++o){const u=e.charAt(o);if(wt.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)s=!0;else return Oe.BYTE}return s?Oe.ALPHANUMERIC:r?Oe.NUMERIC:Oe.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Bt.encode(e,se.SJIS)}catch{return!1}const r=n.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const o=n[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,n,r,s){let o=Number.MAX_SAFE_INTEGER,a=-1;for(let u=0;u<Fr.NUM_MASK_PATTERNS;u++){be.buildMatrix(e,n,r,u,s);let f=this.calculateMaskPenalty(s);f<o&&(o=f,a=u)}return a}static chooseVersion(e,n){for(let r=1;r<=40;r++){const s=_e.getVersionForNumber(r);if(wt.willFit(e,s,n))return s}throw new xt("Data too big")}static willFit(e,n,r){const s=n.getTotalCodewords(),a=n.getECBlocksForLevel(r).getTotalECCodewords(),u=s-a,f=(e+7)/8;return u>=f}static terminateBits(e,n){const r=e*8;if(n.getSize()>r)throw new xt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(let a=0;a<4&&n.getSize()<r;++a)n.appendBit(!1);const s=n.getSize()&7;if(s>0)for(let a=s;a<8;a++)n.appendBit(!1);const o=e-n.getSizeInBytes();for(let a=0;a<o;++a)n.appendBits((a&1)===0?236:17,8);if(n.getSize()!==r)throw new xt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,r,s,o,a){if(s>=r)throw new xt("Block ID too large");const u=e%r,f=r-u,p=Math.floor(e/r),C=p+1,S=Math.floor(n/r),T=S+1,M=p-S,b=C-T;if(M!==b)throw new xt("EC bytes mismatch");if(r!==f+u)throw new xt("RS blocks mismatch");if(e!==(S+M)*f+(T+b)*u)throw new xt("Total bytes mismatch");s<f?(o[0]=S,a[0]=M):(o[0]=T,a[0]=b)}static interleaveWithECBytes(e,n,r,s){if(e.getSizeInBytes()!==r)throw new xt("Number of bits and data bytes does not match");let o=0,a=0,u=0;const f=new Array;for(let C=0;C<s;++C){const S=new Int32Array(1),T=new Int32Array(1);wt.getNumDataBytesAndNumECBytesForBlockID(n,r,s,C,S,T);const M=S[0],b=new Uint8Array(M);e.toBytes(8*o,b,0,M);const B=wt.generateECBytes(b,T[0]);f.push(new ja(b,B)),a=Math.max(a,M),u=Math.max(u,B.length),o+=S[0]}if(r!==o)throw new xt("Data bytes does not match offset");const p=new ve;for(let C=0;C<a;++C)for(const S of f){const T=S.getDataBytes();C<T.length&&p.appendBits(T[C],8)}for(let C=0;C<u;++C)for(const S of f){const T=S.getErrorCorrectionBytes();C<T.length&&p.appendBits(T[C],8)}if(n!==p.getSizeInBytes())throw new xt("Interleaving error: "+n+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(e,n){const r=e.length,s=new Int32Array(r+n);for(let a=0;a<r;a++)s[a]=e[a]&255;new Qs(tt.QR_CODE_FIELD_256).encode(s,n);const o=new Uint8Array(n);for(let a=0;a<n;a++)o[a]=s[r+a];return o}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,r,s){const o=r.getCharacterCountBits(n);if(e>=1<<o)throw new xt(e+" is bigger than "+((1<<o)-1));s.appendBits(e,o)}static appendBytes(e,n,r,s){switch(n){case Oe.NUMERIC:wt.appendNumericBytes(e,r);break;case Oe.ALPHANUMERIC:wt.appendAlphanumericBytes(e,r);break;case Oe.BYTE:wt.append8BitBytes(e,r,s);break;case Oe.KANJI:wt.appendKanjiBytes(e,r);break;default:throw new xt("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=wt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=wt.getDigit(e.charAt(s));if(s+2<r){const a=wt.getDigit(e.charAt(s+1)),u=wt.getDigit(e.charAt(s+2));n.appendBits(o*100+a*10+u,10),s+=3}else if(s+1<r){const a=wt.getDigit(e.charAt(s+1));n.appendBits(o*10+a,7),s+=2}else n.appendBits(o,4),s++}}static appendAlphanumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=wt.getAlphanumericCode(e.charCodeAt(s));if(o===-1)throw new xt;if(s+1<r){const a=wt.getAlphanumericCode(e.charCodeAt(s+1));if(a===-1)throw new xt;n.appendBits(o*45+a,11),s+=2}else n.appendBits(o,6),s++}}static append8BitBytes(e,n,r){let s;try{s=Bt.encode(e,r)}catch(o){throw new xt(o)}for(let o=0,a=s.length;o!==a;o++){const u=s[o];n.appendBits(u,8)}}static appendKanjiBytes(e,n){let r;try{r=Bt.encode(e,se.SJIS)}catch(o){throw new xt(o)}const s=r.length;for(let o=0;o<s;o+=2){const a=r[o]&255,u=r[o+1]&255,f=a<<8&4294967295|u;let p=-1;if(f>=33088&&f<=40956?p=f-33088:f>=57408&&f<=60351&&(p=f-49472),p===-1)throw new xt("Invalid byte sequence");const C=(p>>8)*192+(p&255);n.appendBits(C,13)}}static appendECI(e,n){n.appendBits(Oe.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}wt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),wt.DEFAULT_BYTE_MODE_ENCODING=se.UTF8.getName();class Ur{write(e,n,r,s=null){if(e.length===0)throw new D("Found empty contents");if(n<0||r<0)throw new D("Requested dimensions are too small: "+n+"x"+r);let o=gt.L,a=Ur.QUIET_ZONE_SIZE;s!==null&&(s.get(Wt.ERROR_CORRECTION)!==void 0&&(o=gt.fromString(s.get(Wt.ERROR_CORRECTION).toString())),s.get(Wt.MARGIN)!==void 0&&(a=Number.parseInt(s.get(Wt.MARGIN).toString(),10)));const u=wt.encode(e,o,s);return this.renderResult(u,n,r,a)}writeToDom(e,n,r,s,o=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(n,r,s,o);e&&e.appendChild(a)}renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new jn;const a=o.getWidth(),u=o.getHeight(),f=a+s*2,p=u+s*2,C=Math.max(n,f),S=Math.max(r,p),T=Math.min(Math.floor(C/f),Math.floor(S/p)),M=Math.floor((C-a*T)/2),b=Math.floor((S-u*T)/2),B=this.createSVGElement(C,S);for(let U=0,W=b;U<u;U++,W+=T)for(let ie=0,oe=M;ie<a;ie++,oe+=T)if(o.get(ie,U)===1){const J=this.createSvgRectElement(oe,W,T,T);B.appendChild(J)}return B}createSVGElement(e,n){const r=document.createElementNS(Ur.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r}createSvgRectElement(e,n,r,s){const o=document.createElementNS(Ur.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}Ur.QUIET_ZONE_SIZE=4,Ur.SVG_NS="http://www.w3.org/2000/svg";class oi{encode(e,n,r,s,o){if(e.length===0)throw new D("Found empty contents");if(n!==ue.QR_CODE)throw new D("Can only encode QR_CODE, but got "+n);if(r<0||s<0)throw new D(`Requested dimensions are too small: ${r}x${s}`);let a=gt.L,u=oi.QUIET_ZONE_SIZE;o!==null&&(o.get(Wt.ERROR_CORRECTION)!==void 0&&(a=gt.fromString(o.get(Wt.ERROR_CORRECTION).toString())),o.get(Wt.MARGIN)!==void 0&&(u=Number.parseInt(o.get(Wt.MARGIN).toString(),10)));const f=wt.encode(e,a,o);return oi.renderResult(f,r,s,u)}static renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new jn;const a=o.getWidth(),u=o.getHeight(),f=a+s*2,p=u+s*2,C=Math.max(n,f),S=Math.max(r,p),T=Math.min(Math.floor(C/f),Math.floor(S/p)),M=Math.floor((C-a*T)/2),b=Math.floor((S-u*T)/2),B=new ct(C,S);for(let U=0,W=b;U<u;U++,W+=T)for(let ie=0,oe=M;ie<a;ie++,oe+=T)o.get(ie,U)===1&&B.setRegion(oe,W,T,T);return B}}oi.QUIET_ZONE_SIZE=4;class za{encode(e,n,r,s,o){let a;switch(n){case ue.QR_CODE:a=new oi;break;default:throw new D("No encoder available for format "+n)}return a.encode(e,n,r,s,o)}}class or extends de{constructor(e,n,r,s,o,a,u,f){if(super(a,u),this.yuvData=e,this.dataWidth=n,this.dataHeight=r,this.left=s,this.top=o,s+a>n||o+u>r)throw new D("Crop rectangle does not fit within image data.");f&&this.reverseHorizontal(a,u)}getRow(e,n){if(e<0||e>=this.getHeight())throw new D("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return te.arraycopy(this.yuvData,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return te.arraycopy(this.yuvData,o,s,0,r),s;for(let a=0;a<n;a++){const u=a*e;te.arraycopy(this.yuvData,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new or(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,s,!1)}renderThumbnail(){const e=this.getWidth()/or.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/or.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let a=0;a<n;a++){const u=a*e;for(let f=0;f<e;f++){const p=s[o+f*or.THUMBNAIL_SCALE_FACTOR]&255;r[u+f]=4278190080|p*65793}o+=this.dataWidth*or.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/or.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/or.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const r=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<n;s++,o+=this.dataWidth){const a=o+e/2;for(let u=o,f=o+e-1;u<a;u++,f--){const p=r[u];r[u]=r[f],r[f]=p}}}invert(){return new Ne(this)}}or.THUMBNAIL_SCALE_FACTOR=2;class ji extends de{constructor(e,n,r,s,o,a,u){if(super(n,r),this.dataWidth=s,this.dataHeight=o,this.left=a,this.top=u,e.BYTES_PER_ELEMENT===4){const f=n*r,p=new Uint8ClampedArray(f);for(let C=0;C<f;C++){const S=e[C],T=S>>16&255,M=S>>7&510,b=S&255;p[C]=(T+M+b)/4&255}this.luminances=p}else this.luminances=e;if(s===void 0&&(this.dataWidth=n),o===void 0&&(this.dataHeight=r),a===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+r>this.dataHeight)throw new D("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new D("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return te.arraycopy(this.luminances,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return te.arraycopy(this.luminances,o,s,0,r),s;for(let a=0;a<n;a++){const u=a*e;te.arraycopy(this.luminances,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new ji(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new Ne(this)}}class Fo extends se{static forName(e){return this.getCharacterSetECIByName(e)}}class Ks{}Ks.ISO_8859_1=se.ISO8859_1;class Uo{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class qs{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class Ha{constructor(e){this.previous=e}getPrevious(){return this.previous}}class ai extends Ha{constructor(e,n,r){super(e),this.value=n,this.bitCount=r}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new ai(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ai(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+fe.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Js extends ai{constructor(e,n,r){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=r}appendTo(e,n){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+r],8)}addBinaryShift(e,n){return new Js(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Va(A,e,n){return new Js(A,e,n)}function zi(A,e,n){return new ai(A,e,n)}const Wa=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Mr=0,li=1,ln=2,jo=3,Xn=4,zo=new ai(null,0,0),hs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ho(A){for(let e of A)Te.fill(e,-1);return A[Mr][Xn]=0,A[li][Xn]=0,A[li][Mr]=28,A[jo][Xn]=0,A[ln][Xn]=0,A[ln][Mr]=15,A}const $s=Ho(Te.createInt32Array(6,6));class gn{constructor(e,n,r,s){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let r=this.bitCount,s=this.token;if(e!==this.mode){let a=hs[this.mode][e];s=zi(s,a&65535,a>>16),r+=a>>16}let o=e===ln?4:5;return s=zi(s,n,o),new gn(s,e,0,r+o)}shiftAndAppend(e,n){let r=this.token,s=this.mode===ln?4:5;return r=zi(r,$s[this.mode][e],s),r=zi(r,n,5),new gn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(e){let n=this.token,r=this.mode,s=this.bitCount;if(this.mode===Xn||this.mode===ln){let u=hs[r][Mr];n=zi(n,u&65535,u>>16),s+=u>>16,r=Mr}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new gn(n,r,this.binaryShiftByteCount+1,s+o);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Va(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new gn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(hs[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=gn.calculateBinaryShiftCost(e)-gn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())n.unshift(s);let r=new ve;for(const s of n)s.appendTo(r,e);return r}toString(){return Me.format("%s bits=%d bytes=%d",Wa[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}gn.INITIAL_STATE=new gn(zo,Mr,0,0);function Ga(A){const e=Me.getCharCode(" "),n=Me.getCharCode("."),r=Me.getCharCode(",");A[Mr][e]=1;const s=Me.getCharCode("Z"),o=Me.getCharCode("A");for(let T=o;T<=s;T++)A[Mr][T]=T-o+2;A[li][e]=1;const a=Me.getCharCode("z"),u=Me.getCharCode("a");for(let T=u;T<=a;T++)A[li][T]=T-u+2;A[ln][e]=1;const f=Me.getCharCode("9"),p=Me.getCharCode("0");for(let T=p;T<=f;T++)A[ln][T]=T-p+2;A[ln][r]=12,A[ln][n]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<C.length;T++)A[jo][Me.getCharCode(C[T])]=T;const S=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<S.length;T++)Me.getCharCode(S[T])>0&&(A[Xn][Me.getCharCode(S[T])]=T);return A}const eo=Ga(Te.createInt32Array(5,256));class Hi{constructor(e){this.text=e}encode(){const e=Me.getCharCode(" "),n=Me.getCharCode(`
`);let r=qs.singletonList(gn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let a,u=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case Me.getCharCode("\r"):a=u===n?2:0;break;case Me.getCharCode("."):a=u===e?3:0;break;case Me.getCharCode(","):a=u===e?4:0;break;case Me.getCharCode(":"):a=u===e?5:0;break;default:a=0}a>0?(r=Hi.updateStateListForPair(r,o,a),o++):r=this.updateStateListForChar(r,o)}return qs.min(r,(o,a)=>o.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const r=[];for(let s of e)this.updateStateForChar(s,n,r);return Hi.simplifyStates(r)}updateStateForChar(e,n,r){let s=this.text[n]&255,o=eo[e.getMode()][s]>0,a=null;for(let u=0;u<=Xn;u++){let f=eo[u][s];if(f>0){if(a==null&&(a=e.endBinaryShift(n)),!o||u===e.getMode()||u===ln){const p=a.latchAndAppend(u,f);r.push(p)}if(!o&&$s[e.getMode()][u]>=0){const p=a.shiftAndAppend(u,f);r.push(p)}}}if(e.getBinaryShiftByteCount()>0||eo[e.getMode()][s]===0){let u=e.addBinaryShiftChar(n);r.push(u)}}static updateStateListForPair(e,n,r){const s=[];for(let o of e)this.updateStateForPair(o,n,r,s);return this.simplifyStates(s)}static updateStateForPair(e,n,r,s){let o=e.endBinaryShift(n);if(s.push(o.latchAndAppend(Xn,r)),e.getMode()!==Xn&&s.push(o.shiftAndAppend(Xn,r)),r===3||r===4){let a=o.latchAndAppend(ln,16-r).latchAndAppend(ln,1);s.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);s.push(a)}}static simplifyStates(e){let n=[];for(const r of e){let s=!0;for(const o of n){if(o.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(o)&&(n=n.filter(a=>a!==o))}s&&n.push(r)}return n}}class nt{constructor(){}static encodeBytes(e){return nt.encode(e,nt.DEFAULT_EC_PERCENT,nt.DEFAULT_AZTEC_LAYERS)}static encode(e,n,r){let s=new Hi(e).encode(),o=fe.truncDivision(s.getSize()*n,100)+11,a=s.getSize()+o,u,f,p,C,S;if(r!==nt.DEFAULT_AZTEC_LAYERS){if(u=r<0,f=Math.abs(r),f>(u?nt.MAX_NB_BITS_COMPACT:nt.MAX_NB_BITS))throw new D(Me.format("Illegal value %s for layers",r));p=nt.totalBitsInLayer(f,u),C=nt.WORD_SIZE[f];let J=p-p%C;if(S=nt.stuffBits(s,C),S.getSize()+o>J)throw new D("Data to large for user specified layer");if(u&&S.getSize()>C*64)throw new D("Data to large for user specified layer")}else{C=0,S=null;for(let J=0;;J++){if(J>nt.MAX_NB_BITS)throw new D("Data too large for an Aztec code");if(u=J<=3,f=u?J+1:J,p=nt.totalBitsInLayer(f,u),a>p)continue;(S==null||C!==nt.WORD_SIZE[f])&&(C=nt.WORD_SIZE[f],S=nt.stuffBits(s,C));let Qe=p-p%C;if(!(u&&S.getSize()>C*64)&&S.getSize()+o<=Qe)break}}let T=nt.generateCheckWords(S,p,C),M=S.getSize()/C,b=nt.generateModeMessage(u,f,M),B=(u?11:14)+f*4,U=new Int32Array(B),W;if(u){W=B;for(let J=0;J<U.length;J++)U[J]=J}else{W=B+1+2*fe.truncDivision(fe.truncDivision(B,2)-1,15);let J=fe.truncDivision(B,2),Qe=fe.truncDivision(W,2);for(let ze=0;ze<J;ze++){let An=ze+fe.truncDivision(ze,15);U[J-ze-1]=Qe-An-1,U[J+ze]=Qe+An+1}}let ie=new ct(W);for(let J=0,Qe=0;J<f;J++){let ze=(f-J)*4+(u?9:12);for(let An=0;An<ze;An++){let Zn=An*2;for(let Gt=0;Gt<2;Gt++)T.get(Qe+Zn+Gt)&&ie.set(U[J*2+Gt],U[J*2+An]),T.get(Qe+ze*2+Zn+Gt)&&ie.set(U[J*2+An],U[B-1-J*2-Gt]),T.get(Qe+ze*4+Zn+Gt)&&ie.set(U[B-1-J*2-Gt],U[B-1-J*2-An]),T.get(Qe+ze*6+Zn+Gt)&&ie.set(U[B-1-J*2-An],U[J*2+Gt])}Qe+=ze*8}if(nt.drawModeMessage(ie,u,W,b),u)nt.drawBullsEye(ie,fe.truncDivision(W,2),5);else{nt.drawBullsEye(ie,fe.truncDivision(W,2),7);for(let J=0,Qe=0;J<fe.truncDivision(B,2)-1;J+=15,Qe+=16)for(let ze=fe.truncDivision(W,2)&1;ze<W;ze+=2)ie.set(fe.truncDivision(W,2)-Qe,ze),ie.set(fe.truncDivision(W,2)+Qe,ze),ie.set(ze,fe.truncDivision(W,2)-Qe),ie.set(ze,fe.truncDivision(W,2)+Qe)}let oe=new Uo;return oe.setCompact(u),oe.setSize(W),oe.setLayers(f),oe.setCodeWords(M),oe.setMatrix(ie),oe}static drawBullsEye(e,n,r){for(let s=0;s<r;s+=2)for(let o=n-s;o<=n+s;o++)e.set(o,n-s),e.set(o,n+s),e.set(n-s,o),e.set(n+s,o);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)}static generateModeMessage(e,n,r){let s=new ve;return e?(s.appendBits(n-1,2),s.appendBits(r-1,6),s=nt.generateCheckWords(s,28,4)):(s.appendBits(n-1,5),s.appendBits(r-1,11),s=nt.generateCheckWords(s,40,4)),s}static drawModeMessage(e,n,r,s){let o=fe.truncDivision(r,2);if(n)for(let a=0;a<7;a++){let u=o-3+a;s.get(a)&&e.set(u,o-5),s.get(a+7)&&e.set(o+5,u),s.get(20-a)&&e.set(u,o+5),s.get(27-a)&&e.set(o-5,u)}else for(let a=0;a<10;a++){let u=o-5+a+fe.truncDivision(a,5);s.get(a)&&e.set(u,o-7),s.get(a+10)&&e.set(o+7,u),s.get(29-a)&&e.set(u,o+7),s.get(39-a)&&e.set(o-7,u)}}static generateCheckWords(e,n,r){let s=e.getSize()/r,o=new Qs(nt.getGF(r)),a=fe.truncDivision(n,r),u=nt.bitsToWords(e,r,a);o.encode(u,a-s);let f=n%r,p=new ve;p.appendBits(0,f);for(const C of Array.from(u))p.appendBits(C,r);return p}static bitsToWords(e,n,r){let s=new Int32Array(r),o,a;for(o=0,a=e.getSize()/n;o<a;o++){let u=0;for(let f=0;f<n;f++)u|=e.get(o*n+f)?1<<n-f-1:0;s[o]=u}return s}static getGF(e){switch(e){case 4:return tt.AZTEC_PARAM;case 6:return tt.AZTEC_DATA_6;case 8:return tt.AZTEC_DATA_8;case 10:return tt.AZTEC_DATA_10;case 12:return tt.AZTEC_DATA_12;default:throw new D("Unsupported word size "+e)}}static stuffBits(e,n){let r=new ve,s=e.getSize(),o=(1<<n)-2;for(let a=0;a<s;a+=n){let u=0;for(let f=0;f<n;f++)(a+f>=s||e.get(a+f))&&(u|=1<<n-1-f);(u&o)===o?(r.appendBits(u&o,n),a--):(u&o)===0?(r.appendBits(u|1,n),a--):r.appendBits(u,n)}return r}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}nt.DEFAULT_EC_PERCENT=33,nt.DEFAULT_AZTEC_LAYERS=0,nt.MAX_NB_BITS=32,nt.MAX_NB_BITS_COMPACT=4,nt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Vi{encode(e,n,r,s){return this.encodeWithHints(e,n,r,s,null)}encodeWithHints(e,n,r,s,o){let a=Ks.ISO_8859_1,u=nt.DEFAULT_EC_PERCENT,f=nt.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(Wt.CHARACTER_SET)&&(a=Fo.forName(o.get(Wt.CHARACTER_SET).toString())),o.has(Wt.ERROR_CORRECTION)&&(u=fe.parseInt(o.get(Wt.ERROR_CORRECTION).toString())),o.has(Wt.AZTEC_LAYERS)&&(f=fe.parseInt(o.get(Wt.AZTEC_LAYERS).toString()))),Vi.encodeLayers(e,n,r,s,a,u,f)}static encodeLayers(e,n,r,s,o,a,u){if(n!==ue.AZTEC)throw new D("Can only encode AZTEC, but got "+n);let f=nt.encode(Me.getBytes(e,o),a,u);return Vi.renderResult(f,r,s)}static renderResult(e,n,r){let s=e.getMatrix();if(s==null)throw new jn;let o=s.getWidth(),a=s.getHeight(),u=Math.max(n,o),f=Math.max(r,a),p=Math.min(u/o,f/a),C=(u-o*p)/2,S=(f-a*p)/2,T=new ct(u,f);for(let M=0,b=S;M<a;M++,b+=p)for(let B=0,U=C;B<o;B++,U+=p)s.get(B,M)&&T.setRegion(U,b,p,p);return T}}d.AbstractExpandedDecoder=Us,d.ArgumentException=P,d.ArithmeticException=Oi,d.AztecCode=Uo,d.AztecCodeReader=vr,d.AztecCodeWriter=Vi,d.AztecDecoder=pt,d.AztecDetector=Jr,d.AztecDetectorResult=Ls,d.AztecEncoder=nt,d.AztecHighLevelEncoder=Hi,d.AztecPoint=on,d.BarcodeFormat=ue,d.Binarizer=Re,d.BinaryBitmap=ae,d.BitArray=ve,d.BitMatrix=ct,d.BitSource=Hs,d.BrowserAztecCodeReader=Fa,d.BrowserBarcodeReader=Ro,d.BrowserCodeReader=Fe,d.BrowserDatamatrixCodeReader=Ua,d.BrowserMultiFormatReader=Ui,d.BrowserPDF417Reader=fs,d.BrowserQRCodeReader=Po,d.BrowserQRCodeSvgWriter=Ur,d.CharacterSetECI=se,d.ChecksumException=he,d.Code128Reader=ce,d.Code39Reader=Ht,d.DataMatrixDecodedBitStreamParser=Wn,d.DataMatrixReader=Gn,d.DecodeHintType=We,d.DecoderResult=dt,d.DefaultGridSampler=rs,d.DetectorResult=qr,d.EAN13Reader=Rn,d.EncodeHintType=Wt,d.Exception=I,d.FormatException=ne,d.GenericGF=tt,d.GenericGFPoly=qt,d.GlobalHistogramBinarizer=it,d.GridSampler=ns,d.GridSamplerInstance=zn,d.HTMLCanvasElementLuminanceSource=ge,d.HybridBinarizer=Ae,d.ITFReader=lt,d.IllegalArgumentException=D,d.IllegalStateException=jn,d.InvertedLuminanceSource=Ne,d.LuminanceSource=de,d.MathUtils=Je,d.MultiFormatOneDReader=ei,d.MultiFormatReader=cs,d.MultiFormatWriter=za,d.NotFoundException=Z,d.OneDReader=Dt,d.PDF417DecodedBitStreamParser=G,d.PDF417DecoderErrorCorrection=Gs,d.PDF417Reader=nn,d.PDF417ResultMetadata=ls,d.PerspectiveTransform=On,d.PlanarYUVLuminanceSource=or,d.QRCodeByteMatrix=ds,d.QRCodeDataMask=Ze,d.QRCodeDecodedBitStreamParser=It,d.QRCodeDecoderErrorCorrectionLevel=gt,d.QRCodeDecoderFormatInformation=$t,d.QRCodeEncoder=wt,d.QRCodeEncoderQRCode=Fr,d.QRCodeMaskUtil=vt,d.QRCodeMatrixUtil=be,d.QRCodeMode=Oe,d.QRCodeReader=hn,d.QRCodeVersion=_e,d.QRCodeWriter=oi,d.RGBLuminanceSource=ji,d.RSS14Reader=Ct,d.RSSExpandedReader=K,d.ReaderException=si,d.ReedSolomonDecoder=Kr,d.ReedSolomonEncoder=Qs,d.ReedSolomonException=Sr,d.Result=De,d.ResultMetadataType=Pe,d.ResultPoint=we,d.StringUtils=Me,d.UnsupportedOperationException=wn,d.VideoInputDevice=j,d.WhiteRectangleDetector=tr,d.WriterException=xt,d.ZXingArrays=Te,d.ZXingCharset=Fo,d.ZXingInteger=fe,d.ZXingStandardCharsets=Ks,d.ZXingStringBuilder=Ye,d.ZXingStringEncoding=Bt,d.ZXingSystem=te,d.createAbstractExpandedDecoder=Mo,Object.defineProperty(d,"__esModule",{value:!0})}))})(So,So.exports)),So.exports}var Mt=Ad();const Sd=q1(Mt),Id=K1({__proto__:null,default:Sd},[Mt]);var U1=(function(){function h(g,d,w){if(this.formatMap=new Map([[ye.QR_CODE,Mt.BarcodeFormat.QR_CODE],[ye.AZTEC,Mt.BarcodeFormat.AZTEC],[ye.CODABAR,Mt.BarcodeFormat.CODABAR],[ye.CODE_39,Mt.BarcodeFormat.CODE_39],[ye.CODE_93,Mt.BarcodeFormat.CODE_93],[ye.CODE_128,Mt.BarcodeFormat.CODE_128],[ye.DATA_MATRIX,Mt.BarcodeFormat.DATA_MATRIX],[ye.MAXICODE,Mt.BarcodeFormat.MAXICODE],[ye.ITF,Mt.BarcodeFormat.ITF],[ye.EAN_13,Mt.BarcodeFormat.EAN_13],[ye.EAN_8,Mt.BarcodeFormat.EAN_8],[ye.PDF_417,Mt.BarcodeFormat.PDF_417],[ye.RSS_14,Mt.BarcodeFormat.RSS_14],[ye.RSS_EXPANDED,Mt.BarcodeFormat.RSS_EXPANDED],[ye.UPC_A,Mt.BarcodeFormat.UPC_A],[ye.UPC_E,Mt.BarcodeFormat.UPC_E],[ye.UPC_EAN_EXTENSION,Mt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Id)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=d,this.logger=w;var E=this.createZXingFormats(g),y=new Map;y.set(Mt.DecodeHintType.POSSIBLE_FORMATS,E),y.set(Mt.DecodeHintType.TRY_HARDER,!1),this.hints=y}return h.prototype.decodeAsync=function(g){var d=this;return new Promise(function(w,E){try{w(d.decode(g))}catch(y){E(y)}})},h.prototype.decode=function(g){var d=new Mt.MultiFormatReader(this.verbose,this.hints),w=new Mt.HTMLCanvasElementLuminanceSource(g),E=new Mt.BinaryBitmap(new Mt.HybridBinarizer(w)),y=d.decode(E);return{text:y.text,format:l0.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}},h.prototype.createReverseFormatMap=function(){var g=new Map;return this.formatMap.forEach(function(d,w,E){g.set(d,w)}),g},h.prototype.toHtml5QrcodeSupportedFormats=function(g){if(!this.reverseFormatMap.has(g))throw"reverseFormatMap doesn't have ".concat(g);return this.reverseFormatMap.get(g)},h.prototype.createZXingFormats=function(g){for(var d=[],w=0,E=g;w<E.length;w++){var y=E[w];this.formatMap.has(y)?d.push(this.formatMap.get(y)):this.logger.logError("".concat(y," is not supported by")+"ZXingHtml5QrcodeShim")}return d},h.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},h})(),vd=function(h,g,d,w){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function L(P){try{I(w.next(P))}catch(D){N(D)}}function R(P){try{I(w.throw(P))}catch(D){N(D)}}function I(P){P.done?y(P.value):E(P.value).then(L,R)}I((w=w.apply(h,g||[])).next())})},Td=function(h,g){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},w,E,y,N;return N={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function L(I){return function(P){return R([I,P])}}function R(I){if(w)throw new TypeError("Generator is already executing.");for(;N&&(N=0,I[0]&&(d=0)),d;)try{if(w=1,E&&(y=I[0]&2?E.return:I[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,I[1])).done)return y;switch(E=0,y&&(I=[I[0]&2,y.value]),I[0]){case 0:case 1:y=I;break;case 4:return d.label++,{value:I[1],done:!1};case 5:d.label++,E=I[1],I=[0];continue;case 7:I=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(I[0]===6||I[0]===2)){d=0;continue}if(I[0]===3&&(!y||I[1]>y[0]&&I[1]<y[3])){d.label=I[1];break}if(I[0]===6&&d.label<y[1]){d.label=y[1],y=I;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(I);break}y[2]&&d.ops.pop(),d.trys.pop();continue}I=g.call(h,d)}catch(P){I=[6,P],E=0}finally{w=y=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},j1=(function(){function h(g,d,w){if(this.formatMap=new Map([[ye.QR_CODE,"qr_code"],[ye.AZTEC,"aztec"],[ye.CODABAR,"codabar"],[ye.CODE_39,"code_39"],[ye.CODE_93,"code_93"],[ye.CODE_128,"code_128"],[ye.DATA_MATRIX,"data_matrix"],[ye.ITF,"itf"],[ye.EAN_13,"ean_13"],[ye.EAN_8,"ean_8"],[ye.PDF_417,"pdf417"],[ye.UPC_A,"upc_a"],[ye.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!h.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=d,this.logger=w;var E=this.createBarcodeDetectorFormats(g);if(this.detector=new BarcodeDetector(E),!this.detector)throw"BarcodeDetector detector not supported"}return h.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var g=new BarcodeDetector({formats:["qr_code"]});return typeof g<"u"},h.prototype.decodeAsync=function(g){return vd(this,void 0,void 0,function(){var d,w;return Td(this,function(E){switch(E.label){case 0:return[4,this.detector.detect(g)];case 1:if(d=E.sent(),!d||d.length===0)throw"No barcode or QR code detected.";return w=this.selectLargestBarcode(d),[2,{text:w.rawValue,format:l0.create(this.toHtml5QrcodeSupportedFormats(w.format)),debugData:this.createDebugData()}]}})})},h.prototype.selectLargestBarcode=function(g){for(var d=null,w=0,E=0,y=g;E<y.length;E++){var N=y[E],L=N.boundingBox.width*N.boundingBox.height;L>w&&(w=L,d=N)}if(!d)throw"No largest barcode found";return d},h.prototype.createBarcodeDetectorFormats=function(g){for(var d=[],w=0,E=g;w<E.length;w++){var y=E[w];this.formatMap.has(y)?d.push(this.formatMap.get(y)):this.logger.warn("".concat(y," is not supported by")+"BarcodeDetectorDelegate")}return{formats:d}},h.prototype.toHtml5QrcodeSupportedFormats=function(g){if(!this.reverseFormatMap.has(g))throw"reverseFormatMap doesn't have ".concat(g);return this.reverseFormatMap.get(g)},h.prototype.createReverseFormatMap=function(){var g=new Map;return this.formatMap.forEach(function(d,w,E){g.set(d,w)}),g},h.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},h})(),z1=function(h,g,d,w){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function L(P){try{I(w.next(P))}catch(D){N(D)}}function R(P){try{I(w.throw(P))}catch(D){N(D)}}function I(P){P.done?y(P.value):E(P.value).then(L,R)}I((w=w.apply(h,g||[])).next())})},H1=function(h,g){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},w,E,y,N;return N={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function L(I){return function(P){return R([I,P])}}function R(I){if(w)throw new TypeError("Generator is already executing.");for(;N&&(N=0,I[0]&&(d=0)),d;)try{if(w=1,E&&(y=I[0]&2?E.return:I[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,I[1])).done)return y;switch(E=0,y&&(I=[I[0]&2,y.value]),I[0]){case 0:case 1:y=I;break;case 4:return d.label++,{value:I[1],done:!1};case 5:d.label++,E=I[1],I=[0];continue;case 7:I=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(I[0]===6||I[0]===2)){d=0;continue}if(I[0]===3&&(!y||I[1]>y[0]&&I[1]<y[3])){d.label=I[1];break}if(I[0]===6&&d.label<y[1]){d.label=y[1],y=I;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(I);break}y[2]&&d.ops.pop(),d.trys.pop();continue}I=g.call(h,d)}catch(P){I=[6,P],E=0}finally{w=y=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},Nd=(function(){function h(g,d,w,E){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=w,d&&j1.isSupported()?(this.primaryDecoder=new j1(g,w,E),this.secondaryDecoder=new U1(g,w,E)):this.primaryDecoder=new U1(g,w,E)}return h.prototype.decodeAsync=function(g){return z1(this,void 0,void 0,function(){var d;return H1(this,function(w){switch(w.label){case 0:d=performance.now(),w.label=1;case 1:return w.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(g)];case 2:return[2,w.sent()];case 3:return this.possiblyLogPerformance(d),[7];case 4:return[2]}})})},h.prototype.decodeRobustlyAsync=function(g){return z1(this,void 0,void 0,function(){var d,w;return H1(this,function(E){switch(E.label){case 0:d=performance.now(),E.label=1;case 1:return E.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(g)];case 2:return[2,E.sent()];case 3:if(w=E.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(g)];throw w;case 4:return this.possiblyLogPerformance(d),[7];case 5:return[2]}})})},h.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},h.prototype.possiblyLogPerformance=function(g){if(this.verbose){var d=performance.now()-g;this.executionResults.push(d),this.executions++,this.possiblyFlushPerformanceReport()}},h.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var g=0,d=0,w=this.executionResults;d<w.length;d++){var E=w[d];g+=E}var y=g/this.executionResults.length;console.log("".concat(y," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},h})(),Su=(function(){var h=function(g,d){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var y in E)Object.prototype.hasOwnProperty.call(E,y)&&(w[y]=E[y])},h(g,d)};return function(g,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");h(g,d);function w(){this.constructor=g}g.prototype=d===null?Object.create(d):(w.prototype=d.prototype,new w)}})(),ka=function(h,g,d,w){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function L(P){try{I(w.next(P))}catch(D){N(D)}}function R(P){try{I(w.throw(P))}catch(D){N(D)}}function I(P){P.done?y(P.value):E(P.value).then(L,R)}I((w=w.apply(h,g||[])).next())})},Ba=function(h,g){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},w,E,y,N;return N={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function L(I){return function(P){return R([I,P])}}function R(I){if(w)throw new TypeError("Generator is already executing.");for(;N&&(N=0,I[0]&&(d=0)),d;)try{if(w=1,E&&(y=I[0]&2?E.return:I[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,I[1])).done)return y;switch(E=0,y&&(I=[I[0]&2,y.value]),I[0]){case 0:case 1:y=I;break;case 4:return d.label++,{value:I[1],done:!1};case 5:d.label++,E=I[1],I=[0];continue;case 7:I=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(I[0]===6||I[0]===2)){d=0;continue}if(I[0]===3&&(!y||I[1]>y[0]&&I[1]<y[3])){d.label=I[1];break}if(I[0]===6&&d.label<y[1]){d.label=y[1],y=I;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(I);break}y[2]&&d.ops.pop(),d.trys.pop();continue}I=g.call(h,d)}catch(P){I=[6,P],E=0}finally{w=y=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},d0=(function(){function h(g,d){this.name=g,this.track=d}return h.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},h.prototype.apply=function(g){var d={};d[this.name]=g;var w={advanced:[d]};return this.track.applyConstraints(w)},h.prototype.value=function(){var g=this.track.getSettings();if(this.name in g){var d=g[this.name];return d}return null},h})(),_d=(function(h){Su(g,h);function g(d,w){return h.call(this,d,w)||this}return g.prototype.min=function(){return this.getCapabilities().min},g.prototype.max=function(){return this.getCapabilities().max},g.prototype.step=function(){return this.getCapabilities().step},g.prototype.apply=function(d){var w={};w[this.name]=d;var E={advanced:[w]};return this.track.applyConstraints(E)},g.prototype.getCapabilities=function(){this.failIfNotSupported();var d=this.track.getCapabilities(),w=d[this.name];return{min:w.min,max:w.max,step:w.step}},g.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},g})(d0),Md=(function(h){Su(g,h);function g(d){return h.call(this,"zoom",d)||this}return g})(_d),Od=(function(h){Su(g,h);function g(d){return h.call(this,"torch",d)||this}return g})(d0),Rd=(function(){function h(g){this.track=g}return h.prototype.zoomFeature=function(){return new Md(this.track)},h.prototype.torchFeature=function(){return new Od(this.track)},h})(),Dd=(function(){function h(g,d,w){this.isClosed=!1,this.parentElement=g,this.mediaStream=d,this.callbacks=w,this.surface=this.createVideoElement(this.parentElement.clientWidth),g.append(this.surface)}return h.prototype.createVideoElement=function(g){var d=document.createElement("video");return d.style.width="".concat(g,"px"),d.style.display="block",d.muted=!0,d.setAttribute("muted","true"),d.playsInline=!0,d},h.prototype.setupSurface=function(){var g=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var d=function(){var w=g.surface.clientWidth,E=g.surface.clientHeight;g.callbacks.onRenderSurfaceReady(w,E),g.surface.removeEventListener("playing",d)};this.surface.addEventListener("playing",d),this.surface.srcObject=this.mediaStream,this.surface.play()},h.create=function(g,d,w,E){return ka(this,void 0,void 0,function(){var y,N;return Ba(this,function(L){switch(L.label){case 0:return y=new h(g,d,E),w.aspectRatio?(N={aspectRatio:w.aspectRatio},[4,y.getFirstTrackOrFail().applyConstraints(N)]):[3,2];case 1:L.sent(),L.label=2;case 2:return y.setupSurface(),[2,y]}})})},h.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},h.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},h.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},h.prototype.resume=function(g){this.failIfClosed();var d=this,w=function(){setTimeout(g,200),d.surface.removeEventListener("playing",w)};this.surface.addEventListener("playing",w),this.surface.play()},h.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},h.prototype.getSurface=function(){return this.failIfClosed(),this.surface},h.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},h.prototype.applyVideoConstraints=function(g){return ka(this,void 0,void 0,function(){return Ba(this,function(d){if("aspectRatio"in g)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(g)]})})},h.prototype.close=function(){if(this.isClosed)return Promise.resolve();var g=this;return new Promise(function(d,w){var E=g.mediaStream.getVideoTracks(),y=E.length,N=0;g.mediaStream.getVideoTracks().forEach(function(L){g.mediaStream.removeTrack(L),L.stop(),++N,N>=y&&(g.isClosed=!0,g.parentElement.removeChild(g.surface),d())})})},h.prototype.getCapabilities=function(){return new Rd(this.getFirstTrackOrFail())},h})(),bd=(function(){function h(g){this.mediaStream=g}return h.prototype.render=function(g,d,w){return ka(this,void 0,void 0,function(){return Ba(this,function(E){return[2,Dd.create(g,this.mediaStream,d,w)]})})},h.create=function(g){return ka(this,void 0,void 0,function(){var d,w;return Ba(this,function(E){switch(E.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return d={audio:!1,video:g},[4,navigator.mediaDevices.getUserMedia(d)];case 1:return w=E.sent(),[2,new h(w)]}})})},h})(),V1=function(h,g,d,w){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function L(P){try{I(w.next(P))}catch(D){N(D)}}function R(P){try{I(w.throw(P))}catch(D){N(D)}}function I(P){P.done?y(P.value):E(P.value).then(L,R)}I((w=w.apply(h,g||[])).next())})},W1=function(h,g){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},w,E,y,N;return N={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function L(I){return function(P){return R([I,P])}}function R(I){if(w)throw new TypeError("Generator is already executing.");for(;N&&(N=0,I[0]&&(d=0)),d;)try{if(w=1,E&&(y=I[0]&2?E.return:I[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,I[1])).done)return y;switch(E=0,y&&(I=[I[0]&2,y.value]),I[0]){case 0:case 1:y=I;break;case 4:return d.label++,{value:I[1],done:!1};case 5:d.label++,E=I[1],I=[0];continue;case 7:I=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(I[0]===6||I[0]===2)){d=0;continue}if(I[0]===3&&(!y||I[1]>y[0]&&I[1]<y[3])){d.label=I[1];break}if(I[0]===6&&d.label<y[1]){d.label=y[1],y=I;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(I);break}y[2]&&d.ops.pop(),d.trys.pop();continue}I=g.call(h,d)}catch(P){I=[6,P],E=0}finally{w=y=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},Ld=(function(){function h(){}return h.failIfNotSupported=function(){return V1(this,void 0,void 0,function(){return W1(this,function(g){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new h]})})},h.prototype.create=function(g){return V1(this,void 0,void 0,function(){return W1(this,function(d){return[2,bd.create(g)]})})},h})(),kd=function(h,g,d,w){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function L(P){try{I(w.next(P))}catch(D){N(D)}}function R(P){try{I(w.throw(P))}catch(D){N(D)}}function I(P){P.done?y(P.value):E(P.value).then(L,R)}I((w=w.apply(h,g||[])).next())})},Bd=function(h,g){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},w,E,y,N;return N={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function L(I){return function(P){return R([I,P])}}function R(I){if(w)throw new TypeError("Generator is already executing.");for(;N&&(N=0,I[0]&&(d=0)),d;)try{if(w=1,E&&(y=I[0]&2?E.return:I[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,I[1])).done)return y;switch(E=0,y&&(I=[I[0]&2,y.value]),I[0]){case 0:case 1:y=I;break;case 4:return d.label++,{value:I[1],done:!1};case 5:d.label++,E=I[1],I=[0];continue;case 7:I=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(I[0]===6||I[0]===2)){d=0;continue}if(I[0]===3&&(!y||I[1]>y[0]&&I[1]<y[3])){d.label=I[1];break}if(I[0]===6&&d.label<y[1]){d.label=y[1],y=I;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(I);break}y[2]&&d.ops.pop(),d.trys.pop();continue}I=g.call(h,d)}catch(P){I=[6,P],E=0}finally{w=y=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},Pd=(function(){function h(){}return h.retrieve=function(){if(navigator.mediaDevices)return h.getCamerasFromMediaDevices();var g=MediaStreamTrack;return MediaStreamTrack&&g.getSources?h.getCamerasFromMediaStreamTrack():h.rejectWithError()},h.rejectWithError=function(){var g=Rs.unableToQuerySupportedDevices();return h.isHttpsOrLocalhost()||(g=Rs.insecureContextCameraQueryError()),Promise.reject(g)},h.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var g=location.host.split(":")[0];return g==="127.0.0.1"||g==="localhost"},h.getCamerasFromMediaDevices=function(){return kd(this,void 0,void 0,function(){var g,d,w,E,y,N,L;return Bd(this,function(R){switch(R.label){case 0:return g=function(I){for(var P=I.getVideoTracks(),D=0,ae=P;D<ae.length;D++){var he=ae[D];he.enabled=!1,he.stop(),I.removeTrack(he)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return d=R.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(w=R.sent(),E=[],y=0,N=w;y<N.length;y++)L=N[y],L.kind==="videoinput"&&E.push({id:L.deviceId,label:L.label});return g(d),[2,E]}})})},h.getCamerasFromMediaStreamTrack=function(){return new Promise(function(g,d){var w=function(y){for(var N=[],L=0,R=y;L<R.length;L++){var I=R[L];I.kind==="video"&&N.push({id:I.id,label:I.label})}g(N)},E=MediaStreamTrack;E.getSources(w)})},h})(),jt;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.NOT_STARTED=1]="NOT_STARTED",h[h.SCANNING=2]="SCANNING",h[h.PAUSED=3]="PAUSED"})(jt||(jt={}));var Fd=(function(){function h(){this.state=jt.NOT_STARTED,this.onGoingTransactionNewState=jt.UNKNOWN}return h.prototype.directTransition=function(g){this.failIfTransitionOngoing(),this.validateTransition(g),this.state=g},h.prototype.startTransition=function(g){return this.failIfTransitionOngoing(),this.validateTransition(g),this.onGoingTransactionNewState=g,this},h.prototype.execute=function(){if(this.onGoingTransactionNewState===jt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var g=this.onGoingTransactionNewState;this.onGoingTransactionNewState=jt.UNKNOWN,this.directTransition(g)},h.prototype.cancel=function(){if(this.onGoingTransactionNewState===jt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=jt.UNKNOWN},h.prototype.getState=function(){return this.state},h.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==jt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},h.prototype.validateTransition=function(g){switch(this.state){case jt.UNKNOWN:throw"Transition from unknown is not allowed";case jt.NOT_STARTED:this.failIfNewStateIs(g,[jt.PAUSED]);break;case jt.SCANNING:break;case jt.PAUSED:break}},h.prototype.failIfNewStateIs=function(g,d){for(var w=0,E=d;w<E.length;w++){var y=E[w];if(g===y)throw"Cannot transition from ".concat(this.state," to ").concat(g)}},h})(),Ud=(function(){function h(g){this.stateManager=g}return h.prototype.startTransition=function(g){return this.stateManager.startTransition(g)},h.prototype.directTransition=function(g){this.stateManager.directTransition(g)},h.prototype.getState=function(){return this.stateManager.getState()},h.prototype.canScanFile=function(){return this.stateManager.getState()===jt.NOT_STARTED},h.prototype.isScanning=function(){return this.stateManager.getState()!==jt.NOT_STARTED},h.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===jt.SCANNING},h.prototype.isPaused=function(){return this.stateManager.getState()===jt.PAUSED},h})(),jd=(function(){function h(){}return h.create=function(){return new Ud(new Fd)},h})(),zd=(function(){var h=function(g,d){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var y in E)Object.prototype.hasOwnProperty.call(E,y)&&(w[y]=E[y])},h(g,d)};return function(g,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");h(g,d);function w(){this.constructor=g}g.prototype=d===null?Object.create(d):(w.prototype=d.prototype,new w)}})(),Jn=(function(h){zd(g,h);function g(){return h!==null&&h.apply(this,arguments)||this}return g.DEFAULT_WIDTH=300,g.DEFAULT_WIDTH_OFFSET=2,g.FILE_SCAN_MIN_HEIGHT=300,g.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,g.MIN_QR_BOX_SIZE=50,g.SHADED_LEFT=1,g.SHADED_RIGHT=2,g.SHADED_TOP=3,g.SHADED_BOTTOM=4,g.SHADED_REGION_ELEMENT_ID="qr-shaded-region",g.VERBOSE=!1,g.BORDER_SHADER_DEFAULT_COLOR="#ffffff",g.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",g})(Ar),Hd=(function(){function h(g,d){this.logger=d,this.fps=Jn.SCAN_DEFAULT_FPS,g?(g.fps&&(this.fps=g.fps),this.disableFlip=g.disableFlip===!0,this.qrbox=g.qrbox,this.aspectRatio=g.aspectRatio,this.videoConstraints=g.videoConstraints):this.disableFlip=Jn.DEFAULT_DISABLE_FLIP}return h.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?f0.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},h.prototype.isShadedBoxEnabled=function(){return!Lr(this.qrbox)},h.create=function(g,d){return new h(g,d)},h})(),G1=(function(){function h(g,d){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(g))throw"HTML Element with id=".concat(g," not found");this.elementId=g,this.verbose=!1;var w;typeof d=="boolean"?this.verbose=d===!0:d&&(w=d,this.verbose=w.verbose===!0,w.experimentalFeatures),this.logger=new c0(this.verbose),this.qrcode=new Nd(this.getSupportedFormats(d),this.getUseBarCodeDetectorIfSupported(w),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=jd.create()}return h.prototype.start=function(g,d,w,E){var y=this;if(!g)throw"cameraIdOrConfig is required";if(!w||typeof w!="function")throw"qrCodeSuccessCallback is required and should be a function.";var N;E?N=E:N=this.verbose?this.logger.log:function(){};var L=Hd.create(d,this.logger);this.clearElement();var R=!1;L.videoConstraints&&(L.isMediaStreamConstraintsValid()?R=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var I=R,P=document.getElementById(this.elementId);P.clientWidth?P.clientWidth:Jn.DEFAULT_WIDTH,P.style.position="relative",this.shouldScan=!0,this.element=P;var D=this,ae=this.stateManagerProxy.startTransition(jt.SCANNING);return new Promise(function(he,Re){var te=I?L.videoConstraints:D.createVideoConstraints(g);if(!te){ae.cancel(),Re("videoConstraints should be defined");return}var ee={};(!I||L.aspectRatio)&&(ee.aspectRatio=L.aspectRatio);var He={onRenderSurfaceReady:function(Te,fe){D.setupUi(Te,fe,L),D.isScanning=!0,D.foreverScan(L,w,N)}};Ld.failIfNotSupported().then(function(Te){Te.create(te).then(function(fe){return fe.render(y.element,ee,He).then(function(ve){D.renderedCamera=ve,ae.execute(),he(null)}).catch(function(ve){ae.cancel(),Re(ve)})}).catch(function(fe){ae.cancel(),Re(Rs.errorGettingUserMedia(fe))})}).catch(function(Te){ae.cancel(),Re(Rs.cameraStreamingNotSupported())})})},h.prototype.pause=function(g){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(jt.PAUSED),this.showPausedState(),(Lr(g)||g!==!0)&&(g=!1),g&&this.renderedCamera&&this.renderedCamera.pause()},h.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var g=this,d=function(){g.stateManagerProxy.directTransition(jt.SCANNING),g.hidePausedState()};if(!this.renderedCamera.isPaused()){d();return}this.renderedCamera.resume(function(){d()})},h.prototype.getState=function(){return this.stateManagerProxy.getState()},h.prototype.stop=function(){var g=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var d=this.stateManagerProxy.startTransition(jt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var w=function(){if(g.element){var y=document.getElementById(Jn.SHADED_REGION_ELEMENT_ID);y&&g.element.removeChild(y)}},E=this;return this.renderedCamera.close().then(function(){return E.renderedCamera=null,E.element&&(E.element.removeChild(E.canvasElement),E.canvasElement=null),w(),E.qrRegion&&(E.qrRegion=null),E.context&&(E.context=null),d.execute(),E.hidePausedState(),E.isScanning=!1,Promise.resolve()})},h.prototype.scanFile=function(g,d){return this.scanFileV2(g,d).then(function(w){return w.decodedText})},h.prototype.scanFileV2=function(g,d){var w=this;if(!g||!(g instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Lr(d)&&(d=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(E,y){w.possiblyCloseLastScanImageFile(),w.clearElement(),w.lastScanImageFile=URL.createObjectURL(g);var N=new Image;N.onload=function(){var L=N.width,R=N.height,I=document.getElementById(w.elementId),P=I.clientWidth?I.clientWidth:Jn.DEFAULT_WIDTH,D=Math.max(I.clientHeight?I.clientHeight:R,Jn.FILE_SCAN_MIN_HEIGHT),ae=w.computeCanvasDrawConfig(L,R,P,D);if(d){var he=w.createCanvasElement(P,D,"qr-canvas-visible");he.style.display="inline-block",I.appendChild(he);var Re=he.getContext("2d");if(!Re)throw"Unable to get 2d context from canvas";Re.canvas.width=P,Re.canvas.height=D,Re.drawImage(N,0,0,L,R,ae.x,ae.y,ae.width,ae.height)}var te=Jn.FILE_SCAN_HIDDEN_CANVAS_PADDING,ee=Math.max(N.width,ae.width),He=Math.max(N.height,ae.height),Te=ee+2*te,fe=He+2*te,ve=w.createCanvasElement(Te,fe);I.appendChild(ve);var yt=ve.getContext("2d");if(!yt)throw"Unable to get 2d context from canvas";yt.canvas.width=Te,yt.canvas.height=fe,yt.drawImage(N,0,0,L,R,te,te,ee,He);try{w.qrcode.decodeRobustlyAsync(ve).then(function(We){E(B1.createFromQrcodeResult(We))}).catch(y)}catch(We){y("QR code parse error, error = ".concat(We))}},N.onerror=y,N.onabort=y,N.onstalled=y,N.onsuspend=y,N.src=URL.createObjectURL(g)})},h.prototype.clear=function(){this.clearElement()},h.getCameras=function(){return Pd.retrieve()},h.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},h.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},h.prototype.applyVideoConstraints=function(g){if(g){if(!f0.isMediaStreamConstraintsValid(g,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(g)},h.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},h.prototype.getSupportedFormats=function(g){var d=[ye.QR_CODE,ye.AZTEC,ye.CODABAR,ye.CODE_39,ye.CODE_93,ye.CODE_128,ye.DATA_MATRIX,ye.MAXICODE,ye.ITF,ye.EAN_13,ye.EAN_8,ye.PDF_417,ye.RSS_14,ye.RSS_EXPANDED,ye.UPC_A,ye.UPC_E,ye.UPC_EAN_EXTENSION];if(!g||typeof g=="boolean"||!g.formatsToSupport)return d;if(!Array.isArray(g.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(g.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var w=[],E=0,y=g.formatsToSupport;E<y.length;E++){var N=y[E];yd(N)?w.push(N):this.logger.warn("Invalid format: ".concat(N," passed in config, ignoring."))}if(w.length===0)throw"None of formatsToSupport match supported values.";return w},h.prototype.getUseBarCodeDetectorIfSupported=function(g){if(Lr(g))return!0;if(!Lr(g.useBarCodeDetectorIfSupported))return g.useBarCodeDetectorIfSupported!==!1;if(Lr(g.experimentalFeatures))return!0;var d=g.experimentalFeatures;return Lr(d.useBarCodeDetectorIfSupported)?!0:d.useBarCodeDetectorIfSupported!==!1},h.prototype.validateQrboxSize=function(g,d,w){var E=this,y=w.qrbox;this.validateQrboxConfig(y);var N=this.toQrdimensions(g,d,y),L=function(I){if(I<Jn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Jn.MIN_QR_BOX_SIZE,"px.")},R=function(I){return I>g&&(E.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),I=g),I};L(N.width),L(N.height),N.width=R(N.width)},h.prototype.validateQrboxConfig=function(g){if(typeof g!="number"&&typeof g!="function"&&(g.width===void 0||g.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},h.prototype.toQrdimensions=function(g,d,w){if(typeof w=="number")return{width:w,height:w};if(typeof w=="function")try{return w(g,d)}catch(E){throw new Error("qrbox config was passed as a function but it failed with unknown error"+E)}return w},h.prototype.setupUi=function(g,d,w){w.isShadedBoxEnabled()&&this.validateQrboxSize(g,d,w);var E=Lr(w.qrbox)?{width:g,height:d}:w.qrbox;this.validateQrboxConfig(E);var y=this.toQrdimensions(g,d,E);y.height>d&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var N=w.isShadedBoxEnabled()&&y.height<=d,L={x:0,y:0,width:g,height:d},R=N?this.getShadedRegionBounds(g,d,y):L,I=this.createCanvasElement(R.width,R.height),P={willReadFrequently:!0},D=I.getContext("2d",P);D.canvas.width=R.width,D.canvas.height=R.height,this.element.append(I),N&&this.possiblyInsertShadingElement(this.element,g,d,y),this.createScannerPausedUiElement(this.element),this.qrRegion=R,this.context=D,this.canvasElement=I},h.prototype.createScannerPausedUiElement=function(g){var d=document.createElement("div");d.innerText=Rs.scannerPaused(),d.style.display="none",d.style.position="absolute",d.style.top="0px",d.style.zIndex="1",d.style.background="rgba(9, 9, 9, 0.46)",d.style.color="#FFECEC",d.style.textAlign="center",d.style.width="100%",g.appendChild(d),this.scannerPausedUiElement=d},h.prototype.scanContext=function(g,d){var w=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(E){return g(E.text,B1.createFromQrcodeResult(E)),w.possiblyUpdateShaders(!0),!0}).catch(function(E){w.possiblyUpdateShaders(!1);var y=Rs.codeParseError(E);return d(y,u0.createFrom(y)),!1})},h.prototype.foreverScan=function(g,d,w){var E=this;if(this.shouldScan&&this.renderedCamera){var y=this.renderedCamera.getSurface(),N=y.videoWidth/y.clientWidth,L=y.videoHeight/y.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var R=this.qrRegion.width*N,I=this.qrRegion.height*L,P=this.qrRegion.x*N,D=this.qrRegion.y*L;this.context.drawImage(y,P,D,R,I,0,0,this.qrRegion.width,this.qrRegion.height);var ae=function(){E.foreverScanTimeout=setTimeout(function(){E.foreverScan(g,d,w)},E.getTimeoutFps(g.fps))};this.scanContext(d,w).then(function(he){!he&&g.disableFlip!==!0?(E.context.translate(E.context.canvas.width,0),E.context.scale(-1,1),E.scanContext(d,w).finally(function(){ae()})):ae()}).catch(function(he){E.logger.logError("Error happend while scanning context",he),ae()})}},h.prototype.createVideoConstraints=function(g){if(typeof g=="string")return{deviceId:{exact:g}};if(typeof g=="object"){var d="facingMode",w="deviceId",E={user:!0,environment:!0},y="exact",N=function(Re){if(Re in E)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(Re,"'")},L=Object.keys(g);if(L.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(L.length," keys");var R=Object.keys(g)[0];if(R!==d&&R!==w)throw"Only '".concat(d,"' and '").concat(w,"' ")+" are supported for 'cameraIdOrConfig'";if(R===d){var I=g.facingMode;if(typeof I=="string"){if(N(I))return{facingMode:I}}else if(typeof I=="object")if(y in I){if(N(I["".concat(y)]))return{facingMode:{exact:I["".concat(y)]}}}else throw"'facingMode' should be string or object with"+" ".concat(y," as key.");else{var P=typeof I;throw"Invalid type of 'facingMode' = ".concat(P)}}else{var D=g.deviceId;if(typeof D=="string")return{deviceId:D};if(typeof D=="object"){if(y in D)return{deviceId:{exact:D["".concat(y)]}};throw"'deviceId' should be string or object with"+" ".concat(y," as key.")}else{var ae=typeof D;throw"Invalid type of 'deviceId' = ".concat(ae)}}}var he=typeof g;throw"Invalid type of 'cameraIdOrConfig' = ".concat(he)},h.prototype.computeCanvasDrawConfig=function(g,d,w,E){if(g<=w&&d<=E){var y=(w-g)/2,N=(E-d)/2;return{x:y,y:N,width:g,height:d}}else{var L=g,R=d;return g>w&&(d=w/g*d,g=w),d>E&&(g=E/d*g,d=E),this.logger.log("Image downsampled from "+"".concat(L,"X").concat(R)+" to ".concat(g,"X").concat(d,".")),this.computeCanvasDrawConfig(g,d,w,E)}},h.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var g=document.getElementById(this.elementId);g&&(g.innerHTML="")},h.prototype.possiblyUpdateShaders=function(g){this.qrMatch!==g&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(d){d.style.backgroundColor=g?Jn.BORDER_SHADER_MATCH_COLOR:Jn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=g)},h.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},h.prototype.createCanvasElement=function(g,d,w){var E=g,y=d,N=document.createElement("canvas");return N.style.width="".concat(E,"px"),N.style.height="".concat(y,"px"),N.style.display="none",N.id=Lr(w)?"qr-canvas":w,N},h.prototype.getShadedRegionBounds=function(g,d,w){if(w.width>g||w.height>d)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(g-w.width)/2,y:(d-w.height)/2,width:w.width,height:w.height}},h.prototype.possiblyInsertShadingElement=function(g,d,w,E){if(!(d-E.width<1||w-E.height<1)){var y=document.createElement("div");y.style.position="absolute";var N=(d-E.width)/2,L=(w-E.height)/2;if(y.style.borderLeft="".concat(N,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderRight="".concat(N,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderTop="".concat(L,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderBottom="".concat(L,"px solid rgba(0, 0, 0, 0.48)"),y.style.boxSizing="border-box",y.style.top="0px",y.style.bottom="0px",y.style.left="0px",y.style.right="0px",y.id="".concat(Jn.SHADED_REGION_ELEMENT_ID),d-E.width<11||w-E.height<11)this.hasBorderShaders=!1;else{var R=5,I=40;this.insertShaderBorders(y,I,R,-R,null,0,!0),this.insertShaderBorders(y,I,R,-R,null,0,!1),this.insertShaderBorders(y,I,R,null,-R,0,!0),this.insertShaderBorders(y,I,R,null,-R,0,!1),this.insertShaderBorders(y,R,I+R,-R,null,-R,!0),this.insertShaderBorders(y,R,I+R,null,-R,-R,!0),this.insertShaderBorders(y,R,I+R,-R,null,-R,!1),this.insertShaderBorders(y,R,I+R,null,-R,-R,!1),this.hasBorderShaders=!0}g.append(y)}},h.prototype.insertShaderBorders=function(g,d,w,E,y,N,L){var R=document.createElement("div");R.style.position="absolute",R.style.backgroundColor=Jn.BORDER_SHADER_DEFAULT_COLOR,R.style.width="".concat(d,"px"),R.style.height="".concat(w,"px"),E!==null&&(R.style.top="".concat(E,"px")),y!==null&&(R.style.bottom="".concat(y,"px")),L?R.style.left="".concat(N,"px"):R.style.right="".concat(N,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(R),g.appendChild(R)},h.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},h.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},h.prototype.getTimeoutFps=function(g){return 1e3/g},h})(),Iu="data:image/svg+xml;base64,",Vd=Iu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Wd=Iu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Y1=Iu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Gd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",X1=(function(){function h(){}return h.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},h})(),Yd=(function(){function h(){this.data=X1.createDefault();var g=localStorage.getItem(h.LOCAL_STORAGE_KEY);g?this.data=JSON.parse(g):this.reset()}return h.prototype.hasCameraPermissions=function(){return this.data.hasPermission},h.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},h.prototype.setHasPermission=function(g){this.data.hasPermission=g,this.flush()},h.prototype.setLastUsedCameraId=function(g){this.data.lastUsedCameraId=g,this.flush()},h.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},h.prototype.reset=function(){this.data=X1.createDefault(),this.flush()},h.prototype.flush=function(){localStorage.setItem(h.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},h.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",h})(),Xd=(function(){function h(){this.infoDiv=document.createElement("div")}return h.prototype.renderInto=function(g){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=P1.poweredBy();var d=document.createElement("a");d.innerText="ScanApp",d.href="https://scanapp.org",d.target="new",d.style.color="white",this.infoDiv.appendChild(d);var w=document.createElement("br"),E=document.createElement("br");this.infoDiv.appendChild(w),this.infoDiv.appendChild(E);var y=document.createElement("a");y.innerText=P1.reportIssues(),y.href="https://github.com/mebjas/html5-qrcode/issues",y.target="new",y.style.color="white",this.infoDiv.appendChild(y),g.appendChild(this.infoDiv)},h.prototype.show=function(){this.infoDiv.style.display="block"},h.prototype.hide=function(){this.infoDiv.style.display="none"},h})(),Zd=(function(){function h(g,d){this.isShowingInfoIcon=!0,this.onTapIn=g,this.onTapOut=d,this.infoIcon=document.createElement("img")}return h.prototype.renderInto=function(g){var d=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Y1,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(w){return d.onHoverIn()},this.infoIcon.onmouseout=function(w){return d.onHoverOut()},this.infoIcon.onclick=function(w){return d.onClick()},g.appendChild(this.infoIcon)},h.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},h.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},h.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Gd,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Y1,this.infoIcon.style.opacity="0.6")},h})(),Qd=(function(){function h(){var g=this;this.infoDiv=new Xd,this.infoIcon=new Zd(function(){g.infoDiv.show()},function(){g.infoDiv.hide()})}return h.prototype.renderInto=function(g){this.infoDiv.renderInto(g),this.infoIcon.renderInto(g)},h})(),Kd=function(h,g,d,w){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function L(P){try{I(w.next(P))}catch(D){N(D)}}function R(P){try{I(w.throw(P))}catch(D){N(D)}}function I(P){P.done?y(P.value):E(P.value).then(L,R)}I((w=w.apply(h,g||[])).next())})},qd=function(h,g){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},w,E,y,N;return N={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function L(I){return function(P){return R([I,P])}}function R(I){if(w)throw new TypeError("Generator is already executing.");for(;N&&(N=0,I[0]&&(d=0)),d;)try{if(w=1,E&&(y=I[0]&2?E.return:I[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,I[1])).done)return y;switch(E=0,y&&(I=[I[0]&2,y.value]),I[0]){case 0:case 1:y=I;break;case 4:return d.label++,{value:I[1],done:!1};case 5:d.label++,E=I[1],I=[0];continue;case 7:I=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(I[0]===6||I[0]===2)){d=0;continue}if(I[0]===3&&(!y||I[1]>y[0]&&I[1]<y[3])){d.label=I[1];break}if(I[0]===6&&d.label<y[1]){d.label=y[1],y=I;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(I);break}y[2]&&d.ops.pop(),d.trys.pop();continue}I=g.call(h,d)}catch(P){I=[6,P],E=0}finally{w=y=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},Z1=(function(){function h(){}return h.hasPermissions=function(){return Kd(this,void 0,void 0,function(){var g,d,w,E;return qd(this,function(y){switch(y.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(g=y.sent(),d=0,w=g;d<w.length;d++)if(E=w[d],E.kind==="videoinput"&&E.label)return[2,!0];return[2,!1]}})})},h})(),Ii=(function(){function h(g){this.supportedScanTypes=this.validateAndReturnScanTypes(g)}return h.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},h.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},h.prototype.isCameraScanRequired=function(){for(var g=0,d=this.supportedScanTypes;g<d.length;g++){var w=d[g];if(h.isCameraScanType(w))return!0}return!1},h.isCameraScanType=function(g){return g===Ni.SCAN_TYPE_CAMERA},h.isFileScanType=function(g){return g===Ni.SCAN_TYPE_FILE},h.prototype.validateAndReturnScanTypes=function(g){if(!g||g.length===0)return Ar.DEFAULT_SUPPORTED_SCAN_TYPE;var d=Ar.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(g.length>d)throw"Max ".concat(d," values expected for ")+"supportedScanTypes";for(var w=0,E=g;w<E.length;w++){var y=E[w];if(!Ar.DEFAULT_SUPPORTED_SCAN_TYPE.includes(y))throw"Unsupported scan type ".concat(y)}return g},h})(),er=(function(){function h(){}return h.ALL_ELEMENT_CLASS="html5-qrcode-element",h.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",h.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",h.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",h.TORCH_BUTTON_ID="html5-qrcode-button-torch",h.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",h.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",h.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",h.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",h.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",h.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",h})(),Qr=(function(){function h(){}return h.createElement=function(g,d){var w=document.createElement(g);return w.id=d,w.classList.add(er.ALL_ELEMENT_CLASS),g==="button"&&w.setAttribute("type","button"),w},h})(),h0=function(h,g,d,w){function E(y){return y instanceof d?y:new d(function(N){N(y)})}return new(d||(d=Promise))(function(y,N){function L(P){try{I(w.next(P))}catch(D){N(D)}}function R(P){try{I(w.throw(P))}catch(D){N(D)}}function I(P){P.done?y(P.value):E(P.value).then(L,R)}I((w=w.apply(h,g||[])).next())})},g0=function(h,g){var d={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},w,E,y,N;return N={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function L(I){return function(P){return R([I,P])}}function R(I){if(w)throw new TypeError("Generator is already executing.");for(;N&&(N=0,I[0]&&(d=0)),d;)try{if(w=1,E&&(y=I[0]&2?E.return:I[0]?E.throw||((y=E.return)&&y.call(E),0):E.next)&&!(y=y.call(E,I[1])).done)return y;switch(E=0,y&&(I=[I[0]&2,y.value]),I[0]){case 0:case 1:y=I;break;case 4:return d.label++,{value:I[1],done:!1};case 5:d.label++,E=I[1],I=[0];continue;case 7:I=d.ops.pop(),d.trys.pop();continue;default:if(y=d.trys,!(y=y.length>0&&y[y.length-1])&&(I[0]===6||I[0]===2)){d=0;continue}if(I[0]===3&&(!y||I[1]>y[0]&&I[1]<y[3])){d.label=I[1];break}if(I[0]===6&&d.label<y[1]){d.label=y[1],y=I;break}if(y&&d.label<y[2]){d.label=y[2],d.ops.push(I);break}y[2]&&d.ops.pop(),d.trys.pop();continue}I=g.call(h,d)}catch(P){I=[6,P],E=0}finally{w=y=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},Q1=(function(){function h(g,d,w){this.isTorchOn=!1,this.torchCapability=g,this.buttonController=d,this.onTorchActionFailureCallback=w}return h.prototype.isTorchEnabled=function(){return this.isTorchOn},h.prototype.flipState=function(){return h0(this,void 0,void 0,function(){var g,d;return g0(this,function(w){switch(w.label){case 0:this.buttonController.disable(),g=!this.isTorchOn,w.label=1;case 1:return w.trys.push([1,3,,4]),[4,this.torchCapability.apply(g)];case 2:return w.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),g),[3,4];case 3:return d=w.sent(),this.propagateFailure(g,d),this.buttonController.enable(),[3,4];case 4:return[2]}})})},h.prototype.updateUiBasedOnLatestSettings=function(g,d){g===d?(this.buttonController.setText(d?mt.torchOffButton():mt.torchOnButton()),this.isTorchOn=d):this.propagateFailure(d),this.buttonController.enable()},h.prototype.propagateFailure=function(g,d){var w=g?mt.torchOnFailedMessage():mt.torchOffFailedMessage();d&&(w+="; Error = "+d),this.onTorchActionFailureCallback(w)},h.prototype.reset=function(){this.isTorchOn=!1},h})(),Jd=(function(){function h(g,d){this.onTorchActionFailureCallback=d,this.torchButton=Qr.createElement("button",er.TORCH_BUTTON_ID),this.torchController=new Q1(g,this,d)}return h.prototype.render=function(g,d){var w=this;this.torchButton.innerText=mt.torchOnButton(),this.torchButton.style.display=d.display,this.torchButton.style.marginLeft=d.marginLeft;var E=this;this.torchButton.addEventListener("click",function(y){return h0(w,void 0,void 0,function(){return g0(this,function(N){switch(N.label){case 0:return[4,E.torchController.flipState()];case 1:return N.sent(),E.torchController.isTorchEnabled()?(E.torchButton.classList.remove(er.TORCH_BUTTON_CLASS_TORCH_OFF),E.torchButton.classList.add(er.TORCH_BUTTON_CLASS_TORCH_ON)):(E.torchButton.classList.remove(er.TORCH_BUTTON_CLASS_TORCH_ON),E.torchButton.classList.add(er.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),g.appendChild(this.torchButton)},h.prototype.updateTorchCapability=function(g){this.torchController=new Q1(g,this,this.onTorchActionFailureCallback)},h.prototype.getTorchButton=function(){return this.torchButton},h.prototype.hide=function(){this.torchButton.style.display="none"},h.prototype.show=function(){this.torchButton.style.display="inline-block"},h.prototype.disable=function(){this.torchButton.disabled=!0},h.prototype.enable=function(){this.torchButton.disabled=!1},h.prototype.setText=function(g){this.torchButton.innerText=g},h.prototype.reset=function(){this.torchButton.innerText=mt.torchOnButton(),this.torchController.reset()},h.create=function(g,d,w,E){var y=new h(d,E);return y.render(g,w),y},h})(),$d=(function(){function h(g,d,w){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=d?"block":"none",g.appendChild(this.fileBasedScanRegion);var E=document.createElement("label");E.setAttribute("for",this.getFileScanInputId()),E.style.display="inline-block",this.fileBasedScanRegion.appendChild(E),this.fileSelectionButton=Qr.createElement("button",er.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(L){E.click()}),E.append(this.fileSelectionButton),this.fileScanInput=Qr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",E.appendChild(this.fileScanInput);var y=this;this.fileScanInput.addEventListener("change",function(L){if(!(L==null||L.target==null)){var R=L.target;if(!(R.files&&R.files.length===0)){var I=R.files,P=I[0],D=P.name;y.setImageNameToButton(D),w(P)}}});var N=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(N),this.fileBasedScanRegion.addEventListener("dragenter",function(L){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionActiveBorder(),L.stopPropagation(),L.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(L){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionDefaultBorder(),L.stopPropagation(),L.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(L){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionActiveBorder(),L.stopPropagation(),L.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(L){L.stopPropagation(),L.preventDefault(),y.fileBasedScanRegion.style.border=y.fileBasedScanRegionDefaultBorder();var R=L.dataTransfer;if(R){var I=R.files;if(!I||I.length===0)return;for(var P=!1,D=0;D<I.length;++D){var ae=I.item(D);if(ae){var he=/image.*/;if(ae.type.match(he)){P=!0;var Re=ae.name;y.setImageNameToButton(Re),w(ae),N.innerText=mt.dragAndDropMessage();break}}}P||(N.innerText=mt.dragAndDropMessageOnlyImages())}})}return h.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},h.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},h.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},h.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},h.prototype.createFileBasedScanRegion=function(){var g=document.createElement("div");return g.style.textAlign="center",g.style.margin="auto",g.style.width="80%",g.style.maxWidth="600px",g.style.border=this.fileBasedScanRegionDefaultBorder(),g.style.padding="10px",g.style.marginBottom="10px",g},h.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},h.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},h.prototype.createDragAndDropMessage=function(){var g=document.createElement("div");return g.innerText=mt.dragAndDropMessage(),g.style.fontWeight="400",g},h.prototype.setImageNameToButton=function(g){var d=20;if(g.length>d){var w=g.substring(0,8),E=g.length,y=g.substring(E-8,E);g="".concat(w,"....").concat(y)}var N=mt.fileSelectionChooseAnother()+" - "+g;this.fileSelectionButton.innerText=N},h.prototype.setInitialValueToButton=function(){var g=mt.fileSelectionChooseImage()+" - "+mt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=g},h.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},h.create=function(g,d,w){var E=new h(g,d,w);return E},h})(),eh=(function(){function h(g){this.selectElement=Qr.createElement("select",er.CAMERA_SELECTION_SELECT_ID),this.cameras=g,this.options=[]}return h.prototype.render=function(g){var d=document.createElement("span");d.style.marginRight="10px";var w=this.cameras.length;if(w===0)throw new Error("No cameras found");if(w===1)d.style.display="none";else{var E=mt.selectCamera();d.innerText="".concat(E," (").concat(this.cameras.length,")  ")}for(var y=1,N=0,L=this.cameras;N<L.length;N++){var R=L[N],I=R.id,P=R.label==null?I:R.label;(!P||P==="")&&(P=[mt.anonymousCameraPrefix(),y++].join(" "));var D=document.createElement("option");D.value=I,D.innerText=P,this.options.push(D),this.selectElement.appendChild(D)}d.appendChild(this.selectElement),g.appendChild(d)},h.prototype.disable=function(){this.selectElement.disabled=!0},h.prototype.isDisabled=function(){return this.selectElement.disabled===!0},h.prototype.enable=function(){this.selectElement.disabled=!1},h.prototype.getValue=function(){return this.selectElement.value},h.prototype.hasValue=function(g){for(var d=0,w=this.options;d<w.length;d++){var E=w[d];if(E.value===g)return!0}return!1},h.prototype.setValue=function(g){if(!this.hasValue(g))throw new Error("".concat(g," is not present in the camera list."));this.selectElement.value=g},h.prototype.hasSingleItem=function(){return this.cameras.length===1},h.prototype.numCameras=function(){return this.cameras.length},h.create=function(g,d){var w=new h(d);return w.render(g),w},h})(),th=(function(){function h(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Qr.createElement("input",er.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return h.prototype.render=function(g,d){this.zoomElementContainer.style.display=d?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",g.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var w=mt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(w),this.rangeText.style.marginRight="10px";var E=this;this.rangeInput.addEventListener("input",function(){return E.onValueChange()}),this.rangeInput.addEventListener("change",function(){return E.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},h.prototype.onValueChange=function(){var g=mt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(g),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},h.prototype.setValues=function(g,d,w,E){this.rangeInput.min=g.toString(),this.rangeInput.max=d.toString(),this.rangeInput.step=E.toString(),this.rangeInput.value=w.toString(),this.onValueChange()},h.prototype.show=function(){this.zoomElementContainer.style.display="block"},h.prototype.hide=function(){this.zoomElementContainer.style.display="none"},h.prototype.setOnCameraZoomValueChangeCallback=function(g){this.onChangeCallback=g},h.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},h.create=function(g,d){var w=new h;return w.render(g,d),w},h})(),$n;(function(h){h[h.STATUS_DEFAULT=0]="STATUS_DEFAULT",h[h.STATUS_SUCCESS=1]="STATUS_SUCCESS",h[h.STATUS_WARNING=2]="STATUS_WARNING",h[h.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})($n||($n={}));function nh(h){return{fps:h.fps,qrbox:h.qrbox,aspectRatio:h.aspectRatio,disableFlip:h.disableFlip,videoConstraints:h.videoConstraints}}function rh(h,g){return{formatsToSupport:h.formatsToSupport,useBarCodeDetectorIfSupported:h.useBarCodeDetectorIfSupported,experimentalFeatures:h.experimentalFeatures,verbose:g}}var ih=(function(){function h(g,d,w){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=g,this.config=this.createConfig(d),this.verbose=w===!0,!document.getElementById(g))throw"HTML Element with id=".concat(g," not found");this.scanTypeSelector=new Ii(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new c0(this.verbose),this.persistedDataManager=new Yd,d.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return h.prototype.render=function(g,d){var w=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(y,N){if(g)g(y,N);else{if(w.lastMatchFound===y)return;w.lastMatchFound=y,w.setHeaderMessage(mt.lastMatch(y),$n.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(y,N){d&&d(y,N)};var E=document.getElementById(this.elementId);if(!E)throw"HTML Element with id=".concat(this.elementId," not found");E.innerHTML="",this.createBasicLayout(E),this.html5Qrcode=new G1(this.getScanRegionId(),rh(this.config,this.verbose))},h.prototype.pause=function(g){(Lr(g)||g!==!0)&&(g=!1),this.getHtml5QrcodeOrFail().pause(g)},h.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},h.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},h.prototype.clear=function(){var g=this,d=function(){var w=document.getElementById(g.elementId);w&&(w.innerHTML="",g.resetBasicLayout(w))};return this.html5Qrcode?new Promise(function(w,E){if(!g.html5Qrcode){w();return}g.html5Qrcode.isScanning?g.html5Qrcode.stop().then(function(y){if(!g.html5Qrcode){w();return}g.html5Qrcode.clear(),d(),w()}).catch(function(y){g.verbose&&g.logger.logError("Unable to stop qrcode scanner",y),E(y)}):(g.html5Qrcode.clear(),d(),w())}):Promise.resolve()},h.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},h.prototype.applyVideoConstraints=function(g){return this.getHtml5QrcodeOrFail().applyVideoConstraints(g)},h.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},h.prototype.createConfig=function(g){return g?(g.fps||(g.fps=Ar.SCAN_DEFAULT_FPS),g.rememberLastUsedCamera!==!Ar.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(g.rememberLastUsedCamera=Ar.DEFAULT_REMEMBER_LAST_CAMERA_USED),g.supportedScanTypes||(g.supportedScanTypes=Ar.DEFAULT_SUPPORTED_SCAN_TYPE),g):{fps:Ar.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ar.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ar.DEFAULT_SUPPORTED_SCAN_TYPE}},h.prototype.createBasicLayout=function(g){g.style.position="relative",g.style.padding="0px",g.style.border="1px solid silver",this.createHeader(g);var d=document.createElement("div"),w=this.getScanRegionId();d.id=w,d.style.width="100%",d.style.minHeight="100px",d.style.textAlign="center",g.appendChild(d),Ii.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var E=document.createElement("div"),y=this.getDashboardId();E.id=y,E.style.width="100%",g.appendChild(E),this.setupInitialDashboard(E)},h.prototype.resetBasicLayout=function(g){g.style.border="none"},h.prototype.setupInitialDashboard=function(g){this.createSection(g),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},h.prototype.createHeader=function(g){var d=document.createElement("div");d.style.textAlign="left",d.style.margin="0px",g.appendChild(d);var w=new Qd;w.renderInto(d);var E=document.createElement("div");E.id=this.getHeaderMessageContainerId(),E.style.display="none",E.style.textAlign="center",E.style.fontSize="14px",E.style.padding="2px 10px",E.style.margin="4px",E.style.borderTop="1px solid #f6f6f6",d.appendChild(E)},h.prototype.createSection=function(g){var d=document.createElement("div");d.id=this.getDashboardSectionId(),d.style.width="100%",d.style.padding="10px 0px 10px 0px",d.style.textAlign="left",g.appendChild(d)},h.prototype.createCameraListUi=function(g,d,w){var E=this;E.showHideScanTypeSwapLink(!1),E.setHeaderMessage(mt.cameraPermissionRequesting());var y=function(){w||E.createPermissionButton(g,d)};G1.getCameras().then(function(N){E.persistedDataManager.setHasPermission(!0),E.showHideScanTypeSwapLink(!0),E.resetHeaderMessage(),N&&N.length>0?(g.removeChild(d),E.renderCameraSelection(N)):(E.setHeaderMessage(mt.noCameraFound(),$n.STATUS_WARNING),y())}).catch(function(N){E.persistedDataManager.setHasPermission(!1),w?w.disabled=!1:y(),E.setHeaderMessage(N,$n.STATUS_WARNING),E.showHideScanTypeSwapLink(!0)})},h.prototype.createPermissionButton=function(g,d){var w=this,E=Qr.createElement("button",this.getCameraPermissionButtonId());E.innerText=mt.cameraPermissionTitle(),E.addEventListener("click",function(){E.disabled=!0,w.createCameraListUi(g,d,E)}),d.appendChild(E)},h.prototype.createPermissionsUi=function(g,d){var w=this;if(Ii.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Z1.hasPermissions().then(function(E){E?w.createCameraListUi(g,d):(w.persistedDataManager.setHasPermission(!1),w.createPermissionButton(g,d))}).catch(function(E){w.persistedDataManager.setHasPermission(!1),w.createPermissionButton(g,d)});return}this.createPermissionButton(g,d)},h.prototype.createSectionControlPanel=function(){var g=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");g.appendChild(d);var w=document.createElement("div");w.id=this.getDashboardSectionCameraScanRegionId(),w.style.display=Ii.isCameraScanType(this.currentScanType)?"block":"none",d.appendChild(w);var E=document.createElement("div");E.style.textAlign="center",w.appendChild(E),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(w,E),this.renderFileScanUi(d)},h.prototype.renderFileScanUi=function(g){var d=Ii.isFileScanType(this.currentScanType),w=this,E=function(y){if(!w.html5Qrcode)throw"html5Qrcode not defined";Ii.isFileScanType(w.currentScanType)&&(w.setHeaderMessage(mt.loadingImage()),w.html5Qrcode.scanFileV2(y,!0).then(function(N){w.resetHeaderMessage(),w.qrCodeSuccessCallback(N.decodedText,N)}).catch(function(N){w.setHeaderMessage(N,$n.STATUS_WARNING),w.qrCodeErrorCallback(N,u0.createFrom(N))}))};this.fileSelectionUi=$d.create(g,d,E)},h.prototype.renderCameraSelection=function(g){var d=this,w=this,E=document.getElementById(this.getDashboardSectionCameraScanRegionId());E.style.textAlign="center";var y=th.create(E,!1),N=function(te){var ee=te.zoomFeature();if(ee.isSupported()){y.setOnCameraZoomValueChangeCallback(function(Te){ee.apply(Te)});var He=1;d.config.defaultZoomValueIfSupported&&(He=d.config.defaultZoomValueIfSupported),He=Cd(He,ee.min(),ee.max()),y.setValues(ee.min(),ee.max(),He,ee.step()),y.show()}},L=eh.create(E,g),R=document.createElement("span"),I=Qr.createElement("button",er.CAMERA_START_BUTTON_ID);I.innerText=mt.scanButtonStartScanningText(),R.appendChild(I);var P=Qr.createElement("button",er.CAMERA_STOP_BUTTON_ID);P.innerText=mt.scanButtonStopScanningText(),P.style.display="none",P.disabled=!0,R.appendChild(P);var D,ae=function(te){if(!te.torchFeature().isSupported()){D&&D.hide();return}D?D.updateTorchCapability(te.torchFeature()):D=Jd.create(R,te.torchFeature(),{display:"none",marginLeft:"5px"},function(ee){w.setHeaderMessage(ee,$n.STATUS_WARNING)}),D.show()};E.appendChild(R);var he=function(te){te||(I.style.display="none"),I.innerText=mt.scanButtonStartScanningText(),I.style.opacity="1",I.disabled=!1,te&&(I.style.display="inline-block")};if(I.addEventListener("click",function(te){I.innerText=mt.scanButtonScanningStarting(),L.disable(),I.disabled=!0,I.style.opacity="0.5",d.scanTypeSelector.hasMoreThanOneScanType()&&w.showHideScanTypeSwapLink(!1),w.resetHeaderMessage();var ee=L.getValue();w.persistedDataManager.setLastUsedCameraId(ee),w.html5Qrcode.start(ee,nh(w.config),w.qrCodeSuccessCallback,w.qrCodeErrorCallback).then(function(He){P.disabled=!1,P.style.display="inline-block",he(!1);var Te=w.html5Qrcode.getRunningTrackCameraCapabilities();d.config.showTorchButtonIfSupported===!0&&ae(Te),d.config.showZoomSliderIfSupported===!0&&N(Te)}).catch(function(He){w.showHideScanTypeSwapLink(!0),L.enable(),he(!0),w.setHeaderMessage(He,$n.STATUS_WARNING)})}),L.hasSingleItem()&&I.click(),P.addEventListener("click",function(te){if(!w.html5Qrcode)throw"html5Qrcode not defined";P.disabled=!0,w.html5Qrcode.stop().then(function(ee){d.scanTypeSelector.hasMoreThanOneScanType()&&w.showHideScanTypeSwapLink(!0),L.enable(),I.disabled=!1,P.style.display="none",I.style.display="inline-block",D&&(D.reset(),D.hide()),y.removeOnCameraZoomValueChangeCallback(),y.hide(),w.insertCameraScanImageToScanRegion()}).catch(function(ee){P.disabled=!1,w.setHeaderMessage(ee,$n.STATUS_WARNING)})}),w.persistedDataManager.getLastUsedCameraId()){var Re=w.persistedDataManager.getLastUsedCameraId();L.hasValue(Re)?(L.setValue(Re),I.click()):w.persistedDataManager.resetLastUsedCameraId()}},h.prototype.createSectionSwap=function(){var g=this,d=mt.textIfCameraScanSelected(),w=mt.textIfFileScanSelected(),E=document.getElementById(this.getDashboardSectionId()),y=document.createElement("div");y.style.textAlign="center";var N=Qr.createElement("span",this.getDashboardSectionSwapLinkId());N.style.textDecoration="underline",N.style.cursor="pointer",N.innerText=Ii.isCameraScanType(this.currentScanType)?d:w,N.addEventListener("click",function(){if(!g.sectionSwapAllowed){g.verbose&&g.logger.logError("Section swap called when not allowed");return}g.resetHeaderMessage(),g.fileSelectionUi.resetValue(),g.sectionSwapAllowed=!1,Ii.isCameraScanType(g.currentScanType)?(g.clearScanRegion(),g.getCameraScanRegion().style.display="none",g.fileSelectionUi.show(),N.innerText=w,g.currentScanType=Ni.SCAN_TYPE_FILE,g.insertFileScanImageToScanRegion()):(g.clearScanRegion(),g.getCameraScanRegion().style.display="block",g.fileSelectionUi.hide(),N.innerText=d,g.currentScanType=Ni.SCAN_TYPE_CAMERA,g.insertCameraScanImageToScanRegion(),g.startCameraScanIfPermissionExistsOnSwap()),g.sectionSwapAllowed=!0}),y.appendChild(N),E.appendChild(y)},h.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var g=this,d=this;if(this.persistedDataManager.hasCameraPermissions()){Z1.hasPermissions().then(function(w){if(w){var E=document.getElementById(d.getCameraPermissionButtonId());if(!E)throw g.logger.logError("Permission button not found, fail;"),"Permission button not found";E.click()}else d.persistedDataManager.setHasPermission(!1)}).catch(function(w){d.persistedDataManager.setHasPermission(!1)});return}},h.prototype.resetHeaderMessage=function(){var g=document.getElementById(this.getHeaderMessageContainerId());g.style.display="none"},h.prototype.setHeaderMessage=function(g,d){d||(d=$n.STATUS_DEFAULT);var w=this.getHeaderMessageDiv();switch(w.innerText=g,w.style.display="block",d){case $n.STATUS_SUCCESS:w.style.background="rgba(106, 175, 80, 0.26)",w.style.color="#477735";break;case $n.STATUS_WARNING:w.style.background="rgba(203, 36, 49, 0.14)",w.style.color="#cb2431";break;case $n.STATUS_DEFAULT:default:w.style.background="rgba(0, 0, 0, 0)",w.style.color="rgb(17, 17, 17)";break}},h.prototype.showHideScanTypeSwapLink=function(g){this.scanTypeSelector.hasMoreThanOneScanType()&&(g!==!0&&(g=!1),this.sectionSwapAllowed=g,this.getDashboardSectionSwapLink().style.display=g?"inline-block":"none")},h.prototype.insertCameraScanImageToScanRegion=function(){var g=this,d=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){d.innerHTML="<br>",d.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(w){d.innerHTML="<br>",d.appendChild(g.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Vd,this.cameraScanImage.alt=mt.cameraScanAltText()},h.prototype.insertFileScanImageToScanRegion=function(){var g=this,d=document.getElementById(this.getScanRegionId());if(this.fileScanImage){d.innerHTML="<br>",d.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(w){d.innerHTML="<br>",d.appendChild(g.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Wd,this.fileScanImage.alt=mt.fileScanAltText()},h.prototype.clearScanRegion=function(){var g=document.getElementById(this.getScanRegionId());g.innerHTML=""},h.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},h.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},h.prototype.getDashboardSectionSwapLinkId=function(){return er.SCAN_TYPE_CHANGE_ANCHOR_ID},h.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},h.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},h.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},h.prototype.getCameraPermissionButtonId=function(){return er.CAMERA_PERMISSION_BUTTON_ID},h.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},h.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},h.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},h})();const sh=({onScanSuccess:h})=>{const[g,d]=pe.useState(!1),w=pe.useRef(null),E="qr-reader";pe.useEffect(()=>()=>{w.current&&w.current.clear()},[]);const y=()=>{d(!0);const L={fps:10,qrbox:{width:250,height:250},rememberLastUsedCamera:!0};w.current=new ih(E,L,!1),w.current.render(R=>{w.current&&(w.current.clear(),d(!1),h(R))},R=>{console.error(R)})},N=()=>{w.current&&(w.current.clear(),d(!1))};return X.jsx("div",{className:"w-full",children:g?X.jsxs("div",{className:"space-y-4",children:[X.jsx("div",{id:E}),X.jsx("button",{onClick:N,className:"w-full py-2 px-4 bg-red-600 text-white font-medium rounded-md hover:bg-red-700 transition-colors",children:"Cancel Scan"})]}):X.jsxs("button",{onClick:y,className:"w-full py-3 px-4 bg-gray-800 text-white font-medium rounded-md hover:bg-gray-700 transition-colors flex items-center justify-center",children:[X.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[X.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm2 2V5h1v1H5zM3 13a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1H4a1 1 0 01-1-1v-3zm2 2v-1h1v1H5zM13 3a1 1 0 00-1 1v3a1 1 0 001 1h3a1 1 0 001-1V4a1 1 0 00-1-1h-3zm1 2v1h1V5h-1z",clipRule:"evenodd"}),X.jsx("path",{d:"M11 4a1 1 0 10-2 0v1a1 1 0 002 0V4zM10 7a1 1 0 011 1v1h2a1 1 0 110 2h-3a1 1 0 01-1-1V8a1 1 0 011-1zM16 9a1 1 0 100 2 1 1 0 000-2zM9 13a1 1 0 011-1h1a1 1 0 110 2v2a1 1 0 11-2 0v-3zM7 11a1 1 0 100-2H4a1 1 0 100 2h3zM17 13a1 1 0 01-1 1h-2a1 1 0 110-2h2a1 1 0 011 1zM16 17a1 1 0 100-2h-3a1 1 0 100 2h3z"})]}),"Scan to Connect"]})})},xu=({isOpen:h,onClose:g,title:d,children:w,actionButton:E})=>(pe.useEffect(()=>{const y=N=>{N.key==="Escape"&&g()};return h&&(document.addEventListener("keydown",y),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",y),document.body.style.overflow="auto"}},[h,g]),h?X.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[X.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:g}),X.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4 overflow-hidden",children:[X.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:X.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:d})}),X.jsx("div",{className:"px-6 py-4",children:w}),X.jsxs("div",{className:"px-6 py-3 bg-gray-50 flex justify-end space-x-2",children:[X.jsx("button",{onClick:g,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"}),E&&X.jsx("button",{onClick:E.onClick,className:"px-4 py-2 text-sm font-medium text-white bg-gray-800 rounded-md hover:bg-gray-700",children:E.text})]})]})]}):null),oh=({setIsAuthenticated:h})=>{const[g,d]=pe.useState(!1),[w,E]=pe.useState(!1),y=Au(),N=I=>{L()},L=I=>{d(!0),setTimeout(()=>{d(!1),E(!0),setTimeout(()=>{h(!0),E(!1),y("/main")},2e3)},1500)},R=()=>{d(!0),setTimeout(()=>{d(!1),E(!0),setTimeout(()=>{h(!0),E(!1),y("/main")},2e3)},1500)};return X.jsxs("div",{className:"min-h-[calc(100vh-96px)] flex items-center justify-center px-4 py-12",children:[X.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg overflow-hidden",children:[X.jsxs("div",{className:"bg-gradient-to-r from-gray-800 to-gray-600 px-6 py-8 text-center",children:[X.jsx("img",{src:"/logo.jpg",alt:"Hyde Park Design Logo",className:"h-20 mx-auto mb-4"}),X.jsx("h1",{className:"text-2xl font-bold text-white",children:"Welcome to Hyde Park Design"}),X.jsx("p",{className:"text-gray-200 mt-2",children:"Bespoke Jewellers Hatton Garden"})]}),X.jsxs("div",{className:"px-6 py-8",children:[X.jsxs("div",{className:"mb-8 text-center",children:[X.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Our Story. Our Heritage. Our Family's Passion"}),X.jsx("p",{className:"text-gray-600 mb-6",children:"Crafted into every piece of fine jewellery we create. Scan the QR code to explore our collection."})]}),X.jsxs("div",{className:"space-y-4",children:[X.jsx(sh,{onScanSuccess:N}),X.jsxs("div",{className:"relative",children:[X.jsx("div",{className:"absolute inset-0 flex items-center",children:X.jsx("div",{className:"w-full border-t border-gray-300"})}),X.jsx("div",{className:"relative flex justify-center text-sm",children:X.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or"})})]}),X.jsx("button",{onClick:R,className:"w-full py-3 px-4 bg-gray-800 text-white font-medium rounded-md hover:bg-gray-700 transition-colors",children:"Demo Access"})]})]})]}),X.jsx(xu,{isOpen:g,onClose:()=>d(!1),title:"Connection Successful",children:X.jsxs("div",{className:"text-center py-4",children:[X.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:X.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),X.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Successfully Connected!"}),X.jsx("div",{className:"mt-4 flex justify-center",children:X.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-800"})})]})}),X.jsx(xu,{isOpen:w,onClose:()=>E(!1),title:"Secure Connection Established",children:X.jsxs("div",{className:"text-center py-4",children:[X.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:X.jsx("svg",{className:"h-10 w-10 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),X.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Your Connection is Secure"}),X.jsx("p",{className:"text-gray-600 mb-4",children:"You can now safely browse our exclusive jewellery collection"}),X.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-green-600",children:[X.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:X.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),X.jsx("span",{className:"font-medium",children:"Protected Connection"})]}),X.jsx("div",{className:"mt-4 flex justify-center",children:X.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-800"})})]})})]})},ah=({setHasPurchased:h})=>{const[g,d]=pe.useState(!1),w=()=>{window.open("https://hydeparkdesign.com","_blank")},E=()=>{d(!0)},y=()=>{h(!0),d(!1),setTimeout(()=>{window.location.href="https://www.google.com/search?sca_esv=e4e3b1ba951674fc&rlz=1C1CHBF_enPK1085PK1085&sxsrf=AE3TifM6r7R7HDkhVRqVIlto7XE5uJlEEA:1761055604964&si=AMgyJEuzsz2NflaaWzrzdpjxXXRaJ2hfdMsbe_mSWso6src8s4FGKLSsFGcPOmu2AyfyzLMi2T1f1j9sX8ci259lK9JreplVB5PEoEo8W81KxrIoRtQ3iFIJ7MWbN2_hcJPGNPzmwfWMG_bcuyVbvYaMG3s0-GtKqhUjU0ZpAswJIdnQS93CtMc1Cb0QuERA2qLqvPdwl-3g&q=Hyde+Park+Design+%7C+Bespoke+Jewellers+Hatton+Garden+Reviews&sa=X&ved=2ahUKEwit1I2uu7WQAxXSdUEAHTZbEYsQ0bkNegQINBAE&biw=1536&bih=730&dpr=1.25"},500)};return X.jsxs("div",{className:"w-full min-h-screen bg-slate-900",children:[X.jsxs("div",{className:"bg-slate-800 shadow-md px-6 py-4 flex justify-between items-center border-b border-slate-700",children:[X.jsxs("div",{children:[X.jsx("h1",{className:"text-xl font-bold text-white",children:"Hyde Park Design"}),X.jsx("p",{className:"text-sm text-slate-300",children:"Bespoke Jewellers Hatton Garden"})]}),X.jsxs("button",{onClick:E,className:"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors shadow-lg flex items-center space-x-2",children:[X.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),X.jsx("span",{children:"Complete Purchase"})]})]}),X.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-16",children:[X.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-xl overflow-hidden border border-slate-700",children:[X.jsxs("div",{className:"bg-slate-700 px-8 py-12 text-white text-center",children:[X.jsx("svg",{className:"h-16 w-16 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),X.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Welcome to Hyde Park Design"}),X.jsx("p",{className:"text-slate-300 text-lg",children:"Exquisite Bespoke Jewellery in Hatton Garden"})]}),X.jsxs("div",{className:"p-8",children:[X.jsx("div",{className:"bg-slate-700 border-l-4 border-slate-500 p-6 mb-6",children:X.jsxs("div",{className:"flex items-start",children:[X.jsx("svg",{className:"h-6 w-6 text-slate-300 mr-3 flex-shrink-0 mt-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-semibold text-white mb-1",children:"Visit Our Complete Website"}),X.jsx("p",{className:"text-slate-300 text-sm",children:"To explore our full collection, view detailed product information, and browse our bespoke jewellery services, please visit our official website."})]})]})}),X.jsxs("div",{className:"space-y-4 mb-8",children:[X.jsxs("div",{className:"flex items-center",children:[X.jsx("svg",{className:"h-5 w-5 text-green-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),X.jsx("span",{className:"text-slate-300",children:"Browse our exclusive jewellery collections"})]}),X.jsxs("div",{className:"flex items-center",children:[X.jsx("svg",{className:"h-5 w-5 text-green-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),X.jsx("span",{className:"text-slate-300",children:"Discover our bespoke design services"})]}),X.jsxs("div",{className:"flex items-center",children:[X.jsx("svg",{className:"h-5 w-5 text-green-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),X.jsx("span",{className:"text-slate-300",children:"View detailed product specifications"})]}),X.jsxs("div",{className:"flex items-center",children:[X.jsx("svg",{className:"h-5 w-5 text-green-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),X.jsx("span",{className:"text-slate-300",children:"Complete your purchase securely"})]})]}),X.jsxs("button",{onClick:w,className:"w-full px-8 py-4 bg-slate-600 text-white font-bold text-lg rounded-xl hover:bg-slate-500 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-3",children:[X.jsx("span",{children:"Click Here to Visit Our Complete Website"}),X.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),X.jsx("p",{className:"text-center text-sm text-slate-400 mt-4",children:"Opens in a new window • Secure connection"})]})]}),X.jsx("div",{className:"mt-8 text-center text-slate-400",children:X.jsx("p",{className:"text-sm",children:'After completing your purchase, use the "Complete Purchase" button above to leave a review'})})]}),X.jsx(xu,{isOpen:g,onClose:()=>d(!1),title:"Complete Your Purchase",actionButton:{text:"Proceed to Review",onClick:y},children:X.jsxs("div",{className:"py-4",children:[X.jsx("div",{className:"mb-4 p-4 bg-green-50 rounded-lg border border-green-200",children:X.jsxs("div",{className:"flex items-center",children:[X.jsx("svg",{className:"h-6 w-6 text-green-600 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),X.jsxs("div",{children:[X.jsx("h4",{className:"font-semibold text-green-900",children:"Purchase Confirmed"}),X.jsx("p",{className:"text-sm text-green-700",children:"Thank you for choosing Hyde Park Design"})]})]})}),X.jsx("p",{className:"text-gray-700 mb-4",children:"Your purchase has been processed successfully. We would greatly appreciate if you could share your experience with us."}),X.jsx("p",{className:"text-gray-700 mb-4",children:'Click "Proceed to Review" to be redirected to our Google Reviews page where you can leave your feedback.'}),X.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4",children:X.jsxs("div",{className:"flex",children:[X.jsx("div",{className:"flex-shrink-0",children:X.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:X.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),X.jsx("div",{className:"ml-3",children:X.jsx("p",{className:"text-sm text-amber-700",children:"Your feedback helps us maintain our commitment to excellence and assists other customers in discovering our craftsmanship."})})]})})]})})]})},lh=()=>X.jsx("header",{className:"bg-white shadow-md py-4 px-6",children:X.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[X.jsx(R1,{to:"/",className:"flex items-center",children:X.jsx("img",{src:"https://uploadthingy.s3.us-west-1.amazonaws.com/hP4KBzn8GTUPQkUCPudXkY/logo2.png",alt:"Logo",className:"h-16"})}),X.jsx(R1,{to:"/",className:"flex items-center",children:X.jsx("img",{src:"https://uploadthingy.s3.us-west-1.amazonaws.com/oZ6pbdZ31QdUDzhxyaC8WN/logo1.jpg",alt:"Hyde Park Design Logo",className:"h-16"})})]})});function uh(){const[h,g]=pe.useState(!1),[d,w]=pe.useState(!1);return X.jsx(pd,{children:X.jsxs("div",{className:"min-h-screen bg-gray-50",children:[X.jsx(lh,{}),X.jsxs(ld,{children:[X.jsx(du,{path:"/",element:X.jsx(oh,{setIsAuthenticated:g})}),X.jsx(du,{path:"/main",element:h?X.jsx(ah,{setHasPurchased:w}):X.jsx(od,{to:"/"})})]})]})})}gf.render(X.jsx(uh,{}),document.getElementById("root"));
